{"version":3,"file":"js/app.b18ebd5a.js","mappings":"24CAiJA,IAAIA,KAAY,KAEhB,MAAMC,QAAU,aAEVC,aAAe,YAEfC,aAAe,SAEfC,QAAU,OAEVC,SAAW,aAEXC,OAAS,+BAETC,UAAY,MAEZC,YAAc,MAIdC,YAAyB,CAC7B,WACA,UACA,aACA,kBACA,mBACA,MACA,gBACA,YACA,kBACA,YACA,sBACA,YACA,cACA,iBACA,iBACA,WACA,UACA,kBACA,eACA,mBAGIC,YAAc,eAEdC,QACHC,GACD,CAACC,EAAcC,IACf,CAACC,EAAUC,EAA8B,MACvCJ,EAAMK,MAAMhB,QAAS,CAAEY,OAAMC,MAAKC,SAAQC,KAGxCE,UACHN,GAAe,CAACC,EAAcC,IAAiBC,IAC9CH,EAAMK,MAAMf,aAAc,CAAEW,OAAMC,MAAKC,SAG9BI,WAAa,SAAUC,EAAcC,GAChD,IAAIC,EAAa,KACjB,OAAO,YAAaC,GAClB,IAAIX,EACAU,GAAOE,aAAaF,GACxBA,EAAQG,YAAW,KACjBJ,EAAGK,MAAMd,EAAOW,GAChBC,aAAaF,KACZF,KAIDO,SAAW,CACfC,MAAO,CACLC,UAAW,CACThB,KAAMiB,OACNC,QAAS,KAAM,KAEjBC,QAAS,CACPnB,KAAMiB,OACNC,QAAS,KAAM,KAEjBE,YAAa,CACXpB,KAAMqB,MACNH,QAAS,IAAM,IAEjBI,aAAc,CACZtB,KAAMuB,QACNL,SAAS,GAEXM,aAAc,CACZxB,KAAMyB,OACNP,QAAS,OAGbQ,SACE,MAAMC,EAASC,KACTC,EAASF,EAAOX,UAChBc,EAAWH,EAAOP,YAClBW,EAAQJ,EAAOL,aACfE,EAAeG,EAAOH,aACtBQ,EAAc,CAClBC,QAAS,IACPC,eAAeC,KAAK,CAClBC,SAAU,CAACC,qDAAAA,QACRC,EACHC,QAASC,EAAW,aAExBC,SAAU,IACRP,eAAeC,KAAK,CAClBC,SAAU,CAACM,qDAAAA,QACRJ,EACHC,QAASC,EAAW,cAExBG,OAAQ,IACNT,eAAeC,KAAK,CAClBC,SAAU,CAACQ,qDAAAA,QACRN,EACHC,QAASC,EAAW,aAGpBK,EAAiB,IACrBxB,MAAMyB,QAAQhB,GACVA,EAASiB,KAAKC,GACZA,KAAchB,EAAcA,EAAYgB,KAAgB,KAE1D,GACAC,EAAa,KACjBC,EAAAA,iCAAAA,GAAEvD,YAAa,CACbwD,IAAKxB,EAAOR,QAAQiC,IACpBC,OAAQ,OACLxB,EACHyB,MAAO,8BAELhB,EAAW,CACfiB,KAAM,GACNC,MAAO,QAGHhB,EAAcxC,GAAiB,KACnC2B,EAAOvB,MAAM,WAAYJ,EAAMwB,IAE3BiC,EAAqB,KACzBP,EAAAA,iCAAAA,GACExD,UACA,CACE4D,MAAO,kCAETT,KAGJ,IAAIa,EAAc,KASlB,OARAA,GAASR,EAAAA,iCAAAA,GACPxD,UACA,CACE4D,MAAO,gCACPK,MAAO,iBAET5B,GAASD,EAAS8B,OAAS,EAAI,CAACX,IAASQ,KAAmB,CAACR,MAExDS,IAILG,aAAe,CACnB9C,MAAO,CACL+C,WAAY,CACV9D,KAAMiB,OACNC,QAAS,KAAM,KAEjB6C,QAAS,CACP/D,KAAMqB,MACNH,QAAS,IAAM,KAGnBQ,SACE,MAAMC,EAASC,KACTC,EAASF,EAAOmC,WACtB,IAAIE,EAAOrC,EAAOoC,QACb1C,MAAMyB,QAAQkB,KACjBA,EAAO,GACPC,QAAQC,MAAM,oBAEhB,MAAMC,EAAQ,SAAUnE,EAAcoE,GACpCzC,EAAOvB,MAAMJ,EAAMoE,IAErB,OAAOlB,EAAAA,iCAAAA,GACLxD,UACA,CACE4D,MAAO7D,QAETuE,EAAKjB,IACDiB,EAAKjB,KAAI,CAACsB,EAAqBD,KACtBlB,EAAAA,iCAAAA,GAAEpC,SAAU,CACjBK,QAASkD,EACTrD,UAAWa,EAAOyC,WAAa,GAC/BlD,YAAaS,EAAOC,SACpBR,aACgC,kBAAvBO,EAAOP,cACVO,EAAOP,aAEbE,aAAc4C,EACdG,WAAYJ,MAGhB,MAqBJjC,eAAiB,CACrBsC,OAAQ,CAAC3C,EAA2B4C,KACXA,EAAMC,KAAK,SAAU7C,EAAO5B,KAAnD,MACML,EAAc6E,EAAME,iBAAiB9C,GAC3C,OAAO4C,EAAMG,gBACX1B,EAAAA,iCAAAA,GAAE2B,0CAAAA,GAAU,IACPjF,KACA6E,EAAMK,eAAejD,EAAQ4C,GAChCM,WAAYN,EAAMO,cAAcnD,KAElCA,EACA4C,IAGJQ,KAAM,CAACpD,EAA2B4C,KAChC,MAAMS,EAAiBT,EAAMC,KAAK,SAAU7C,EAAO5B,KAC7CL,EAAc6E,EAAME,iBAAiB9C,GAC3C,OAAO4C,EAAMG,gBACX1B,EAAAA,iCAAAA,GAAEiC,0CAAAA,GAAc,IACXvF,KACA6E,EAAMK,eAAejD,EAAQ4C,GAChCM,WAAYN,EAAMO,cAAcnD,GAChC,sBAAuBvB,WAAW,IAAI,SAAUJ,GAC9CuE,EAAMW,eAAelF,EAAK2B,EAAOwD,iBAAmBxD,EAAO5B,KAC3DiF,EAAUhF,QAGd2B,EACA4C,IAGJa,KAAM,CAACzD,EAA2B4C,KAChC,MAAM7E,EAAc6E,EAAME,iBAAiB9C,GACrCqD,EAAiBT,EAAMC,KAAK,SAAU7C,EAAO5B,KACnD,OAAOwE,EAAMG,gBACX1B,EAAAA,iCAAAA,GAAEqC,0CAAAA,EAAc,IACX3F,KACA6E,EAAMK,eAAejD,EAAQ4C,GAChCM,WAAYN,EAAMO,cAAcnD,GAChC,sBAAuBvB,WAAW,IAAI,SAAUJ,GAC9CuE,EAAMW,eAAelF,EAAK2B,EAAOwD,iBAAmBxD,EAAO5B,KAC3DiF,EAAUhF,QAGd2B,EACA4C,IAYJV,QAAS,CAAClC,EAA2B4C,KACnC,MAAMe,EAAYf,EAAMpE,UAAU,YAAawB,EAAO4D,iBAEtD,OAAOhB,EAAMG,gBACX1B,EAAAA,iCAAAA,GAAEW,aAAc,CACdE,QAASU,EAAMiB,kBAAkB7D,EAAO8D,iBACxC7B,WAAYjC,KACTA,EACH+D,UAAW,SAAUxB,GACnBoB,EAAK,CAAExF,KAAM,UAAWC,IAAK4B,EAAO5B,IAAKmE,WAE3CyB,SAAU,SAAUzB,GAClBoB,EAAK,CAAExF,KAAM,SAAUC,IAAK4B,EAAO5B,IAAKmE,WAE1C0B,WAAY,SAAU1B,GACpBoB,EAAK,CAAExF,KAAM,WAAYC,IAAK4B,EAAO5B,IAAKmE,aAG9CvC,EACA4C,IAGJsB,OAAQ,CAAClE,EAA2B4C,KAElC,MAAMuB,EAA6B,UAAlBnE,EAAOoE,QAClBrG,EAAc6E,EAAME,iBAAiB9C,GAC3C,IAAIqE,EAAerE,EAAOsE,OACtBD,GACE7E,MAAMyB,QAAQoD,YACTrE,EAAOsE,OACdD,EAAUA,EAAQE,KAAK,MAI3B,MAAMC,EAAgB,SAAUxE,GAC9B,MAAMyE,EAAiBzE,EAAOwD,iBAAmBxD,EAAO5B,KAClD,KAAEsG,EAAF,IAAQnD,GAAQvB,EAAO2E,OAAS,CAAED,KAAM,OAAQnD,IAAK,QAC1DqB,EAAM1E,MAAM0G,SAASH,IAAmB,IAAII,SAASC,IAC9C,SAAUA,GAAW,QAASA,IAClCA,EAAKJ,KAAOI,EAAKJ,GACjBI,EAAKvD,IAAMuD,EAAKvD,OAGpB,MAAMwD,EAAc,KAClB,KAAIN,KAAkB7B,EAAM1E,MAAM0G,UAShC,OADAxC,QAAQ4C,KAAK,sBAAwBP,GAC9B,GARP,IACE,OAAO7B,EAAM1E,MAAM0G,SAASH,GAC5B,MAAOpC,GAEP,OADAD,QAAQ4C,KAAK,sBAAwBP,GAC9B,KAOb,MAAO,CACLQ,SAAUF,MAIRG,EAAcf,EAChB,CACE1C,MAAO,gCACJ+C,EAAcxE,MACd4C,EAAMK,eAAejD,EAAQ4C,IAElC,IACKA,EAAMK,eAAejD,EAAQ4C,MAE7B4B,EAAcxE,MACdjC,GAET,OAAO6E,EAAMG,gBACX1B,EAAAA,iCAAAA,GACE8D,0CAAAA,GACA,CACEC,cAAgBC,IACdjD,QAAQkD,IAAID,OAEXH,EACHZ,OAAQD,IAEV,IAAOF,EAAW,GAAKvB,EAAM2C,kBAAkBvF,KAEjDA,EACA4C,IAGJtC,KAAON,IACL,IAAIO,EAAkB,GACtB,MAAMiF,EAAcC,iBAAiBzF,GACrC,IACEO,GAAYP,EAAOO,UAAY,IAAIW,KAAKwE,IAC/BrE,EAAAA,iCAAAA,GAAEqE,KAEX,MAAOrD,GAEP9B,EAAW,GAEb,OAAOc,EAAAA,iCAAAA,GAAEsE,0CAAAA,GAAQ,IAAKH,IAAe,IAAMjF,KAE7CqF,KAAM,CAAC5F,EAA2B4C,KAChC,IAAIM,EAAY2C,EACZjD,GAASA,EAAMO,gBACjBD,EAAaN,GAASA,EAAMO,cAAcnD,GAC1C6F,EAAWjD,EAAMK,eAAejD,EAAQ4C,IAE1C,MAAM4C,EAAc5C,EAAME,iBAAiB9C,GAC3C,OAAO4C,EAAMG,gBACX1B,EAAAA,iCAAAA,GACE3D,QACA,IACKmI,KACAL,GAEL,CAAC5C,EAAMkD,gBAAgB9F,EAAO+F,YAAc7C,GAAc,KAE5DlD,EACA4C,IAGJoD,UAAW,CAACC,EAA4BrD,KAGtC,MAAM7E,EAAc6E,EAAME,iBAAiBmD,GAC3C,OAAOrD,EAAMG,gBACX1B,EAAAA,iCAAAA,GACE,MACA,IACKuB,EAAMK,eAAegD,EAASrD,MAC9B7E,GAEL6E,EAAM2C,kBAAkBU,IAE1BA,EACArD,IAGJsD,YAAa,CAAClG,EAA2B4C,IAChCA,EAAMG,gBACX1B,EAAAA,iCAAAA,GAAE8E,0CAAAA,GAAe,CACfjD,WAAYN,EAAMO,cAAcnD,MAC7B4C,EAAMK,eAAejD,EAAQ4C,MAC7B5C,IAELA,GAGJoG,MAAO,CAACpG,EAA2B4C,KACjC,MAAMyD,EAAcrG,EAAOO,SAE3B,cADOP,EAAOO,SACPqC,EAAMG,gBACX1B,EAAAA,iCAAAA,GACEiF,2CAAAA,GACA,CACEpD,WAAYN,EAAMO,cAAcnD,GAEhCU,QAASjC,WAAW,IAAI,KACtBmE,EAAMW,eACJvD,EAAOuG,MACPvG,EAAOwD,iBAAmBxD,EAAO5B,WAGlC4B,IAEL,IAAMqG,IAERrG,EACA4C,IAGJ4D,SAAU,CAACxG,EAA2B4C,KACpC,MAAMyD,EAAcrG,EAAOO,SAE3B,cADOP,EAAOO,SACPqC,EAAMG,gBACX1B,EAAAA,iCAAAA,GACEoF,2CAAAA,GACA,CACEvD,aAAY1D,MAAMyB,QAAQ2B,EAAMO,cAAcnD,KAC1C4C,EAAMO,cAAcnD,GAAQ0G,QAAQ1G,EAAOuG,QAAU,EAGzD7F,QAASjC,WAAW,IAAI,WACtB,MAAMkI,EAAY/D,EAAMO,cAAcnD,GAChC4G,EAAWD,EAAUD,QAAQ1G,EAAOuG,OACtCK,GAAY,EACdD,EAAUE,OAAOD,EAAU,GAE3BD,EAAUG,KAAK9G,EAAOuG,aAGvBvG,IAEL,IAAMqG,IAERrG,EACA4C,IAGJmE,MAAO,CAAC/G,EAA2B4C,KAEjC,GAAsB,UAAlB5C,EAAOoE,QACT,OAAO/D,eAAe6F,YAAYlG,EAAQ4C,GAG5C,MAAM4C,EAAc5C,EAAME,iBAAiB9C,GAC3C,OAAO4C,EAAMG,gBACX1B,EAAAA,iCAAAA,GAAE2F,2CAAAA,GAAS,CACT9D,WAAYN,EAAMO,cAAcnD,MAmB7B4C,EAAMK,eAAejD,EAAQ4C,GAChCqE,YAAajH,EAAOiH,YACpB9I,KAAM6B,EAAOoE,QAAUpE,EAAOoE,QAAU,UACrCoB,IAELxF,EACA4C,IAGJsE,OAAQ,CAAClH,EAA2B4C,KAClC,MAAMuE,EAAevE,EAAME,iBAAiB9C,GACtCiG,EAAUjG,EAAOiG,QACjBmB,EAAgB,GAChBC,EAAWrH,EAAOsH,gBAAkB,QACpCC,EAAWvH,EAAOwH,gBAAkB,QACpCC,EAAS,CAACC,EAA8B,OAC3CA,GAAO,IAAI7C,SAASC,IACnB,MAAM6C,GAActG,EAAAA,iCAAAA,GAAEuG,2CAAAA,GAAU,CAC9BC,MAAO/C,EAAKyC,GACZhB,MAAOzB,EAAKuC,KAEdD,EAAON,KAAKa,OAKhB,OAFAF,EAAO7E,EAAMkF,iBAAiB7B,IAEvBrD,EAAMG,gBACX1B,EAAAA,iCAAAA,GACE0G,2CAAAA,GACA,CACE7E,WAAYN,EAAMO,cAAcnD,MAC7B4C,EAAMK,eAAejD,EAAQ4C,MAC7BuE,IAEL,IAAMC,IAERpH,EACA4C,IAGJoF,OAAQ,CAAC/B,EAA4BrD,KACnC,MAAM4C,EAAc5C,EAAME,iBAAiBmD,GAC3C,OAAOrD,EAAMG,gBACX1B,EAAAA,iCAAAA,GACE4G,2CAAAA,GACA,IACKzC,EACH9E,QAAS,IAAMkC,EAAMpE,UAAU,YAAayH,EAAQ7H,IAArCwE,KAEjB,IAAMA,EAAM2C,kBAAkBU,KAEhCA,EACArD,IAGJsF,UAAW,CACTjC,EACArD,EACAuF,KAEA,MAAMC,EAAsB,GAC5B,IACIC,EADAC,EAAqB,KAErBH,GACFG,EAAgBH,EAAaI,eAC7BF,EAAWF,EAAaK,WAExBF,EAAgBG,2CAAAA,GAGlB,MAAMC,EAAS9F,EAAM+F,YAMrB,OALA1C,EAAQpB,SAAQ,CAACC,EAAMvC,KACrB6F,EAAatB,KACXzG,eAAeuI,cAAc9D,EAAMlC,EAAOL,EAAO8F,QAG9ChH,EAAAA,iCAAAA,GACLiH,EACA,CAIEO,MAAOjG,EAAM1E,MAAM2K,MACnBC,MAAOlG,EAAM1E,MAAM0G,SACnBmE,IAAKpL,YAEF+K,GAGLL,EACID,EACA,IACyB,GAAvBA,EAAarG,QACTV,EAAAA,iCAAAA,GACE,MACA,CACEI,MACE,0DAEJ,CAAC,YAEH2G,IAGdQ,cAAe,CACb5I,EACA4C,EACAL,EACAyG,KAEA,MAAMpF,EAAkB5D,EAAO4D,iBAAmB,YAC5CqF,EAAmBjJ,EAAOiJ,iBAC1B7K,EAAM4B,EAAO5B,IACb8K,EAAWtG,EAAMuG,mBAAmBvF,GAC1C,GAAyB,QAArBsF,EAASE,SAAoB,CAC/B,IAAIF,EAAS9E,WAAW8E,EAAS9E,WAAW/D,gBAK1C,OAAK6I,EAAS9E,SACRpE,EAAOqJ,UACFzG,EAAM0G,iBAAiBtJ,GAG3BK,eAAe2F,UACpB,CACEzF,SAAU,CACR2I,EAAS9E,QACL,UAAY8E,EAAS9E,QACrB,aAGRxB,GAhBFvC,eAAe6I,EAAS9E,SAASpE,EAAQ4C,GAqB7C,MAAM2G,EAAkB,CACtBC,EACAvD,EACArD,KAwBA,GAAI4G,KAAUnJ,eAAgB,CAE5B,MAAMoJ,EAAwB,GACxBC,EAAezD,EAAQ0D,gBAC7B,OAAInK,MAAMyB,QAAQyI,IAA4B,SAAXF,UAC1BvD,EAAQ0D,gBACfD,EAAa7E,SAAS7E,IACpB,MAAMkJ,EAAWlJ,EAAO4D,gBACpBhB,EAAMuG,mBAAmBnJ,EAAO4D,iBAChC,GACA5D,EAAO4D,kBAET4F,EAASN,EAASE,UAIpBK,EAAe3C,KACbzG,eAAemJ,GACb,CAAEpL,IAAK6H,EAAQ7H,OAAQ4B,KAAWkJ,GAClCtG,OAKC6G,GAGF,CAACpJ,eAAemJ,GAAQ,IAAKvD,KAAYiD,GAAYtG,IAG5D,MAAO,IAIL4C,EAAc5C,EAAME,iBAAiB9C,GACrC4J,EAAoB,CAACC,EAAUC,KACnC1K,OAAO2K,KAAKD,GAAUjF,SAASzG,IAClB,SAAPA,IACFyL,EAASzL,IAAQyL,EAASzL,IAAQ,IAAM,IAAI0L,EAAS1L,SAGlDyL,GAGT,OAAOjH,EAAMG,gBACX1B,EAAAA,iCAAAA,GACE2H,GAAYgB,2CAAAA,GACZJ,EACE,IACKK,UAAUrH,EAAOL,GACpB2H,KAAM9L,EACNmI,MAAO3D,EAAMkD,gBAAgBmD,MAC1BzD,GAEL,CACE/D,MAAO,GAAGmB,EAAMuH,UAAY,qBAAuB,MACjDvH,EAAMwH,gBAAkB,qBAAuB,OAIrDpB,EACI,CACEO,EACEL,EAASE,SACT,IAAKpJ,KAAWkJ,GAChBtG,IAGJ,IAAM,CACJ2G,EACEL,EAASE,SACT,IAAKpJ,KAAWkJ,GAChBtG,GAEFA,EAAMwH,iBACF/I,EAAAA,iCAAAA,GACE,MACA,CACEI,MAAO,eAET,EACEJ,EAAAA,iCAAAA,GACE4G,2CAAAA,GACA,CACE9J,KAAM,SACNuD,KAAM,QACNhB,UACEkC,EAAMpE,UACJ,YACA,GAFFoE,CAGE,CACAzE,KAAM,gBACNkM,QAASzH,EAAM1E,MAAMoM,aAAaC,YAClC1C,MAAO7H,EACPwK,IAAKjI,OAIX,IAAM,CAAC,SAETlB,EAAAA,iCAAAA,GACE4G,2CAAAA,GACA,CACE9J,KAAM,UACNuD,KAAM,QACNhB,UACEkC,EAAMpE,UACJ,YACA,GAFFoE,CAGE,CACAzE,KAAM,cACNkM,QAASzH,EAAM1E,MAAMoM,aAAaC,YAClC1C,MAAO7H,EACPwK,IAAKjI,OAIX,IAAM,CAAC,UAIb,KAGZvC,EACA4C,KAKAqH,UAAY,MAChB,IAAIQ,GAAe,EACfC,GAAa,EACbC,GAAa,EACjB,MAAMC,EAAY,+BACZC,EAAaC,IACjBA,EAAEC,aAAaC,WAAa,QAE9B,MAAO,CAACpI,EAAWL,KACjB,MAAM0I,EAAOrI,EAAMuH,UACbe,EAAY,CAChBpJ,MAAO,IAAGmJ,EAAO,qBAAuB,IACxCE,WAAW,EACXC,OAASN,IACPD,EAAUC,GACVH,GAAa,EACbF,EAAclI,EACPuI,EAAEO,kBAEXC,WAAaR,IACXD,EAAUC,GACVA,EAAES,OAAOC,UAAUC,IAAIb,GAChBE,EAAEO,kBAEXK,YAAcZ,IACZA,EAAES,OAAOC,UAAUG,OAAOf,KACrBD,GACEG,EAAEO,kBAEXO,OAASd,IACPA,EAAES,OAAOC,UAAUG,OAAOf,GAC1BD,GAAa,EACbD,EAAYnI,EACZK,EAAMiJ,gBAAgBpB,EAAaC,GACnCD,GAAe,EACfC,GAAa,IAGXoB,EAAe,GACrB,OAAOb,EAAOC,EAAYY,IAvCZ,GA2CZC,WAAcC,IAClB,MAAMC,EAAgBD,EAAME,MAAM,IAC5BC,EAAQF,EAASG,QAAQC,cAC/B,MAAO,KAAKF,IAAQF,EAAS1H,KAAK,OAG9BkB,iBAAoBQ,IACxB,MAAMqG,EAAgB,GAItB,OAHAlN,OAAO2K,KAAK9D,GAASpB,SAAS0H,IACvBxO,YAAYyO,SAASD,KAASD,EAAcC,GAAUtG,EAAQsG,OAE9DD,GAGHG,SAAyB,MAC7B,MAAMC,EAAmB,CACvB,QACA,SACA,OACA,YACA,cAEFA,EAAYrN,QAAU,QACtB,MAAMsN,EAAoB,CAAC,UAC3BA,EAAatN,QAAU,SACvB,MAAMuN,EAAkB,CAAC,SACzBA,EAAWvN,QAAU,QACrB,MAAMwN,EAAoB,CACxB,UACA,SACA,UACA,QACA,WACA,SACA,SACA,SACA,UAEFA,EAAaxN,QAAU,SACvB,MAAMyN,EAAuB,CAAC,QAAS,YAAa,cACpDA,EAAgBzN,QAAU,QAC1B,MAAM0N,EAAsB,CAAC,QAAS,YAAa,aAAc,UACjEA,EAAe1N,QAAU,SACzB,MAAM2N,EAAmB,CAAC,QAAS,YAAa,aAAc,UAC9DA,EAAY3N,QAAU,QACtB,MAAM4N,EAAkB,CACtB,QACA,YACA,aACA,SACA,OACA,QACA,iBACA,cACA,iBAEFA,EAAW5N,QAAU,SACrB,MAAM6N,EAAkB,CACtB,QACA,YACA,aACA,SACA,OACA,QACA,iBACA,cACA,iBAEFA,EAAW7N,QAAU,SACrB,MAAM8N,EAAoB,CAAC,QAAS,YAAa,aAAc,UAC/DA,EAAa9N,QAAU,SACvB,MAAM+N,EAAM,CACVrG,MAAO2F,EACPxF,OAAQyF,EACR/G,KAAMgH,EACN1I,OAAQ2I,EACR7G,UAAW8G,EACXtG,SAAUuG,EACV3G,MAAO4G,EACPvJ,KAAMwJ,EACN7J,KAAM8J,EACNvK,OAAQwK,GAEJE,EAAY,CAChBC,EACAtB,KAEA,GAAIsB,KAAUF,EAAK,CACjB,GAAI5N,MAAMyB,QAAQ+K,GAAQ,CACxB,MAAMuB,EAAuB,GACvBC,EAAeJ,EAAIE,GAAQjO,QAC3BoO,EAAkB,CACtBC,cAAeF,EACfG,WAAY5B,WAAWyB,IAczB,OAZAxB,EAAMnH,SAAS+I,IACTA,GAAaJ,IACbJ,EAAIE,GAAQd,SAASoB,GACvBL,EAAUzG,KAAK,CACb4G,cAAeE,EACfD,WAAY5B,WAAW6B,KAGzBxL,QAAQ4C,KAAK,UAAYsI,EAAS,MAAQtB,EAAQ,UAGtDuB,EAAUzG,KAAK2G,GACRF,EAKP,OAHKH,EAAIE,GAAQjO,SACf+C,QAAQ4C,KAAK,kCAAoCsI,GAE5C,CACL,CACEI,cAAeN,EAAIE,GAAQjO,QAC3BsO,WAAY5B,WAAWqB,EAAIE,GAAQjO,WAMzC,OADA+C,QAAQ4C,KAAK,OAASsI,EAAS,QACxB,IAGLO,EAAmBP,GAChBF,EAAIE,IAASjO,QAEtB,MAAO,CACLgO,YACAQ,oBAnH2B,GAuHzBC,QAAU,CACdC,QAAS,CACPC,UACE,MAAMlO,EAASC,KACf,OAAOD,EAAOmO,MAAMtQ,WAEtBuQ,QAAQpJ,GACN,MAAMhF,EAASC,KACfD,EAAOwK,aAAaC,YAAYzD,KAAKhC,GACrChF,EAAOqO,qBAETA,oBACE,MAAMrO,EAASC,KACfD,EAAOsO,WAAU,KACftO,EAAOuO,mBAGXC,WAAWC,GACT,MAAMzO,EAASC,KACTyO,EAAS,WAAa1O,EAAO2O,KACnC,GAAID,KAAUE,OAAQ,CACpB,MAAMC,EAAeD,OAAO,WAAa5O,EAAO2O,MAAMG,eAChDC,EAAWzP,OAAO2K,KAAKwE,GAAeO,QAC1C,CAAC/F,EAAcgG,MACqB,GAA9BJ,EAAajI,QAAQqI,KAAYhG,EAAIgG,GAAOR,EAAcQ,IACvDhG,IAET,IAEFjJ,EAAOvB,MAAM,aAAcsQ,GAE7B,OAAO,IAAIG,SAAQ,CAACC,EAASC,KAC3BnQ,YAAW,KACTkQ,EAAQ,MACP,WAMLE,MAAQ,CACZC,KAAM,KAAM,CACVC,cAAe,GACfC,aAAc,UACdb,MAAM,IAAIc,MAAOC,aAIfC,MAAQ,CACZvQ,MAAO,CACL0F,SAAU,CACRzG,KAAMiB,OACNC,QAAS,KAAM,KAEjBiL,aAAc,CACZnM,KAAMiB,OACNC,QAAS,KAAM,KAEjBqQ,WAAY,CACVvR,KAAMiB,OACNC,QAAS,KAAM,KAEjBwJ,MAAO,CACL1K,KAAMiB,OACNC,QAAS,KAAM,OAKfsQ,eAAiB,SAAU7P,QAC/B,MAAM8P,SAAW3R,QAAQ6B,QACnB+P,WAAarR,UAAUsB,QACvBgQ,OAAc,GACd3G,mBAAsBhL,IAC1B,MAAM4R,EAAU5R,EAAK+N,MAAM,KACrB9C,EAAW2G,EAAQ,GACnB3L,EAAU2L,EAAQ,GACxB,MAAO,CACL3G,WACAhF,YAGEjB,cAAiB/E,IACrB,IACI4R,EADAC,EAAsB,KAE1B,OAAK7R,GACa,iBAAPA,EACT6R,EAAO7R,GAEP6R,EAAO7R,EAAIA,IACX4R,EAAc5R,EAAIoF,iBAGhBwM,GAAeA,KAAelQ,OAAO8E,WACvCqL,EAAOD,GAGLC,KAAQnQ,OAAO8E,SACV9E,OAAO8E,SAASqL,GAGhB,MAhBQ,MAmBbhN,eAAiB,CACrBjD,EAWA4C,KAEA,IAAK5C,EAAO4D,gBAAiB,MAAO,GACpC,MAAMwF,EAAWD,mBAAmBnJ,EAAO4D,iBAAiBwF,SACtD8G,EAAYzD,SAASY,UAAUjE,EAAUpJ,EAAOmQ,eAEhDC,EAAS,GAgDf,OA9CAF,EAAUrL,SACR,EACE8I,aACAD,oBAKA,MAAMrK,EAAiBuM,SAASlC,EAAe1N,EAAO5B,KAChDoP,EAAef,SAASoB,gBAAgBzE,GAG5CgH,EAAOzC,GAFLD,GAAiBF,EAEE,CAACnP,EAAKyM,KAMzB,GALK9K,EAAOqQ,qBACVzN,EAAMW,eAAelF,EAAK2B,EAAOwD,iBAAmBxD,EAAO5B,KAI/B,UAA1B4B,EAAO4D,gBAA6B,CACtC,MAAM2D,EAAWvH,EAAOwH,gBAAkB,QACpCH,EAAWrH,EAAOsH,gBAAkB,QACpCgJ,EAAgBtQ,EAAOsQ,eAAiB,GACxCC,EAAa3N,EAChBkF,iBAAiB9H,EAAOiG,SACxBuK,QAAQxQ,GAAoBA,EAAOuH,IAAalJ,IAChD6C,KAAKlB,IAAD,CACH6H,MAAO7H,EAAOuH,GACdhB,MAAOvG,EAAOqH,MACXiJ,EAAcxB,QACf,CAAC/F,EAA2BgG,KAC1BhG,EAAIgG,GAAO/O,EAAO+O,GACXhG,IAET,QAGN,OAAO1F,EAAUhF,EAAK,CAAE2B,OAAQuQ,EAAW,KAE7ClN,EAAUhF,IAISgF,KAIpB+M,GAGHzH,UAAY,IACT7I,OAAOwK,aAAamG,OAEvBC,UAAY,IACT5Q,OAAOwK,aAAaqG,OAGvBxG,QAAU,IACPzK,QAAQI,OAAOwK,aAAaW,MAG/Bb,cAAgB,IACb1K,QAAQI,OAAOwK,aAAasG,MAG/BrN,eAAiB,CAAClF,EAAUD,KAChC,GAAIA,KAAO0B,OAAO8E,SAAU,CAC1B,GAAIvG,aAAewS,MAAO,OAC1B/Q,OAAO8E,SAASxG,GAAOC,IAIrByS,mBAAsB9Q,IAI1B,MAAM+Q,EAAS,GACT3S,EAAM4B,EAAOwD,gBAKnB,MAJkB,iBAAPpF,IAET2S,EAAO3S,GAAO0B,OAAO8E,SAAS5E,EAAO5B,MAEhC2S,GAGHxL,kBAAqBU,IACzB,MAAM1F,EAAW0F,EAAQ1F,UAAY,GAC/ByQ,EAAa/K,EAAQ7H,IACrB0F,EAAkB,IAAKmC,EAAQnC,iBAAmB,GAAKkN,GACvDD,EAAgB,GACtB,GAAKvR,MAAMyB,QAAQV,GAqBnB,OApBAA,EAASsE,SAASoM,IAChB,GAAoB,iBAATA,EACT,OAAOF,EAAOjK,KACZzG,eAAeuF,KACb,CAAEG,UAAWkL,GACbnB,SAIN,MAAMxC,EAAS2D,EAAMrN,gBACjB0J,KAAUjN,gBACZ4Q,EAAMnN,gBAAkBA,EACxBiN,EAAOjK,KAELzG,eAAeiN,GAAQ,IAAK2D,EAAO7S,IAAK4S,GAAclB,UAGxD1N,QAAQ4C,KAAK,yBAA2BkM,KAAKC,UAAUF,OAGpDF,GAGHlN,kBAAqBuN,IACzB,MAAMC,EAAkBD,EAAKhF,QACvBkF,EAAYnO,cAAckO,GAIhC,OAHIC,GAAaxR,OAAOwP,cACtBlN,QAAQ4C,KAAK,6BAA+BqM,GAEvCC,GAGHC,eAAiB,CACrBnQ,MACA6E,QACArD,SAEA,MAAM4O,WAAavL,QAAQuL,WAI3B,GAAIhS,MAAMyB,QAAQuQ,YAAa,CAC7B,MAAMC,EAASD,WAAWtQ,KAAKwQ,KAC7B,MAAMC,UAAYD,GAAG,GACfE,YAAc,wBACdC,eAAiB,0BACjBC,UAAYJ,GAAG,GAClBK,QAAQ,IAAIC,OAAO,QAAS,KAAMJ,aAClCG,QAAQ,IAAIC,OAAO,WAAY,KAAMH,gBACxC,MAAO,EACLI,EAAAA,iCAAAA,IAAiBN,WACjBO,KAAKJ,WACLlP,MACAqD,QAAQ7H,QAIZgD,OAAQ+Q,EAAAA,iCAAAA,IAAe/Q,MAAOqQ,GAEhC,OAAOrQ,OAEHgR,iBAAoBnM,IACxB,MAAMoM,EAAwBpM,EAAQoM,aAAe,GAC/CnT,EAAmBmT,EAAYnT,OAAS,GACxCoT,EAA0BD,EAAYC,UAAY,GAClDC,EAAcrT,EAAM4P,QAAO,CAAC/F,EAAKgG,EAAKxM,KAC1C,IAEEwG,EAAIgG,EAAI7E,MACM,QAAZ6E,EAAI5Q,KACA4Q,EAAIlH,MACJ,IACKiI,OAAO5R,MAAM0G,YACbkL,OAAO5R,MAAMwR,YAChBX,EAAIlH,OACZ,MAAOxF,GACPD,QAAQkD,IAAIjD,GAEd,OAAO0G,IACN,IAEGpF,EAAOmM,OAAOtR,UAAU,YAAayH,EAAQrC,iBAC7C4O,EAAiBF,EAASxD,QAAO,CAAC/F,EAAKgG,EAAKxM,KAEhDwG,EAAIgD,WAAWgD,IAAQ,SAAUlH,GAC/BlE,EAAK,CAAExF,KAAM4Q,EAAK3Q,IAAK6H,EAAQ7H,IAAKyJ,WAE/BkB,IACN,IACH,OAAOwI,gBACLlQ,EAAAA,iCAAAA,GAAE4E,EAAQoD,UAAW,IAAKkJ,KAAgBC,IAC1CvM,EACA6J,SAIE2C,iBAAoBC,GACF,iBAAXA,EACLA,KAAW5S,OAAO4P,WACb5P,OAAO4P,WAAWgD,IAEzBtQ,QAAQ4C,KAAK,mBAAqB0N,GAC3B,IAEAlT,MAAMyB,QAAQyR,GAChBA,OAEPtQ,QAAQ4C,KACN,+BAAiC0N,EAAU,6BAK3CC,gBAAkB,SAAUtU,GAChC,GAAkB,iBAAPA,EAAiB,CAC1B,MAAMuU,EAAWvU,EAAIwU,MAAM7U,aACvB4U,GAAYA,EAAS7Q,OAAS,GAChC6Q,EAAS1R,KAAK4R,IACZ,MAAMC,EAAMD,EAAYf,QAAQ,KAAM,IAAIA,QAAQ,KAAM,IAClDzT,EAAcc,OAAO4T,OACzB,GACAlD,OAAO5R,MAAM0G,SACbkL,OAAO5R,MAAMwR,YAETuD,EAAY3U,EAAYyU,GAC9B1U,EAAMA,EAAI0T,QAAQe,EAAaG,MAIrC,OAAO5U,GAEH6U,WAAa,MACjB,MACMC,EAAuB,GAC7B,MAAO,CAILC,WAAWhV,EAAaiV,GACtB,MAAM9Q,EAAQ4Q,EAAWzM,QAAQtI,GAC7BiV,EACF9Q,GAAS,GAAK4Q,EAAWtM,OAAOtE,EAAO,IAE7B,GAAVA,GAAe4Q,EAAWrM,KAAK1I,IAGnCwQ,eACE,OAAOuE,GAET7E,WAAWnQ,GAGTuQ,OAAO,WAAa5O,OAAO2O,MAAQ1O,QArBtB,GA0BbuT,gBAAkB,SAAUnH,EAAOoH,GACvC,MAAMC,EAAuB1T,OAAOwK,aAAaC,YACjD,GAAI4B,GAAS,GAAKoH,GAAO,GAAKpH,IAAUoH,EAAK,CAC3C,MAAME,EAAYD,EAAqB3M,OAAOsF,EAAO,GAAG,GACpDA,EAAQoH,EACVC,EAAqB3M,OAAO0M,EAAK,EAAGE,GAEpCD,EAAqB3M,OAAO0M,EAAM,EAAG,EAAGE,GAE1C5D,WAAW,eAAXA,CAA2B,CACzB6D,aAAcD,EACdtH,QACAoH,MACAI,eAAgBzC,KAAKC,UAAUrB,OAAO8D,sBAExC9T,OAAOuO,iBA0BX,OAvBAyB,OAAO5R,MAAQ4B,OACfgQ,OAAOjN,KAAO+M,SACdE,OAAO3M,cAAgBA,cACvB2M,OAAOrD,SAAWA,SAClBqD,OAAO7M,eAAiBA,eACxB6M,OAAO3G,mBAAqBA,mBAC5B2G,OAAOnH,UAAYA,UACnBmH,OAAOY,UAAYA,UACnBZ,OAAO3F,QAAUA,QACjB2F,OAAO1F,cAAgBA,cACvB0F,OAAOvM,eAAiBA,eACxBuM,OAAOgB,mBAAqBA,mBAC5BhB,OAAOvK,kBAAoBA,kBAC3BuK,OAAOjM,kBAAoBA,kBAC3BiM,OAAOtR,UAAYqR,WACnBC,OAAO/M,eAAiBwO,eACxBzB,OAAOxG,iBAAmB8I,iBAC1BtC,OAAOhN,iBAAmB2C,iBAC1BqK,OAAOhI,iBAAmB2K,iBAC1B3C,OAAOhK,gBAAkB6M,gBACzB7C,OAAO+D,WAAaX,WACpBpD,OAAOjE,gBAAkByH,gBACzBxD,OAAO8D,iBAAmB,IAAM9T,OAAOwK,aAChCwF,QAGHgE,WAAa,WACjB,MAAO,CACLjU,SACE,MAAMC,EAASC,KACTwK,EAAczK,EAAOwK,aAAaC,aAAe,GACjDwJ,EAAkBjU,EAAOwK,aAAayJ,OAEtCC,GADalU,EAAO4P,WACZC,eAAe7P,IAC7B,IAAImU,GAAW,EAGbF,GACqB,UAArBA,EAAOG,YACPH,EAAOxL,gBACPwL,EAAOvL,YAEPyL,GAAW,GACb,MAAME,EAAY9T,eAAe6H,UAC/BqC,EACAyJ,EACAC,EAAWF,OAASK,GAEtB,OAAOD,KAKPE,WAAa,IACd5E,SACAN,SACArB,WACAwG,+CAAAA,KACAR,cAGQS,UAAY,SAAU1V,GACjC,OAAOwC,EAAAA,iCAAAA,GAAEgT,WAAYxV,IAGV2V,aAAgBC,GACpB/U,QAAQ4U,+CAAAA,EAAAA,WAAiBG,IAG5BC,MAAQ,SAAUC,GAsBtBA,EAAItL,UAAU,aAAcgL,YAC5B/W,KAAOqX,GAGT,2BACEC,QAASF,Q,mBCzkDX,MAAMG,EAAK,MAELC,EAAM,CACVtD,WAAY,CACV,CAACqD,GAAK,CACJE,QAAS,MACP,IAAIC,EAAuB,KACvBpW,EAAa,KACjB,MAAO,CAACqW,EAASpW,KACfuD,QAAQkD,IAAI,WAAY2P,EAAIpW,GAC5B,MAAM+D,EAAQ/D,EAAMqW,IACpB,IAAKtS,EAAO,OACZ,MAAMuS,EAAUF,EAAGnT,MAAMqT,QACnB/W,EAAMS,EAAMuW,UACJxS,EAAM1E,MAAMmX,OAGH,MAAnBL,IACFA,EAAkBG,GAGpBvS,EAAMiR,WAAWT,WAAWhV,EAAKS,EAAMgJ,OAEvCjF,EAAM1E,MAAMkQ,WAAU,KACfvP,EAAMgJ,MAMToN,EAAGnT,MAAMqT,QAAUH,EALnBC,EAAGnT,MAAMqT,QAAU,UAUnBvW,GAAOE,aAAaF,GACxBA,EAAQG,YAAW,KACjB6D,EAAMiR,WAAWvF,WAAWuG,KAC3B,OAjCE,MAwCf,U,uDC3CA,MAAMS,EAAgB,CACpBC,YAAa,CACXC,WAAY,iBACZhU,OAAQ,OACRiU,MAAO,OACPC,SAAU,QACVC,IAAK,IACLC,KAAM,EACNC,SAAU,OACVlU,MAAO,OACPmU,WAAY,OACZC,QAAS,SACTC,OAAQ,MAEVC,cAAe,CACbJ,SAAU,QAEZK,OAAQ,CACNC,MAAO,QACPC,YAAa,OACbC,UAAW,OACXC,OAAQ,YAGZ,OAAeC,EAAAA,EAAAA,IAAgB,CAC7BC,QAGE,MAAM,QAAEC,GAAY/H,OAAOgI,kBAAkBpB,GAEvC3E,EAASgG,EAAQ,MAEjBC,EAAW,KACflI,OAAOmI,KAAK,+CAEd,MAAO,KACE,eAAP,MACcJ,EAAQlB,aADtB,8CAGiB,KAHjB,sBAImBkB,EAAQR,eAJ3B,iBAI8CtF,EAAOmG,aAJrD,qBAOaL,EAAQP,OAPrB,QAQeU,EARf,OASa,KATb,cAUkB,OAVlB,QAWc,YAXd,QAYc,MAZd,MAaY,KAbZ,sBAc0B,QAd1B,8BAiBkB,UAjBlB,EAkBU,4jBAlBV,a,oBCxBN,MAAMG,EAAoE,CACxEC,KAAMC,OACNzV,OAAQ5B,QAGJsX,EAAY,CAACC,EAAaH,KAC9B,MAAMI,EAAKC,EAAAA,GAAAA,OAAqBF,GAAQG,KAAKD,OAAQ,CAInDE,MAAO,UACPC,UAAU,EACV3P,MAAOmP,EAEPS,QAAS,CACPC,SAAS,GAEXC,QAAS,EACTC,sBAAsB,IAQxB,OAAOR,GAGT,OAAeb,EAAAA,EAAAA,IAAgB,CAC7BrX,MAAO6X,EACPc,MAAO,CAAC,WACRrB,MAAMtX,GAAO,KAAE2D,IACb,MAAMsU,GAAcW,EAAAA,EAAAA,OACd,KAAEd,EAAF,OAAQxV,IAAWuW,EAAAA,EAAAA,IAAO7Y,GAChC,IAAI8Y,EAAiB,KACrB,MAAMC,EAAgB,CACpBC,gBAAiB,CACfzC,MAAO,QACPjU,OAAQA,EAAOqG,MAAQ,KACvBsN,QAAS,eACTO,SAAU,YAEZyC,SAAU,CACR1C,MAAO,QACPjU,OAAQA,EAAOqG,MAAQ,KACvBsN,QAAS,gBAEXiD,SAAU,CACR1C,SAAU,WACVC,IAAK,MACL0C,MAAO,EACP1W,MAAO,OACP6T,WAAY,QACZL,QAAS,eACTY,QAAS,UACT,gBAAiB,MACjBO,OAAQ,aAKN,QAAEG,GAAY/H,OAAOgI,kBAAkBuB,IAC7CK,EAAAA,EAAAA,KAAU,KACHN,EAOHA,EAAUO,SAASvB,EAAKnP,QANxBmQ,EAAYd,EAAUC,EAAQH,EAAKnP,QAEnC2Q,EAAAA,EAAAA,KAAS,KACPpW,QAAQkD,IAAI0S,EAAUS,UAAU,CAAC,yCAMvC,MAAMC,EAAa,KACjB7V,EAAK,UAAWmV,EAAUW,aAS5B,OANAC,EAAAA,EAAAA,IAAM5B,GAAM,KACLgB,GACLA,EAAUO,SAASvB,EAAKnP,UAInB,WACL,OAAO,eAAP,MACc4O,EAAQyB,iBADtB,uBAEgBzB,EAAQ0B,SAFxB,IAEsC,UAFtC,+BAGmBO,EAHnB,MAGsCjC,EAAQ2B,UAH9C,wBC/FN,MAAMS,EAIF,CACF7B,KAAMC,OACNzV,OAAQ5B,OACRkZ,MAAO7B,QAGH8B,EAAkB,CACtBC,mBAAoB,CAClBnD,SAAU,OACVoD,UAAW,SACXtX,MAAO,OACPuX,WAAY,SAIhB,OAAe3C,EAAAA,EAAAA,IAAgB,CAC7BrX,MAAO2Z,EACPhB,MAAO,CAAC,cACRrB,MAAMtX,GAAO,MAAEia,EAAF,KAAStW,IACpB,MAAM,KAAEmU,IAASe,EAAAA,EAAAA,IAAO7Y,GAClBka,GAASC,EAAAA,EAAAA,IAAS,CACtBC,MAAOpa,EAAM8X,KACbuC,QAASra,EAAMsC,OACfgY,OAAQta,EAAM4Z,QAEVW,EAAWC,IACfN,EAAOE,MAAQI,GAEXC,EAActb,IAClBwE,EAAK,aAAcxE,KAIf,QAAEoY,GAAY/H,OAAOgI,kBAAkBqC,GAI7C,OAHAH,EAAAA,EAAAA,IAAM5B,GAAO4C,IACXR,EAAOE,MAAQM,KAEV,KACE,oCAAP,MAEgBnD,EAAQuC,oBAFxB,CAE6CI,EAAOI,UAFpD,oBAGUL,EAAM9Z,QAAU8Z,EAAM9Z,UAAY,MAH5C,qBAIe,oBAJf,sBAMgB+Z,EAAOG,QANvB,KAOcH,EAAOE,MAPrB,aAQsBK,GARtB,yBAWgBP,EAAOG,QAXvB,KAYcH,EAAOE,MAZrB,UAamBG,GAbnB,a,oBClCN,MAAMI,EAAkB,CACtBC,WAAY,CACVtY,OAAQ,SAEVuY,UAAW,CACThE,QAAS,gBACTpU,MAAO,OACPkU,SAAU,OACVoD,UAAW,UAEbe,YAAa,CACX7E,QAAS,OACT3T,OAAQ,QACRgU,WAAY,OAEZyE,UAAW,cAEbC,QAAS,CACPC,KAAM,WACNC,YAAa,6BACbjF,QAAS,OACTkF,cAAe,SACfC,WAAY,SACZvE,QAAS,SACTkE,UAAW,aACXzY,OAAQ,OACR+Y,SAAU,SACV,aAAc,QAEhBC,SAAU,CACRrF,QAAS,OACTgF,KAAM,GAERM,YAAa,CACXN,KAAM,YACN1E,MAAO,OACP6E,WAAY,SACZI,eAAgB,SAChBvF,QAAS,OACTwF,OAAQ,qCACRrE,OAAQ,UACRsE,aAAc,QAEhBC,gBAAiB,CACf9E,QAAS,OACTZ,QAAS,OACTgF,KAAM,EACNQ,OAAQ,4CACRD,eAAgB,SAChBJ,WAAY,SACZzE,SAAU,OACVrU,OAAQ,OACRG,MAAO,8BACPsY,UAAW,cAEba,UAAW,CACTH,OAAQ,oCACRV,UAAW,cAEbc,UAAW,CACThF,QAAS,OACTpU,MAAO,SAGLqZ,EAAc,CAClBC,QAAS,CACP9F,QAAS,OACTM,MAAO,OACPjU,OAAQ,OACRG,MAAO,8BACP2Y,WAAY,SACZ,kBAAmB,SACnB,YAAa,OACb,iBAAkB,QAEpB,yBAA0B,CACxB3Y,MAAO,0BAET,uBAAwB,CACtBA,MAAO,2BAET,0BAA2B,CACzBA,MAAO,4BAGX,IAAKuZ,GAAL,SAAKA,GACHA,EAAAA,QAAAA,uBACAA,EAAAA,UAAAA,yBACAA,EAAAA,WAAAA,2BAHF,CAAKA,IAAAA,EAAY,KAMjB,MAAMC,EAAmB,kCAmDzB,OAAe5E,EAAAA,EAAAA,IAAgB,CAC7BC,MAAO,KACL,IAAI4E,GAAWtD,EAAAA,EAAAA,MAGf,MAAM,QAAErB,GAAY/H,OAAOgI,kBAAkBmD,GAGvCwB,EAAc3M,OAAOgI,kBAAkBsE,GAGvCM,EAAiC,CACrCC,EACAzC,EACAvY,KAEA,MAAM6P,EAASoL,EACbD,EAAaE,YACbF,EAAaG,SACbH,EAAaI,eAETva,GAAQ,eAAH,UAEG,OAFH,MAGAqV,EAAQgE,YAHR,OAICrK,EAAOnF,KAJR,YAKMmF,EAAOwL,UALb,WAMKxL,EAAOyL,UANZ,CAQNtb,EAASwB,OAAS,EAAIxB,EAAWuY,IAQtC,OAJAN,EAAAA,EAAAA,KAAS,KACPsD,EAAYC,MAAMR,EAAaI,cAAeva,MAGzCA,GAEH4a,EAAoB,CACxB,eAAgBV,EAChB,gBAAiBA,EACjB,iBAAkBA,EAClB,eAAgBA,EAChB,iBAAkBA,EAClB,gBAAiBA,EACjB,mBAAoBA,EACpB,mBAAoBA,EACpB,iBAAkBA,EAClB,iBAAkBA,GAGdW,EAAsB,CAC1B,iBAAkB,CAACV,EAAmBzC,EAAOvY,KAE3C,MAAM6P,EAASoL,EACbD,EAAaE,YACbF,EAAaG,SACbH,EAAaI,eAETva,GAAQ,eAAH,UAEG,OAFH,MAGAqV,EAAQoE,gBAHR,OAICzK,EAAOnF,KAJR,YAKMmF,EAAOwL,UALb,WAMKxL,EAAOyL,SANZ,YAOMzL,EAAO8L,WAPb,CASN3b,EAASwB,OAAS,EACfxB,EACA4b,EAAiBC,aAAab,KAMtC,OAHA/C,EAAAA,EAAAA,KAAS,KACPsD,EAAYC,MAAMR,EAAaI,cAAeva,MAEzCA,IAILib,EAAc,CAClB9R,YAAa,GACbkG,OAAQ,CACN6L,WAAY,IACZ5a,KAAM,UACN6a,cAAe,SAEjB3L,MAAM,GAEF4L,GAAsBnD,EAAAA,EAAAA,IAAS,IAE/BoD,GAAmBpD,EAAAA,EAAAA,IAAS,IAE5BqD,EAAqB,GAErBP,EAAmB,CACvBC,aAAc,SAAUb,GACjBiB,EAAoBjB,EAAaI,iBACpCa,EAAoBjB,EAAaI,eAAiBzK,KAAKyL,MACrDzL,KAAKC,UAAUkL,KAGdI,EAAiBlB,EAAaI,iBACjCc,EAAiBlB,EAAaI,eAAiB,IAE5Ce,EAAmBnB,EAAaI,iBACnCe,EAAmBnB,EAAaI,eAAiB,CAC/CiB,WAAa9R,MAGb+R,UAAY/R,IACV,IAAKA,EAAE1M,KAAqB,iBAAd0M,EAAEzM,IAAIF,KAAyB,CAC3C,MAAMoE,EAAQuI,EAAEzM,IAAImM,IACdH,EAAUS,EAAEzM,IAAIgM,QAChBrK,EAAS8K,EAAEzM,IAAIwJ,MACfzJ,EAAM4B,EAAO5B,IACnBiM,EAAQxD,OAAOtE,EAAO,QAGpB6R,IADAqI,EAAiBlB,EAAaI,eAAevd,WAGtCqe,EAAiBlB,EAAaI,eAAevd,GAIxD,IAAK0M,EAAE1M,KAAqB,eAAd0M,EAAEzM,IAAIF,KAAuB,CAC3B2M,EAAEzM,IAAImM,IACJM,EAAEzM,IAAIgM,QADtB,MAEMrK,EAAS8K,EAAEzM,IAAIwJ,MACT7H,EAAO5B,IAEnB0e,EAAqBC,wBACnB/c,EACAub,EAAaI,mBAMvB,MAAMqB,GAAY3b,EAAAA,EAAAA,GAAE,MAAO,CAAEI,MAAO,gBAAkB,EACpDJ,EAAAA,EAAAA,GACE,MACA,CACEI,MACE,sFAEJ,CACE,KAAK8Z,EAAaI,iBAClBta,EAAAA,EAAAA,GACE4G,EAAAA,GACA,CACEnG,MAAO,eACP3D,KAAM,IACJqe,EAAoBjB,EAAaI,eAAe/K,KAC5C,UACA,WAENlP,KAAM,QACNhB,QAAS,KACP,MAAMuc,EACJT,EAAoBjB,EAAaI,eAAe/K,KAClD4L,EAAoBjB,EAAaI,eAAe/K,MAC7CqM,KAGP,IAAM,CACJ,IACET,EAAoBjB,EAAaI,eAAe/K,KAC5C,KACA,YAMdvP,EAAAA,EAAAA,GAAEkT,EAAAA,GAAW,CACXxL,IAAKwS,EAAaI,cAClB/W,SAAU6X,EAAiBlB,EAAaI,eACxCrR,aAAckS,EAAoBjB,EAAaI,eAC/CuB,YACER,EAAmBnB,EAAaI,eAAekB,UACjDM,aACEX,EAAoBjB,EAAaI,eAAeiB,eAGtD,OAAOI,GAETI,WAAY,SAAU3B,GAGpB,OAAO,SAAC,sBAAR,WACyB4B,EAAWxV,MADpC,MACiD,OADjD,MAC8D,OAD9D,yEASEyV,EAAkB,CACtB,gBAAiB,CAAC1X,EAAczH,KACvB,eAAP,MAEW,CACLkd,EAAY5E,QAAQyE,EAAa/c,IACjCkd,EAAY5E,QAAQwE,UAJ1B,CAOKrV,KAOHyX,GAAatU,EAAAA,EAAAA,KAAI,GAEvB,IAAKwU,GAAL,SAAKA,GACHA,EAAAA,SAAAA,gBACAA,EAAAA,UAAAA,iBACAA,EAAAA,YAAAA,mBACAA,EAAAA,UAAAA,iBACAA,EAAAA,QAAAA,eACAA,EAAAA,UAAAA,iBACAA,EAAAA,SAAAA,gBACAA,EAAAA,YAAAA,mBACAA,EAAAA,UAAAA,kBATF,CAAKA,IAAAA,EAAc,KAWnB,MAAMT,EAAuB,MAC3B,MAAMU,GAAgBnE,EAAAA,EAAAA,IAAS,CAC7BoE,aAAc,GACdC,UAAW,KAEPC,EAA0B,CAC9B5W,MAAO,CACLrC,EACAtG,EACA6I,EACA2W,IAEAxe,OAAO4T,OACL,CACE/J,iBAAkBvE,GAAQ,QAC1BtG,MACA6I,YAAaA,GAA4B,MAAQvC,EACjDd,gBAAiB,SAEnBga,EAAS,CAAEA,UAAW,IAE1B1W,OAAQ,CACNxC,EACAtG,EACA6H,EACA2X,IAEAxe,OAAO4T,OACL,CACE/J,iBAAkBvE,GAAQ,SAC1BtG,MAEA6I,YAAa,MACbhB,UACArC,gBAAiB,UAEnBga,EAAS,CAAEA,UAAW,IAE1BC,OAAQ,CAACnZ,EAActG,EAAa6H,KAA5B,CACNrC,gBAAiB,QACjBqF,iBAAkBvE,GAAQ,QAC1BtG,MACAuL,gBAAiB1D,KAKf6X,EAAoB,CACxB7U,iBAAkB0U,EAAwB5W,MACxC,KACA,oBAEF3I,IAAKuf,EAAwB5W,MAAM,KAAM,OAEzCE,YAAa0W,EAAwB5W,MAAM,MAAO,eAClDyK,WAAYmM,EAAwB5W,MAClC,KACA,aACA,kDACA,SAAU1I,GACR,IAAI0f,EAAW,GACf,MAAMC,EAAM,eACZ,IAAK3f,EAAK,MAAO,GACjB,IACE0f,EAAM1f,EAAI6N,MAAM,KAAK4C,QAAO,CAAC/F,EAAKgG,KAChC,MAAMkP,EAAkBlP,EAAI7C,MAAM8R,GAClC,KAAKxJ,EAAAA,EAAAA,IAAayJ,EAAgB,IAChC,KAAM,SAASA,EAAgB,KAEjC,OADAlV,EAAIjC,KAAK,CAACmX,EAAgB,GAAIA,EAAgB,KACvClV,IACN,IACH,MAAO1G,GACPD,QAAQC,MAAM,sBAAuBA,GACrC0b,EAAM,GAER,OAAOA,KAGXxd,SAAUod,EAAwB5W,MAChC,MACA,WACA,mBACA,SAAU1I,GACR,OAAOA,EAAI6N,MAAM,QAGrBoD,aAAcqO,EAAwB5W,MAAM,MAAO,gBACnD5I,KAAMwf,EAAwB5W,MAAM,OAAQ,QAC5ChB,UAAW4X,EAAwB5W,MAAM,MAAO,aAMhDd,QAAS0X,EAAwB5W,MAC/B,OACA,UACA,0CACA,SAAU1I,GACR,IACE,OAAOA,EAAI6N,MAAM,KAAK4C,QAAO,CAAC/F,EAAKgG,KACjC,MAAMmP,EAAanP,EAAI7C,MAAM,KAAK4C,QAAO,CAACqP,EAAOC,KAC/C,MAAMC,EAAKD,EAAMlS,MAAM,KAEvB,OADAiS,EAAME,EAAG,IAAMA,EAAG,GACXF,IACN,IAEH,OADApV,EAAIjC,KAAKoX,GACFnV,IACN,IACH,MAAO1G,GAEP,OADAD,QAAQC,MAAM,oBAAqBA,GAC5B,OAIbsH,gBAAiBgU,EAAwB5W,MACvC,OACA,kBACA,0CACA,SAAU1I,GACR,IACE,OAAOA,EAAI6N,MAAM,KAAK4C,QAAO,CAAC/F,EAAKgG,KACjC,MAAMmP,EAAanP,EAAI7C,MAAM,KAAK4C,QAAO,CAACqP,EAAOC,KAC/C,MAAMC,EAAKD,EAAMlS,MAAM,KAQvB,MALa,SAATmS,EAAG,GACLF,EAAM5d,SAAW,CAAC8d,EAAG,IACH,SAATA,EAAG,KACZF,EAAM5X,MAAQ8X,EAAG,IAEZF,IACN,IAEH,OADApV,EAAIjC,KAAKoX,GACFnV,IACN,IACH,MAAO1G,GAEP,OADAD,QAAQC,MAAM,oBAAqBA,GAC5B,OAIbic,OAAQX,EAAwB5W,MAC9B,SACA,SACA,oBAEFwX,SAAUZ,EAAwBE,OAAO,GAAI,WAAY,CACvD,CAAEtX,OAAO,EAAOhG,SAAU,CAAC,OAC3B,CAAEgG,OAAO,EAAMhG,SAAU,CAAC,SAE5Bie,SAAUb,EAAwBzW,OAAO,OAAQ,WAAY,CAC3D,CAAEX,MAAO,OAAQsB,MAAO,QACxB,CAAEtB,MAAO,UAAWsB,MAAO,WAC3B,CAAEtB,MAAO,eAAgBsB,MAAO,mBAI9B4W,EAAkB,CACtB,iBAAkB,CAAC,yBAA0B,mBAAoB,OACjE,gBAAiB,CACf,wBACA,mBACA,MACA,cACA,aACA,gBAEF,mBAAoB,CAClB,iCACA,mBACA,MACA,cACA,aACA,gBAEF,iBAAkB,CAChB,yBACA,mBACA,OACA,WACA,cAEF,eAAgB,CACd,uBACA,mBACA,YACA,cAEF,iBAAkB,CAChB,iBACA,yBACA,mBACA,MACA,UACA,eACA,WACA,cAEF,gBAAiB,CACf,wBACA,mBACA,MACA,kBACA,eACA,cAEF,mBAAoB,CAClB,2BACA,mBACA,YACA,kBACA,eACA,cAEF,iBAAkB,CAChB,yBACA,mBACA,YACA,aACA,WACA,gBACA,qBACA,mBACA,WACA,kBAIJ,IAAIC,EAAqB,GAErBC,EAAkB,GAEtB,MAAMC,EAA0BlX,IAC9B,MAAMmX,EAAyB9L,GAClB,QAAPA,GACO,SAAPA,GACGA,EAET,OAAOrL,EAAIxG,KAAK4d,IACd,MAAMC,EAAYD,EAAW5S,MAAM,KAC7B8S,EAAkBF,EAAW5S,MAAM,KACzC,GAA8B,GAA1B8S,EAAgBjd,OAAa,CAC/B,MAAM5D,EAAO6gB,EAAgB,GACvB5gB,EAAM4gB,EAAgB,GAI5B,OAHAL,EAAgBvgB,GAAOD,EACvBqf,EAAcC,aAAarf,GAAO,GAE3B0f,EAAkB1f,GAE3B,GAAwB,GAApB2gB,EAAUhd,OAKZ,OAHAyb,EAAcC,aAAasB,EAAU,IAAMF,EACzCE,EAAU,IAEL,GACF,GAAwB,GAApBA,EAAUhd,OAInB,OAHAyb,EAAcC,aACZsB,EAAU,IACR,GAAGA,EAAU,MAAMA,EAAU,KAC1B,GAIT,GADAvB,EAAcC,aAAaqB,GAAc,GACrCA,KAAchB,EAAmB,CACnC,MAAMvS,EAASuS,EAAkBgB,GAKjC,MAJI,WAAYvT,IACdmT,EAAmBnT,EAAOnN,KAAOmN,EAAOqS,QAGnCE,EAAkBgB,QAIzBG,EAAQ5gB,GAAQ6S,KAAKyL,MAAMzL,KAAKC,UAAU9S,IAE1C6gB,EAA0B,IAEvBD,EAAKzB,EAAcC,cAEtB0B,EAAS,KACb9B,EAAWxV,OAAQ,EACnBuX,EAAqB,KACrBC,EAAQ,eACR7B,EAAcC,aAAe,GAC7BiB,EAAqB,IAGjB3B,EAA0B,CAAC9W,EAAc0V,KAC7C,MAAMxd,EAAO8H,EAAQrC,gBACrBkZ,EACGwC,cAAc/B,EAAepf,GAAO8H,GACpCsZ,MAAMxL,IAEL3U,OAAO2K,KAAKgK,GAAclP,SAASzG,IACjC6H,EAAQ7H,GAAQ2V,EAAc3V,UAKtC,IAAIghB,EAA0B,KAC1BI,EAAgB,KAChBH,EAAe,KAEnB,MAAO,CACLtC,0BACA0C,mBAAqBrhB,GACZugB,EAAgBvgB,GAEzBshB,qBAAsB,IAAOf,EAAkB,GAC/CW,cAAcK,EAAWC,GACvB,GAAIA,EACFpC,EAAcC,aAAewB,EAAKW,OAC7B,CACLR,EAAqBO,EACrBnC,EAAcE,UAAY0B,EAC1B,MAAMS,EAAajB,EACjBH,EAAgBW,IAElBU,EAAgBvV,YAAcsV,EAIhC,OADAxC,EAAWxV,OAAQ,EACZ,IAAImH,SAAQ,CAACC,EAASC,KAC3BsQ,EAAWvQ,EACXoQ,EAAUnQ,MAGd6Q,iBACE,MAAMpP,EAASuO,IACf9f,OAAO2K,KAAK4G,GAAQ9L,SAASmb,IACvBtB,EAAmBsB,KACrBrP,EAAOqP,GAAatB,EAAmBsB,GACrCrP,EAAOqP,QAIbR,EAAS7O,GACTwO,KAEFA,SACAc,eACE,OAAOzC,EAAcC,cAEvByC,aAAc,IAAM1C,EAAcE,YAxVT,GA4V7B,IAAIyC,EAA8C,GAClD,MAAMC,EAAqB,CACzB1E,SAAU,GACVD,YAAa,GACbE,cAAe,IAEX0E,GAAqBtX,EAAAA,EAAAA,IAAI,IAEzBuX,EAAgB3hB,GAAsCmM,GAC1DnM,EAAGmM,GAAGS,OAAQT,GACVyV,EAAe,MACnB,IAAIC,EAAiB,KACrB,MAAO,CACLC,QAASH,GAAa,CAACI,EAAK5V,KAMtB4V,IACFF,EAAYE,EACZA,EAAIlV,UAAUC,IAAI0P,OAGtBwF,WAAYL,GAAa,CAACI,EAAK5V,KACzB4V,GACFA,EAAIlV,UAAUG,OAAOwP,GAEnBqF,GACFA,EAAUhV,UAAUG,OAAOwP,QAnBd,GAyBfyF,EAAgB,MACpB,MAAMC,EAAqC,GAErCC,EAAQ,GAERC,EAAc,GAEdC,EAAsB,GAC5B,IAAIC,EAAuB,GAC3B,MAAMC,EAAoB,CACxBxF,EACAD,EACA0F,EACArI,KAGA,MAAM6C,EAAgB,GAAGF,KAAe0F,IAClC5gB,EAAW,GACXgL,EAAS,KACf,MAAO,CACLmQ,WACAD,cACAE,gBACApb,WACAgL,SACAuN,UAIEsI,EAAmBzF,GACfA,EAA8BoF,EAAYpF,GAA1BoF,EAGpBhF,EAAQ,CAACJ,EAAuBva,KACpC,IAAIxC,EAAa,KACbyiB,EAAU,EACdziB,EAAQ0iB,aAAY,KACH,IAAXD,GACFE,cAAc3iB,GAEZwC,EAAM6T,IACR8L,EAAYpF,GAAepQ,OAASnK,EAAM6T,GAC1CsM,cAAc3iB,IAEdyiB,MAED,KAGCG,EAAO,CAACC,EAAOC,IACZ,IAAI1S,SAAQ,CAACC,EAASC,KAC3B,IACE,MAAMyS,EAAkBX,EAAoBS,GACtCG,EAAkBZ,EAAoBU,GAEtCG,EAAcd,EAAYY,GAAiBphB,SAC3CuhB,EAAcf,EAAYa,GAAiBrhB,SAE3CwhB,EAAgBF,EAAYG,WAC/BC,GAAMA,EAAEtG,eAAiB8F,IAEtBS,EAAgBJ,EAAYE,WAC/BC,GAAMA,EAAEtG,eAAiB+F,IAEtBS,EAAeN,EAAYhb,OAC/Bkb,EACA,EACAD,EAAYI,IAEdJ,EAAYjb,OAAOqb,EAAe,EAAGC,EAAa,IAClDnB,EAAoBS,GAASG,EAC7BZ,EAAoBU,GAASC,EAC7B1S,EAAQ,GACR,MAAO5M,GACP6M,EAAO,OAKPkT,EAAUC,IAAD,CACbxiB,OAAQ,IACCwiB,EAAanhB,KAAKye,GACF,WAAjBA,EAAKjE,SACAM,EAAkB2D,EAAKlE,aAC5BkE,EACAA,EAAK7G,MAAQ6G,EAAK7G,MAAQ6G,EAAKhE,cAC/BgE,EAAKpf,UAGY,aAAjBof,EAAKjE,SACAO,EAAoB0D,EAAKlE,aAC9BkE,EACAA,EAAK7G,MAAQ6G,EAAK7G,MAAQ6G,EAAKhE,cAC/BgE,EAAKpf,eAJT,MAUA+hB,EAA8BC,IAClC,IAAKA,EAAW,MAAO,GACvB,MAAMC,EAAsB,GACtB9G,EAAW6G,EAAU7G,SACrBD,EAAc8G,EAAU9G,YACd8G,EAAUviB,OAE1B,MAAgB,aAAZ0b,EACKO,EAAoBR,GACzB8G,EACAA,EAAUzJ,MACVyJ,EAAUhiB,SAASW,KAAKye,GAAS2C,EAA2B3C,MAIhD,SAAZjE,EACK4B,EAAgB7B,GAAa,YAAa,QAE5C+G,GAEHC,EAAY/G,IAGhB+G,EAASC,OAAS5B,EAAMpF,GACjB,IACFoF,EAAMpF,MACN0G,EAAOtB,EAAMpF,MAId/P,EAAS,CAAC+P,EAAiBC,KAC/B,GAAIA,KAAiBoF,EAAa,QACzBA,EAAYpF,GACnB,MAAMpZ,EAAQue,EAAMpF,GAAUsG,WAC3BrC,GAASA,EAAKhE,eAAiBA,IAElC,IAAc,GAAVpZ,EAAa,OACjBue,EAAMpF,GAAU7U,OAAOtE,EAAO,KAIlC,MAAMogB,EACJC,YAAYC,GACVzjB,OAAO2K,KAAK8Y,GAAKhe,SAASzG,GAAS2B,KAAK3B,GAAOykB,EAAIzkB,KAErD0kB,YAAYC,GACV,MAAMjjB,EAAcC,KACfgjB,IAEHA,EAAa,QAEf,MAAMC,EAAYljB,EAAO6b,cAEzB,OADAqF,EAAoBgC,GAAaD,EAC1BhjB,MAIX,MAAMkjB,EAAW,CACfvH,EACAD,EACA3C,KAEA,IAAIiF,EAAW,GAEf,GAAIkD,EAAYva,QAAQgV,IAAa,EAAG,CAEtCmF,EAAWnF,KACX,MAAMlR,EAAMqW,EAAWnF,GACjB6G,EAAYrB,EAChBxF,EACAD,EACAjR,EACAsO,GAEFgI,EAAMpF,GAAU5U,KAAKyb,GACrBxB,EAAYwB,EAAU5G,eAAiBoC,EAAM,IAAI4E,EAAOJ,GAE1D,OAAOxE,GAEHmF,EAAQxb,IACZuZ,EAAcvZ,EACdA,EAAI7C,SAAS1G,IACX2iB,EAAM3iB,GAAQ,GACd0iB,EAAW1iB,GAAQ,KAEd,CACL8kB,WACAR,WACA1G,QACAqF,kBACAkB,6BACA3W,SACA6V,SAGJ,MAAO,CACL0B,SAnMkB,GAuMhBpH,EAAc8E,EAAcsC,KAAK,CACrC,YACA,YACA,YAKI1H,EAAY,KACT,CACLC,EACAC,EACAC,KAEA,MAAMwH,EAAc,CAACC,EAAmBzkB,IAC/B,SAAUmM,GAWfnM,EAAG0kB,KAAKtjB,KAAM+K,IAGZwY,EAAkB,CAACF,EAAmBzkB,IACnCwkB,EAAYC,EAAWzkB,GAE1BsM,EAAOqY,EAAgB,QAASxY,IAGhC6Q,IACFwE,EAA0BxE,GAE5B7Q,EAAEyY,qBAGE3H,EAAY0H,EAAgB,aAAcxY,IAC9CyV,EAAaI,aACb7V,EAAEyY,kBACKzY,EAAEO,oBAGLwQ,EAAWyH,EAAgB,YAAaxY,IAC5C,KAAI6Q,GAAiBA,GAAejV,QAAQ,YAAc,GAA1D,CAIA,GAHA0Z,EAAmBzE,cAAgBA,GAAiB,GACpDyE,EAAmB3E,YAAcA,EACjC2E,EAAmB1E,SAAWA,EAC1BC,EAAe,CACjB,MAAMgE,EAAO7D,EAAYsF,gBAAgBzF,GACzC4E,EAAaE,QAAQ,CAAElV,OAAQoU,EAAKpU,SAItC,OADAT,EAAEyY,kBACKzY,EAAEO,qBAEL6Q,EAAYoH,EAAgB,aAAcxY,QAK1C0Y,EAAOF,EAAgB,QAASxY,IAEpC,GAAmC,aAA/BsV,EAAmB1E,SAAyB,CAC9C,IAAKyE,EAAyB,OAC9B,MAAMsD,EAAyB3H,EAAYsF,gBACzCjB,GAGqC,WAAnCsD,EAAuB/H,WAGkB,iBAAvC+H,EAAuBhI,YACzB4E,EAAcxY,MAAQ,CACpB6T,SAAU,QACVD,YAAa,gBACbzb,OAAQ,CAAE8Y,MAAO,UAAW3a,KAAM,SAMpCkiB,EAAcxY,MAAQiU,EAAYmH,SAChC,YACAxH,GACAqH,mBAMD,CAEL,MAAMY,EAAa5H,EAAYsF,gBAC7BhB,EAAmBzE,eAEfgI,EAAY7H,EAAYsF,gBAC5BjB,GAGwB,WAAtBwD,EAAUjI,SACiB,gBAAzBiI,EAAUlI,aACZiI,EAAWnjB,SAASuG,KAGlBgV,EAAYmH,SACV,YACA,kBACAH,YAAYY,EAAW/H,gBAG3BP,EAAI/M,gBAMJyO,EACGwC,cAAcqE,EAAUlI,aACxB8D,MAAMxL,IAGL,GAFA3R,QAAQkD,IAAIyO,GAERA,EAAO3V,IAAK,CACd,MAAMD,EACJ2e,EAAqB2C,mBAAmB,OAE1ChD,EAAiBiH,EAAW/H,eAAe5H,EAAO3V,KACxC,SAARD,EACI4V,EAAOzE,aACLyE,EAAOzE,aAAapD,MAAM,KAC1B,GACF6H,EAAOzE,aAIfZ,OAAO+N,iBAAmBA,EAC1BD,EACEkH,EAAW/H,eACXpR,YAAYzD,KAAKiN,MAEpB6P,OAAO9Y,IACN1I,QAAQkD,IAAIwF,MAOlBgR,EAAY0F,KACVrB,EACAC,EAAmBzE,eAElB4D,MAAK,KACJnE,EAAI/M,kBAELuV,OAAM,KACLxhB,QAAQkD,IAAI,qBAWpB,OANAib,EAAaI,aACbP,EAAmBzE,cAAgB,GACnCyE,EAAmB3E,YAAc,GACjC2E,EAAmB1E,SAAW,GAE9B5Q,EAAEyY,kBACKzY,EAAEO,oBAEX,MAAO,CAAEJ,OAAM2Q,YAAWC,WAAU2H,OAAMtH,cArK5B,GAyKlB,IAAI2H,GAAmB,EACvB,MAAMC,EAAsBC,KACzBF,GACCE,EAAalf,SAAS0W,IACpBO,EAAYmH,SACV,UACA1H,EAAaE,YACbF,EAAazC,UAGnB+K,GAAmB,EACZ/H,EAAY2G,SAAS,WAAW5iB,UAInCmkB,EAAoBxI,EAAU,iBAAkB,aAEhDsE,GAAuBzG,EAAAA,EAAAA,IAAS,CACpC9O,YAAa,GACbkG,OAAQ,CACN6L,WAAY,IACZ5a,KAAM,UACN6a,cAAe,WAIb0H,EAAY,KAChB7kB,OAAO2K,KAAKyS,GAAqB3X,SAAS8a,IACxCnD,EAAoBmD,GAAM1U,MAAQuR,EAAoBmD,GAAM1U,SAGhE,OAAO,WAKL,OADAmQ,EAAMrb,MACC,eAAP,MACc0W,EAAQqD,YADtB,uBAEgBrD,EAAQsD,WAFxB,wDAKc,eALd,QAMiBkK,EANjB,KAOa,QAPb,KAQa,WARb,6DAagBxN,EAAQsE,WAbxB,olCAgDgBtE,EAAQuD,aAhDxB,uBAiDkB,CAACvD,EAAQyD,QAAS,qBAjDpC,CAkDS4J,EAAmB,CAClB,CAAErI,YAAa,eAAgB3C,MAAO,MACtC,CAAE2C,YAAa,gBAAiB3C,MAAO,MACvC,CAAE2C,YAAa,iBAAkB3C,MAAO,MACxC,CAAE2C,YAAa,eAAgB3C,MAAO,MACtC,CAAE2C,YAAa,iBAAkB3C,MAAO,MACxC,CAAE2C,YAAa,gBAAiB3C,MAAO,MACvC,CAAE2C,YAAa,mBAAoB3C,MAAO,MAC1C,CAAE2C,YAAa,mBAAoB3C,MAAO,OAC1C,CAAE2C,YAAa,iBAAkB3C,MAAO,MACxC,CAAE2C,YAAa,iBAAkB3C,MAAO,WA5DlD,yBAgEkB,QAhElB,MAiEerC,EAAQ+D,SAjEvB,OAkEgBwJ,EAAkBR,KAlElC,WAmEoBQ,EAAkBnI,UAnEtC,CAsES,CAACC,EAAYwG,2BAA2BjC,EAAcxY,aAtE/D,0CA0EkBwV,EAAWxV,MA1E7B,MA2EaiV,EAAqBoD,eAAiB,OA3EnD,WA4EiB,EA5EjB,YA6EmBpD,EAAqBqC,OA7ExC,MA8EY,SA9EZ,mDAiFY,kBAjFZ,aAkFsBW,EAlFtB,YAmFmBhD,EAAqBmD,gBAnFxC,4BAqFiB,qBArFjB,sCAuFe,UAvFf,KAwFe,QAxFf,QAyFmBnD,EAAqBqC,QAzFxC,qEA8Fe,UA9Ff,KA+Fe,QA/Ff,QAgGmBrC,EAAqBiD,gBAhGxC,2CCnpCN,MAAMmE,EAAa,CACjBC,UAAW,CACT1O,MAAO,SACP2O,OAAQ,UAGVC,qBAAsB,CACpBpL,UAAW,SACXpD,SAAU,OACVlU,MAAO,OACPuX,WAAY,QAEdoL,cAAe,CACbrL,UAAW,UAGf,OAAe1C,EAAAA,EAAAA,IAAgB,CAC7BC,QAGE,MAAM,QAAEC,GAAY/H,OAAOgI,kBAAkBwN,GACvCK,EAAsBvkB,GACnB,uZAeKA,YAGRwkB,EAAe,SAAUvZ,EAAe2F,GAC5C,MAAO,y7GAoIG3F,qBACA2F,+BAON6T,IAFW3M,EAAAA,EAAAA,OAEHuB,EAAAA,EAAAA,IAAS,CACrBqL,QAASF,GAAa,GAAO,GAC7BG,UAAW,qrCA0CXC,QAAS,kiEA2ETC,oBAAqB,k6BAoCrBC,WAAY,ukCAwCZC,SAAUP,GAAa,GAAO,GAC9BQ,cAAc,KAEhB,IAAIC,EAAuB,GAC3B,MAAMpU,EAAQ,CACZqU,OAAQ,KACNT,EAAMO,cAAe,EACrBP,EAAMM,SAAWP,GAAa,GAAM,IAEtCW,SAAU,KACRV,EAAMM,SAAWE,EACjBR,EAAMO,cAAe,GAEvBrL,WAAWtb,GACT4mB,EAAkB/T,KAAKyL,MAAMte,GAC7B4mB,EAAgBha,MAAO,EACvBga,EAAkBV,EAAmBrT,KAAKC,UAAU8T,KAEtDrU,OACExO,QAAQkD,IAAI,QACZmf,EAAMM,SAAWP,GAAa,GAAO,KAsDzC,MAAO,KACE,eAAP,MACc/N,EAAQ0N,WADtB,0CAac,IAbd,KAcYM,EAAME,UAdlB,MAeY,kBAfZ,yBAkBc,IAlBd,KAmBYF,EAAMK,WAnBlB,MAoBY,mBApBZ,yBAuBc,IAvBd,KAwBYL,EAAMG,QAxBlB,MAyBY,mBAzBZ,yBA4Bc,IA5Bd,KA6BYH,EAAMI,oBA7BlB,MA8BY,2BA9BZ,yBAiCc,IAjCd,KAkCYJ,EAAMC,QAlClB,MAmCY,cAnCZ,yBAsCc,IAtCd,KAuCYD,EAAMM,SAvClB,MAwCY,aAxCZ,IAyCU,WAzCV,aA0CoBlU,EAAM8I,YA1C1B,oCA4CkBlD,EAAQ6N,eA5C1B,CA6CS,CACEG,EAAMO,cAAP,oCAKkB,UALlB,QAKqCnU,EAAMsU,UAL3C,uEACkB,UADlB,QACqCtU,EAAMqU,QAD3C,mCADD,oCAUiB,UAVjB,QAUoCrU,EAAMD,MAV1C,yCA7CT,0B,WCrcJqS,EAAAA,EAAAA,GAAS,wCAA4C,CACnDmC,QACEhjB,QAAQkD,IACN,uGAIJ+f,aACEjjB,QAAQkD,IAAI,wCAEdggB,SACEljB,QAAQkD,IAAI,6CAEdigB,cACEnjB,QAAQkD,IAAI,gCAEdyP,UACE3S,QAAQkD,IAAI,8CAEdkgB,UACEpjB,QAAQkD,IACN,kEAGJjD,MAAMA,GACJD,QAAQC,MAAM,4CAA6CA,M,qDCpBjE,SAASojB,IAEP,OADAC,EAAAA,GAAAA,OAAUC,EAAAA,EAAAA,MACH,CACL/Q,QAAQD,GAGNjG,OAAOgI,kBAAoB/B,EAAIZ,OAAO6R,iBAAoBnP,GACjDiP,EAAAA,GAAAA,iBAAqBjP,GAASoP,YAK7CC,EAAAA,EAAAA,IAAUC,GAAKC,IAAIP,KAAYO,IAAIC,EAAAA,GAAYD,IAAIE,EAAAA,IAAWxR,MAAM,S,yMCbpE,0BAAe6B,EAAAA,iCAAAA,IAAgB,CAC7BrX,MAAO,CACL8X,KAAMC,OACNzV,OAAQ5B,QAEViY,MAAO,CAAC,cACRrB,MAAMtX,OAAO,KAAE2D,OACb,MAAM,KAAEmU,KAAF,OAAQxV,SAAWuW,EAAAA,iCAAAA,IAAO7Y,OAC1BinB,UAAWpd,EAAAA,iCAAAA,IAAI,IACrB,IAAIwL,UAAY,GAChB,MAAM6R,cAAgB,CACpBC,YAAa,CACX5Q,MAAO,QACPjU,OAAQA,OAAOqG,MAAQ,KACvBsN,QAAS,eACTgB,MAAO,QACPJ,QAAS,SACTP,WAAY,OACZyE,UAAW,eAGT4C,UAAaxe,IACD,gBAAZA,EAAIF,MACN0E,KAAK,aAAcxE,EAAIA,IAAIsV,iBAGzBiJ,WAAcve,IAClB+D,QAAQkD,IAAI,SAAUjH,KAIlB,QAAEoY,SAAY/H,OAAOgI,kBAAkB0P,eACvCE,mBAAqB,KACzBH,SAASte,MAAQ,GACjB0M,UAAY,GACZrC,KAAK8E,KAAKnP,QAIZ,OAFAye,sBACA1N,EAAAA,iCAAAA,IAAM5B,KAAMsP,oBACL,WACL,OAAO,8CAAP,MACc7P,QAAQ4P,aADtB,4GAGiBF,SAASte,MAH1B,aAIoB0M,UAJpB,YAKmBsI,UALnB,aAMoBD,YANpB,a,y8CCvCN,IAAItf,KAAO,KACX,MAAMC,QAAU,aACVC,aAAe,YACfC,aAAe,SACfC,QAAU,OACVC,SAAW,aACXC,OAAS,+BACTC,UAAY,MACZC,YAAc,MAEdC,YAEJ,CAAC,WAAY,UAAW,aAAc,kBAAmB,mBAAoB,MAAO,gBAAiB,YAAa,kBAAmB,YAAa,sBAAuB,YAAa,cAAe,iBAAkB,iBAAkB,WAAY,UAAW,kBAAmB,eAAgB,mBAC/RC,YAAc,eAEdC,QAAUC,GAAS,CAACC,EAAMC,IAAQ,CAACC,EAAKC,EAAc,MAC1DJ,EAAMK,MAAMhB,QAAS,CACnBY,OACAC,MACAC,SACGC,KAIDE,UAAYN,GAAS,CAACC,EAAMC,IAAQC,IACxCH,EAAMK,MAAMf,aAAc,CACxBW,OACAC,MACAC,SAISI,WAAa,SAAUC,EAAMC,GACxC,IAAIC,EAAQ,KACZ,OAAO,YAAaC,GAClB,IAAIX,EACAU,GAAOE,aAAaF,GACxBA,EAAQG,YAAW,KACjBJ,EAAGK,MAAMd,EAAOW,GAChBC,aAAaF,KACZF,KAGDO,SAAW,CACfC,MAAO,CACLC,UAAW,CACThB,KAAMiB,OACNC,QAAS,KAAM,KAEjBC,QAAS,CACPnB,KAAMiB,OACNC,QAAS,KAAM,KAEjBE,YAAa,CACXpB,KAAMqB,MACNH,QAAS,IAAM,IAEjBI,aAAc,CACZtB,KAAMuB,QACNL,SAAS,GAEXM,aAAc,CACZxB,KAAMyB,OACNP,QAAS,OAIbQ,SACE,MAAMC,EAASC,KACTC,EAASF,EAAOX,UAChBc,EAAWH,EAAOP,YAClBW,EAAQJ,EAAOL,aACfE,EAAeG,EAAOH,aACtBQ,EAAc,CAClBC,QAAS,IAAMC,eAAeC,KAAK,CACjCC,SAAU,CAACC,qDAAAA,QACRC,EACHC,QAASC,EAAW,aAEtBC,SAAU,IAAMP,eAAeC,KAAK,CAClCC,SAAU,CAACM,qDAAAA,QACRJ,EACHC,QAASC,EAAW,cAEtBG,OAAQ,IAAMT,eAAeC,KAAK,CAChCC,SAAU,CAACQ,qDAAAA,QACRN,EACHC,QAASC,EAAW,aAIlBK,EAAiB,IAAMxB,MAAMyB,QAAQhB,GAAYA,EAASiB,KAAIC,GAAcA,KAAchB,EAAcA,EAAYgB,KAAgB,KAAM,GAE1IC,EAAQ,KAAMC,EAAAA,iCAAAA,GAAEvD,YAAa,CACjCwD,IAAKxB,EAAOR,QAAQiC,IACpBC,OAAQ,OACLxB,EACHyB,MAAO,8BAGHhB,EAAW,CACfiB,KAAM,GACNC,MAAO,QAGHhB,EAAaxC,GAAQ,KACzB2B,EAAOvB,MAAM,WAAYJ,EAAMwB,IAG3BiC,EAAgB,KAAMP,EAAAA,iCAAAA,GAAExD,UAAW,CACvC4D,MAAO,kCACNT,KAEH,IAAIa,EAAS,KAKb,OAJAA,GAASR,EAAAA,iCAAAA,GAAExD,UAAW,CACpB4D,MAAO,gCACPK,MAAO,iBACN5B,GAASD,EAAS8B,OAAS,EAAI,CAACX,IAASQ,KAAmB,CAACR,MACzDS,IAILG,aAAe,CACnB9C,MAAO,CACL+C,WAAY,CACV9D,KAAMiB,OACNC,QAAS,KAAM,KAEjB6C,QAAS,CACP/D,KAAMqB,MACNH,QAAS,IAAM,KAInBQ,SACE,MAAMC,EAASC,KACTC,EAASF,EAAOmC,WACtB,IAAIE,EAAOrC,EAAOoC,QAEb1C,MAAMyB,QAAQkB,KACjBA,EAAO,GACPC,QAAQC,MAAM,oBAGhB,MAAMC,EAAQ,SAAUnE,EAAMoE,GAC5BzC,EAAOvB,MAAMJ,EAAMoE,IAGrB,OAAOlB,EAAAA,iCAAAA,GAAExD,UAAW,CAClB4D,MAAO7D,QACNuE,EAAKjB,IAAMiB,EAAKjB,KAAI,CAACsB,EAAQD,KACvBlB,EAAAA,iCAAAA,GAAEpC,SAAU,CACjBK,QAASkD,EACTrD,UAAWa,EAAOyC,WAAa,GAC/BlD,YAAaS,EAAOC,SACpBR,aAA4C,kBAAvBO,EAAOP,cAA4BO,EAAOP,aAC/DE,aAAc4C,EACdG,WAAYJ,MAEX,MAIHjC,eAAiB,CACrBsC,OAAQ,CAAC3C,EAAQ4C,KACGA,EAAMC,KAAK,SAAU7C,EAAO5B,KAA9C,MACML,EAAc6E,EAAME,iBAAiB9C,GAC3C,OAAO4C,EAAMG,gBAAe1B,EAAAA,iCAAAA,GAAE2B,0CAAAA,GAAU,IAAKjF,KACxC6E,EAAMK,eAAejD,EAAQ4C,GAChCM,WAAYN,EAAMO,cAAcnD,KAC9BA,EAAQ4C,IAEdQ,KAAM,CAACpD,EAAQ4C,KACb,MAAMS,EAAYT,EAAMC,KAAK,SAAU7C,EAAO5B,KACxCL,EAAc6E,EAAME,iBAAiB9C,GAC3C,OAAO4C,EAAMG,gBAAe1B,EAAAA,iCAAAA,GAAEiC,0CAAAA,GAAc,IAAKvF,KAC5C6E,EAAMK,eAAejD,EAAQ4C,GAChCM,WAAYN,EAAMO,cAAcnD,GAChC,sBAAuBvB,WAAW,IAAI,SAAUJ,GAC9CuE,EAAMW,eAAelF,EAAK2B,EAAOwD,iBAAmBxD,EAAO5B,KAC3DiF,EAAUhF,QAEV2B,EAAQ4C,IAEda,KAAM,CAACzD,EAAQ4C,KACb,MAAM7E,EAAc6E,EAAME,iBAAiB9C,GACrCqD,EAAYT,EAAMC,KAAK,SAAU7C,EAAO5B,KAC9C,OAAOwE,EAAMG,gBAAe1B,EAAAA,iCAAAA,GAAEqC,0CAAAA,EAAc,IAAK3F,KAC5C6E,EAAMK,eAAejD,EAAQ4C,GAChCM,WAAYN,EAAMO,cAAcnD,GAChC,sBAAuBvB,WAAW,IAAI,SAAUJ,GAC9CuE,EAAMW,eAAelF,EAAK2B,EAAOwD,iBAAmBxD,EAAO5B,KAC3DiF,EAAUhF,QAEV2B,EAAQ4C,IAUdV,QAAS,CAAClC,EAAQ4C,KAChB,MAAMe,EAAOf,EAAMpE,UAAU,YAAawB,EAAO4D,iBAEjD,OAAOhB,EAAMG,gBAAe1B,EAAAA,iCAAAA,GAAEW,aAAc,CAC1CE,QAASU,EAAMiB,kBAAkB7D,EAAO8D,iBACxC7B,WAAYjC,KACTA,EACH+D,UAAW,SAAUxB,GACnBoB,EAAK,CACHxF,KAAM,UACNC,IAAK4B,EAAO5B,IACZmE,WAGJyB,SAAU,SAAUzB,GAClBoB,EAAK,CACHxF,KAAM,SACNC,IAAK4B,EAAO5B,IACZmE,WAGJ0B,WAAY,SAAU1B,GACpBoB,EAAK,CACHxF,KAAM,WACNC,IAAK4B,EAAO5B,IACZmE,aAGFvC,EAAQ4C,IAEdsB,OAAQ,CAAClE,EAAQ4C,KAEf,MAAMuB,EAA6B,UAAlBnE,EAAOoE,QAClBrG,EAAc6E,EAAME,iBAAiB9C,GAC3C,IAAIqE,EAAUrE,EAAOsE,OAEjBD,GACE7E,MAAMyB,QAAQoD,YACTrE,EAAOsE,OACdD,EAAUA,EAAQE,KAAK,MAI3B,MAAMC,EAAgB,SAAUxE,GAC9B,MAAMyE,EAAiBzE,EAAOwD,iBAAmBxD,EAAO5B,KAClD,KACJsG,EADI,IAEJnD,GACEvB,EAAO2E,OAAS,CAClBD,KAAM,OACNnD,IAAK,QAENqB,EAAM1E,MAAM0G,SAASH,IAAmB,IAAII,SAAQC,IAC7C,SAAUA,GAAW,QAASA,IAClCA,EAAKJ,KAAOI,EAAKJ,GACjBI,EAAKvD,IAAMuD,EAAKvD,OAIpB,MAAMwD,EAAc,KAClB,KAAIN,KAAkB7B,EAAM1E,MAAM0G,UAShC,OADAxC,QAAQ4C,KAAK,sBAAwBP,GAC9B,GARP,IACE,OAAO7B,EAAM1E,MAAM0G,SAASH,GAC5B,MAAOpC,GAEP,OADAD,QAAQ4C,KAAK,sBAAwBP,GAC9B,KAQb,MAAO,CACLQ,SAAUF,MAIRG,EAAcf,EAAW,CAC7B1C,MAAO,gCACJ+C,EAAcxE,MACd4C,EAAMK,eAAejD,EAAQ4C,IAC9B,IAAKA,EAAMK,eAAejD,EAAQ4C,MAEjC4B,EAAcxE,MACdjC,GAEL,OAAO6E,EAAMG,gBAAe1B,EAAAA,iCAAAA,GAAE8D,0CAAAA,GAAU,CACtCC,cAAeC,IACbjD,QAAQkD,IAAID,OAEXH,EACHZ,OAAQD,IACP,IAAMF,EAAW,GAAKvB,EAAM2C,kBAAkBvF,KAAUA,EAAQ4C,IAErEtC,KAAMN,IACJ,IAAIO,EAAW,GACf,MAAMiF,EAAcC,iBAAiBzF,GAErC,IACEO,GAAYP,EAAOO,UAAY,IAAIW,KAAIwE,IAC9BrE,EAAAA,iCAAAA,GAAEqE,KAEX,MAAOrD,GAEP9B,EAAW,GAGb,OAAOc,EAAAA,iCAAAA,GAAEsE,0CAAAA,GAAQ,IAAKH,IACnB,IAAMjF,KAEXqF,KAAM,CAAC5F,EAAQ4C,KACb,IAAIM,EAAY2C,EAEZjD,GAASA,EAAMO,gBACjBD,EAAaN,GAASA,EAAMO,cAAcnD,GAC1C6F,EAAWjD,EAAMK,eAAejD,EAAQ4C,IAG1C,MAAM4C,EAAc5C,EAAME,iBAAiB9C,GAC3C,OAAO4C,EAAMG,gBAAe1B,EAAAA,iCAAAA,GAAE3D,QAAS,IAAKmI,KACvCL,GACF,CAAC5C,EAAMkD,gBAAgB9F,EAAO+F,YAAc7C,GAAc,KAAMlD,EAAQ4C,IAE7EoD,UAAW,CAACC,EAASrD,KAGnB,MAAM7E,EAAc6E,EAAME,iBAAiBmD,GAC3C,OAAOrD,EAAMG,gBAAe1B,EAAAA,iCAAAA,GAAE,MAAO,IAAKuB,EAAMK,eAAegD,EAASrD,MACnE7E,GACF6E,EAAM2C,kBAAkBU,IAAWA,EAASrD,IAEjDsD,YAAa,CAAClG,EAAQ4C,IACbA,EAAMG,gBAAe1B,EAAAA,iCAAAA,GAAE8E,0CAAAA,GAAe,CAC3CjD,WAAYN,EAAMO,cAAcnD,MAC7B4C,EAAMK,eAAejD,EAAQ4C,MAC7B5C,IACDA,GAENoG,MAAO,CAACpG,EAAQ4C,KACd,MAAMyD,EAAcrG,EAAOO,SAE3B,cADOP,EAAOO,SACPqC,EAAMG,gBAAe1B,EAAAA,iCAAAA,GAAEiF,2CAAAA,GAAS,CACrCpD,WAAYN,EAAMO,cAAcnD,GAEhCU,QAASjC,WAAW,IAAI,KACtBmE,EAAMW,eAAevD,EAAOuG,MAAOvG,EAAOwD,iBAAmBxD,EAAO5B,WAEnE4B,IACF,IAAMqG,IAAcrG,EAAQ4C,IAEjC4D,SAAU,CAACxG,EAAQ4C,KACjB,MAAMyD,EAAcrG,EAAOO,SAE3B,cADOP,EAAOO,SACPqC,EAAMG,gBAAe1B,EAAAA,iCAAAA,GAAEoF,2CAAAA,GAAY,CACxCvD,aAAY1D,MAAMyB,QAAQ2B,EAAMO,cAAcnD,KAAW4C,EAAMO,cAAcnD,GAAQ0G,QAAQ1G,EAAOuG,QAAU,EAE9G7F,QAASjC,WAAW,IAAI,WACtB,MAAMkI,EAAY/D,EAAMO,cAAcnD,GAChC4G,EAAWD,EAAUD,QAAQ1G,EAAOuG,OAEtCK,GAAY,EACdD,EAAUE,OAAOD,EAAU,GAE3BD,EAAUG,KAAK9G,EAAOuG,aAGvBvG,IACF,IAAMqG,IAAcrG,EAAQ4C,IAEjCmE,MAAO,CAAC/G,EAAQ4C,KAEd,GAAsB,UAAlB5C,EAAOoE,QACT,OAAO/D,eAAe6F,YAAYlG,EAAQ4C,GAG5C,MAAM4C,EAAc5C,EAAME,iBAAiB9C,GAC3C,OAAO4C,EAAMG,gBAAe1B,EAAAA,iCAAAA,GAAE2F,2CAAAA,GAAS,CACrC9D,WAAYN,EAAMO,cAAcnD,MAkB7B4C,EAAMK,eAAejD,EAAQ4C,GAChCqE,YAAajH,EAAOiH,YACpB9I,KAAM6B,EAAOoE,QAAUpE,EAAOoE,QAAU,UACrCoB,IACDxF,EAAQ4C,IAEdsE,OAAQ,CAAClH,EAAQ4C,KACf,MAAMuE,EAAevE,EAAME,iBAAiB9C,GACtCiG,EAAUjG,EAAOiG,QACjBmB,EAAS,GACTC,EAAWrH,EAAOsH,gBAAkB,QACpCC,EAAWvH,EAAOwH,gBAAkB,QAEpCC,EAAS,CAACC,EAAM,OACnBA,GAAO,IAAI7C,SAAQC,IAClB,MAAM6C,GAActG,EAAAA,iCAAAA,GAAEuG,2CAAAA,GAAU,CAC9BC,MAAO/C,EAAKyC,GACZhB,MAAOzB,EAAKuC,KAEdD,EAAON,KAAKa,OAKhB,OADAF,EAAO7E,EAAMkF,iBAAiB7B,IACvBrD,EAAMG,gBAAe1B,EAAAA,iCAAAA,GAAE0G,2CAAAA,GAAU,CACtC7E,WAAYN,EAAMO,cAAcnD,MAC7B4C,EAAMK,eAAejD,EAAQ4C,MAC7BuE,IACF,IAAMC,IAASpH,EAAQ4C,IAE5BoF,OAAQ,CAAC/B,EAASrD,KAChB,MAAM4C,EAAc5C,EAAME,iBAAiBmD,GAC3C,OAAOrD,EAAMG,gBAAe1B,EAAAA,iCAAAA,GAAE4G,2CAAAA,GAAU,IAAKzC,EAC3C9E,QAAS,IAAMkC,EAAMpE,UAAU,YAAayH,EAAQ7H,IAArCwE,KACd,IAAMA,EAAM2C,kBAAkBU,KAAWA,EAASrD,IAEvDsF,UAAW,CAACjC,EAASrD,EAAOuF,KAC1B,MAAMC,EAAe,GACrB,IACIC,EADAC,EAAgB,KAGhBH,GACFG,EAAgBH,EAAaI,eAC7BF,EAAWF,EAAaK,WAExBF,EAAgBG,2CAAAA,GAGlB,MAAMC,EAAS9F,EAAM+F,YAIrB,OAHA1C,EAAQpB,SAAQ,CAACC,EAAMvC,KACrB6F,EAAatB,KAAKzG,eAAeuI,cAAc9D,EAAMlC,EAAOL,EAAO8F,QAE9DhH,EAAAA,iCAAAA,GAAEiH,EAAe,CAItBO,MAAOjG,EAAM1E,MAAM2K,MACnBC,MAAOlG,EAAM1E,MAAM0G,SACnBmE,IAAKpL,YAEF+K,GAELL,EAAWD,EAAe,IAA6B,GAAvBA,EAAarG,QAAcV,EAAAA,iCAAAA,GAAE,MAAO,CAClEI,MAAO,0DACN,CAAC,YAAc2G,IAEpBQ,cAAe,CAAC5I,EAAQ4C,EAAOL,EAAOyG,KACpC,IAAKhJ,EAAO4D,gBAAiB,MAAO,GACpC,MAAMA,EAAkB5D,EAAO4D,iBAAmB,YAC5CqF,EAAmBjJ,EAAOiJ,iBAC1B7K,EAAM4B,EAAO5B,IACb8K,EAAWtG,EAAMuG,mBAAmBvF,GAE1C,GAAyB,QAArBsF,EAASE,SAAoB,CAC/B,IAAIF,EAAS9E,WAAW8E,EAAS9E,WAAW/D,gBAK1C,OAAK6I,EAAS9E,SACRpE,EAAOqJ,UACFzG,EAAM0G,iBAAiBtJ,GAI3BK,eAAe2F,UAAU,CAC9BzF,SAAU,CAAC2I,EAAS9E,QAAU,UAAY8E,EAAS9E,QAAU,aAC5DxB,GAXHvC,eAAe6I,EAAS9E,SAASpE,EAAQ4C,GAe7C,MAAM2G,EAAkB,CAACC,EAAQvD,EAASrD,KACxC,GAAI4G,KAAUnJ,eAAgB,CAE5B,MAAMoJ,EAAiB,GACjBC,EAAezD,EAAQ0D,gBAE7B,OAAInK,MAAMyB,QAAQyI,IAA4B,SAAXF,UAC1BvD,EAAQ0D,gBACfD,EAAa7E,SAAQ7E,IACnB,MAAMkJ,EAAWlJ,EAAO4D,gBAAkBhB,EAAMuG,mBAAmBnJ,EAAO4D,iBAAmB,GAEzF5D,EAAO4D,kBAET4F,EAASN,EAASE,UAIpBK,EAAe3C,KAAKzG,eAAemJ,GAAQ,CACzCpL,IAAK6H,EAAQ7H,OACV4B,KACAkJ,GACFtG,OAEE6G,GAGF,CAACpJ,eAAemJ,GAAQ,IAAKvD,KAC/BiD,GACFtG,IAGH,MAAO,IAIL4C,EAAc5C,EAAME,iBAAiB9C,GAErC4J,EAAoB,CAACC,EAAUC,KACnC1K,OAAO2K,KAAKD,GAAUjF,SAAQzG,IACjB,SAAPA,IACFyL,EAASzL,IAAQyL,EAASzL,IAAQ,IAAO,IAAG0L,EAAS1L,SAGlDyL,GAGT,OAAOjH,EAAMG,gBAAe1B,EAAAA,iCAAAA,GAAE2H,GAAYgB,2CAAAA,GAAYJ,EAAkB,IAAKK,UAAUrH,EAAOL,GAC5F2H,KAAM9L,EACNmI,MAAO3D,EAAMkD,gBAAgBmD,MAC1BzD,GACF,CACD/D,MAAQ,GAAEmB,EAAMuH,UAAY,qBAAuB,MAAMvH,EAAMwH,gBAAkB,qBAAuB,OACtGpB,EAAW,CAACO,EAAgBL,EAASE,SAAU,IAAKpJ,KACnDkJ,GACFtG,IAAU,IAAM,CAAC2G,EAAgBL,EAASE,SAAU,IAAKpJ,KACvDkJ,GACFtG,GAAQA,EAAMwH,iBAAkB/I,EAAAA,iCAAAA,GAAE,MAAO,CAC1CI,MAAO,eACN,EAACJ,EAAAA,iCAAAA,GAAE4G,2CAAAA,GAAU,CACd9J,KAAM,SACNuD,KAAM,QAENhB,UACEkC,EAAMpE,UAAU,YAAa,GAA7BoE,CAAiC,CAC/BzE,KAAM,gBACNkM,QAASzH,EAAM1E,MAAMoM,aAAaC,YAClC1C,MAAO7H,EACPwK,IAAKjI,OAIR,IAAM,CAAC,SAAQlB,EAAAA,iCAAAA,GAAE4G,2CAAAA,GAAU,CAC5B9J,KAAM,UACNuD,KAAM,QAENhB,UACEkC,EAAMpE,UAAU,YAAa,GAA7BoE,CAAiC,CAC/BzE,KAAM,cACNkM,QAASzH,EAAM1E,MAAMoM,aAAaC,YAClC1C,MAAO7H,EACPwK,IAAKjI,OAIR,IAAM,CAAC,UAAW,KAAMvC,EAAQ4C,KAIjCqH,UAAY,MAChB,IAAIQ,GAAe,EACfC,GAAa,EACbC,GAAa,EACjB,MAAMC,EAAY,+BAEZC,EAAYC,IAChBA,EAAEC,aAAaC,WAAa,QAG9B,MAAO,CAACpI,EAAOL,KACb,MAAM0I,EAAOrI,EAAMuH,UACbe,EAAY,CAChBpJ,MAAQ,IAAEmJ,EAAO,qBAAuB,IACxCE,WAAW,EACXC,OAAQN,IACND,EAAUC,GACVH,GAAa,EACbF,EAAclI,EACPuI,EAAEO,kBAEXC,WAAYR,IACVD,EAAUC,GACVA,EAAES,OAAOC,UAAUC,IAAIb,GAChBE,EAAEO,kBAEXK,YAAaZ,IACXA,EAAES,OAAOC,UAAUG,OAAOf,KACrBD,GACEG,EAAEO,kBAEXO,OAAQd,IACNA,EAAES,OAAOC,UAAUG,OAAOf,GAC1BD,GAAa,EACbD,EAAYnI,EACZK,EAAMiJ,gBAAgBpB,EAAaC,GACnCD,GAAe,EACfC,GAAa,IAGXoB,EAAe,GACrB,OAAOb,EAAOC,EAAYY,IAzCZ,GA6CZC,WAAaC,IACjB,MAAMC,EAAWD,EAAME,MAAM,IACvBC,EAAQF,EAASG,QAAQC,cAC/B,MAAQ,KAAIF,IAAQF,EAAS1H,KAAK,OAG9BkB,iBAAmBQ,IACvB,MAAMqG,EAAgB,GAItB,OAHAlN,OAAO2K,KAAK9D,GAASpB,SAAQ0H,IACtBxO,YAAYyO,SAASD,KAASD,EAAcC,GAAUtG,EAAQsG,OAE9DD,GAGHG,SAAW,MACf,MAAMC,EAAc,CAAC,QAAS,SAAU,OAAQ,YAAa,cAC7DA,EAAYrN,QAAU,QACtB,MAAMsN,EAAe,CAAC,UACtBA,EAAatN,QAAU,SACvB,MAAMuN,EAAa,CAAC,SACpBA,EAAWvN,QAAU,QACrB,MAAMwN,EAAe,CAAC,UAAW,SAAU,UAAW,QAAS,WAAY,SAAU,SAAU,SAAU,UACzGA,EAAaxN,QAAU,SACvB,MAAMyN,EAAkB,CAAC,QAAS,YAAa,cAC/CA,EAAgBzN,QAAU,QAC1B,MAAM0N,EAAiB,CAAC,QAAS,YAAa,aAAc,UAC5DA,EAAe1N,QAAU,SACzB,MAAM2N,EAAc,CAAC,QAAS,YAAa,aAAc,UACzDA,EAAY3N,QAAU,QACtB,MAAM4N,EAAa,CAAC,QAAS,YAAa,aAAc,SAAU,OAAQ,QAAS,iBAAkB,cAAe,iBACpHA,EAAW5N,QAAU,SACrB,MAAM6N,EAAa,CAAC,QAAS,YAAa,aAAc,SAAU,OAAQ,QAAS,iBAAkB,cAAe,iBACpHA,EAAW7N,QAAU,SACrB,MAAM8N,EAAe,CAAC,QAAS,YAAa,aAAc,UAC1DA,EAAa9N,QAAU,SACvB,MAAM+N,EAAM,CACVrG,MAAO2F,EACPxF,OAAQyF,EACR/G,KAAMgH,EACN1I,OAAQ2I,EACR7G,UAAW8G,EACXtG,SAAUuG,EACV3G,MAAO4G,EACPvJ,KAAMwJ,EACN7J,KAAM8J,EACNvK,OAAQwK,GAGJE,EAAY,CAACC,EAAQtB,KACzB,GAAIsB,KAAUF,EAAK,CACjB,GAAI5N,MAAMyB,QAAQ+K,GAAQ,CACxB,MAAMuB,EAAY,GACZC,EAAeJ,EAAIE,GAAQjO,QAC3BoO,EAAkB,CACtBC,cAAeF,EACfG,WAAY5B,WAAWyB,IAezB,OAbAxB,EAAMnH,SAAQ+I,IACRA,GAAaJ,IAEbJ,EAAIE,GAAQd,SAASoB,GACvBL,EAAUzG,KAAK,CACb4G,cAAeE,EACfD,WAAY5B,WAAW6B,KAGzBxL,QAAQ4C,KAAK,UAAYsI,EAAS,MAAQtB,EAAQ,UAGtDuB,EAAUzG,KAAK2G,GACRF,EAMP,OAJKH,EAAIE,GAAQjO,SACf+C,QAAQ4C,KAAK,kCAAoCsI,GAG5C,CAAC,CACNI,cAAeN,EAAIE,GAAQjO,QAC3BsO,WAAY5B,WAAWqB,EAAIE,GAAQjO,WAKvC,OADA+C,QAAQ4C,KAAK,OAASsI,EAAS,QACxB,IAILO,EAAkBP,GACfF,EAAIE,IAASjO,QAGtB,MAAO,CACLgO,YACAQ,oBA/Ea,GAmFXC,QAAU,CACdC,QAAS,CACPC,UACE,MAAMlO,EAASC,KACf,OAAOD,EAAOmO,MAAMtQ,WAGtBuQ,QAAQpJ,GACN,MAAMhF,EAASC,KACfD,EAAOwK,aAAaC,YAAYzD,KAAKhC,GAErChF,EAAOqO,qBAGTA,oBACE,MAAMrO,EAASC,KACfD,EAAOsO,WAAU,KACftO,EAAOuO,mBAIXC,WAAWC,GACT,MAAMzO,EAASC,KACTyO,EAAS,WAAa1O,EAAO2O,KAEnC,GAAID,KAAUE,OAAQ,CACpB,MAAMC,EAAeD,OAAO,WAAa5O,EAAO2O,MAAMG,eAEhDC,EAAWzP,OAAO2K,KAAKwE,GAAeO,QAAO,CAAC/F,EAAKgG,MACrB,GAA9BJ,EAAajI,QAAQqI,KAAYhG,EAAIgG,GAAOR,EAAcQ,IACvDhG,IACN,IACHjJ,EAAOvB,MAAM,aAAcsQ,GAG7B,OAAO,IAAIG,SAAQ,CAACC,EAASC,KAC3BnQ,YAAW,KACTkQ,EAAQ,MACP,WAMLE,MAAQ,CACZC,KAAM,KAAM,CACVC,cAAe,GACfC,aAAc,UACdb,MAAM,IAAIc,MAAOC,aAGfC,MAAQ,CACZvQ,MAAO,CACL0F,SAAU,CACRzG,KAAMiB,OACNC,QAAS,KAAM,KAEjBiL,aAAc,CACZnM,KAAMiB,OACNC,QAAS,KAAM,KAEjBqQ,WAAY,CACVvR,KAAMiB,OACNC,QAAS,KAAM,KAEjBwJ,MAAO,CACL1K,KAAMiB,OACNC,QAAS,KAAM,OAKfsQ,eAAiB,SAAU7P,QAC/B,MAAM8P,SAAW3R,QAAQ6B,QAEnB+P,WAAarR,UAAUsB,QAEvBgQ,OAAS,GAET3G,mBAAqBhL,IACzB,MAAM4R,EAAU5R,EAAK+N,MAAM,KACrB9C,EAAW2G,EAAQ,GACnB3L,EAAU2L,EAAQ,GACxB,MAAO,CACL3G,WACAhF,YAIEjB,cAAgB/E,IACpB,IACI4R,EADAC,EAAO,KAEX,OAAK7R,GAEa,iBAAPA,EACT6R,EAAO7R,GAEP6R,EAAO7R,EAAIA,IACX4R,EAAc5R,EAAIoF,iBAGhBwM,GAAeA,KAAelQ,OAAO8E,WACvCqL,EAAOD,GAGLC,KAAQnQ,OAAO8E,SACV9E,OAAO8E,SAASqL,GAGhB,MAjBQ,MAqBbhN,eAAiB,CAACjD,EAAQ4C,KAC9B,IAAK5C,EAAO4D,gBAAiB,MAAO,GACpC,MAAMwF,EAAWD,mBAAmBnJ,EAAO4D,iBAAiBwF,SACtD8G,EAAYzD,SAASY,UAAUjE,EAAUpJ,EAAOmQ,eAChDC,EAAS,GA0Cf,OAzCAF,EAAUrL,SAAQ,EAChB8I,aACAD,oBAEA,MAAMrK,EAAYuM,SAASlC,EAAe1N,EAAO5B,KAE3CoP,EAAef,SAASoB,gBAAgBzE,GAI5CgH,EAAOzC,GAFLD,GAAiBF,EAEE,CAACnP,EAAKyM,KAOzB,GANK9K,EAAOqQ,qBACVzN,EAAMW,eAAelF,EAAK2B,EAAOwD,iBAAmBxD,EAAO5B,KAK/B,UAA1B4B,EAAO4D,gBAA6B,CACtC,MAAM2D,EAAWvH,EAAOwH,gBAAkB,QACpCH,EAAWrH,EAAOsH,gBAAkB,QACpCgJ,EAAgBtQ,EAAOsQ,eAAiB,GACxCC,EAAa3N,EAAMkF,iBAAiB9H,EAAOiG,SAASuK,QAAOxQ,GAAUA,EAAOuH,IAAalJ,IAAK6C,KAAIlB,IAAU,CAChH6H,MAAO7H,EAAOuH,GACdhB,MAAOvG,EAAOqH,MACXiJ,EAAcxB,QAAO,CAAC/F,EAAKgG,KAC5BhG,EAAIgG,GAAO/O,EAAO+O,GACXhG,IACN,QAEL,OAAO1F,EAAUhF,EAAK,CACpB2B,OAAQuQ,EAAW,KAIvBlN,EAAUhF,IAISgF,KAGlB+M,GAGHzH,UAAY,IACT7I,OAAOwK,aAAamG,OAGvBC,UAAY,IACT5Q,OAAOwK,aAAaqG,OAGvBxG,QAAU,IACPzK,QAAQI,OAAOwK,aAAaW,MAG/Bb,cAAgB,IACb1K,QAAQI,OAAOwK,aAAasG,MAG/BrN,eAAiB,CAAClF,EAAKD,KAC3B,GAAIA,KAAO0B,OAAO8E,SAAU,CAC1B,GAAIvG,aAAewS,MAAO,OAC1B/Q,OAAO8E,SAASxG,GAAOC,IAIrByS,mBAAqB9Q,IACzB,MAAM+Q,EAAS,GACT3S,EAAM4B,EAAOwD,gBAOnB,MALkB,iBAAPpF,IAET2S,EAAO3S,GAAO0B,OAAO8E,SAAS5E,EAAO5B,MAGhC2S,GAGHxL,kBAAoBU,IACxB,MAAM1F,EAAW0F,EAAQ1F,UAAY,GAC/ByQ,EAAa/K,EAAQ7H,IACrB0F,EAAkB,IAAKmC,EAAQnC,iBAAmB,GAAKkN,GACvDD,EAAS,GACf,GAAKvR,MAAMyB,QAAQV,GAoBnB,OAnBAA,EAASsE,SAAQoM,IACf,GAAoB,iBAATA,EACT,OAAOF,EAAOjK,KAAKzG,eAAeuF,KAAK,CACrCG,UAAWkL,GACVnB,SAGL,MAAMxC,EAAS2D,EAAMrN,gBAEjB0J,KAAUjN,gBACZ4Q,EAAMnN,gBAAkBA,EACxBiN,EAAOjK,KACPzG,eAAeiN,GAAQ,IAAK2D,EAC1B7S,IAAK4S,GACJlB,UAEH1N,QAAQ4C,KAAK,yBAA2BkM,KAAKC,UAAUF,OAGpDF,GAGHlN,kBAAoBuN,IACxB,MAAMC,EAAkBD,EAAKhF,QACvBkF,EAAYnO,cAAckO,GAMhC,OAJIC,GAAaxR,OAAOwP,cACtBlN,QAAQ4C,KAAK,6BAA+BqM,GAGvCC,GAGHC,eAAiB,CAACnQ,MAAO6E,QAASrD,SACtC,MAAM4O,WAAavL,QAAQuL,WAG3B,GAAIhS,MAAMyB,QAAQuQ,YAAa,CAC7B,MAAMC,EAAID,WAAWtQ,KAAIwQ,KACvB,MAAMC,UAAYD,GAAG,GACfE,YAAc,wBACdC,eAAiB,0BACjBC,UAAYJ,GAAG,GAAGK,QAAQ,IAAIC,OAAO,QAAS,KAAMJ,aAAaG,QAAQ,IAAIC,OAAO,WAAY,KAAMH,gBAC5G,MAAO,EAACI,EAAAA,iCAAAA,IAAiBN,WAAYO,KAAKJ,WAAYlP,MAAOqD,QAAQ7H,QAEvEgD,OAAQ+Q,EAAAA,iCAAAA,IAAe/Q,MAAOqQ,GAGhC,OAAOrQ,OAGHgR,iBAAmBnM,IACvB,MAAMoM,EAAcpM,EAAQoM,aAAe,GACrCnT,EAAQmT,EAAYnT,OAAS,GAC7BoT,EAAWD,EAAYC,UAAY,GACnCC,EAAcrT,EAAM4P,QAAO,CAAC/F,EAAKgG,EAAKxM,KAC1C,IAEEwG,EAAIgG,EAAI7E,MAAoB,QAAZ6E,EAAI5Q,KAAiB4Q,EAAIlH,MAAQ,IAAKiI,OAAO5R,MAAM0G,YAC9DkL,OAAO5R,MAAMwR,YAChBX,EAAIlH,OACN,MAAOxF,GACPD,QAAQkD,IAAIjD,GAGd,OAAO0G,IACN,IAEGpF,EAAOmM,OAAOtR,UAAU,YAAayH,EAAQrC,iBAE7C4O,EAAiBF,EAASxD,QAAO,CAAC/F,EAAKgG,EAAKxM,KAEhDwG,EAAIgD,WAAWgD,IAAQ,SAAUlH,GAC/BlE,EAAK,CACHxF,KAAM4Q,EACN3Q,IAAK6H,EAAQ7H,IACbyJ,WAIGkB,IACN,IACH,OAAOwI,gBAAelQ,EAAAA,iCAAAA,GAAE4E,EAAQoD,UAAW,IAAKkJ,KAC3CC,IACDvM,EAAS6J,SAGT2C,iBAAmBC,GACD,iBAAXA,EACLA,KAAW5S,OAAO4P,WACb5P,OAAO4P,WAAWgD,IAEzBtQ,QAAQ4C,KAAK,mBAAqB0N,GAC3B,IAEAlT,MAAMyB,QAAQyR,GAChBA,OAEPtQ,QAAQ4C,KAAK,+BAAiC0N,EAAU,6BAItDC,gBAAkB,SAAUtU,GAChC,GAAkB,iBAAPA,EAAiB,CAC1B,MAAMuU,EAAWvU,EAAIwU,MAAM7U,aAEvB4U,GAAYA,EAAS7Q,OAAS,GAChC6Q,EAAS1R,KAAI4R,IACX,MAAMC,EAAMD,EAAYf,QAAQ,KAAM,IAAIA,QAAQ,KAAM,IAClDzT,EAAcc,OAAO4T,OAAO,GAAIlD,OAAO5R,MAAM0G,SAAUkL,OAAO5R,MAAMwR,YACpEuD,EAAY3U,EAAYyU,GAC9B1U,EAAMA,EAAI0T,QAAQe,EAAaG,MAKrC,OAAO5U,GAGH6U,WAAa,MACjB,MACMC,EAAa,GACnB,MAAO,CAILC,WAAWhV,EAAKiV,GACd,MAAM9Q,EAAQ4Q,EAAWzM,QAAQtI,GAE7BiV,EACF9Q,GAAS,GAAK4Q,EAAWtM,OAAOtE,EAAO,IAE7B,GAAVA,GAAe4Q,EAAWrM,KAAK1I,IAInCwQ,eACE,OAAOuE,GAGT7E,WAAWnQ,GAGTuQ,OAAO,WAAa5O,OAAO2O,MAAQ1O,QAxBtB,GA8BbuT,gBAAkB,SAAUnH,EAAOoH,GACvC,MAAMC,EAAuB1T,OAAOwK,aAAaC,YAEjD,GAAI4B,GAAS,GAAKoH,GAAO,GAAKpH,IAAUoH,EAAK,CAC3C,MAAME,EAAYD,EAAqB3M,OAAOsF,EAAO,GAAG,GAEpDA,EAAQoH,EACVC,EAAqB3M,OAAO0M,EAAK,EAAGE,GAEpCD,EAAqB3M,OAAO0M,EAAM,EAAG,EAAGE,GAG1C5D,WAAW,eAAXA,CAA2B,CACzB6D,aAAcD,EACdtH,QACAoH,MACAI,eAAgBzC,KAAKC,UAAUrB,OAAO8D,sBAGxC9T,OAAOuO,iBA6BX,OAzBAyB,OAAO5R,MAAQ4B,OACfgQ,OAAOjN,KAAO+M,SACdE,OAAO3M,cAAgBA,cACvB2M,OAAOrD,SAAWA,SAClBqD,OAAO7M,eAAiBA,eACxB6M,OAAO3G,mBAAqBA,mBAC5B2G,OAAOnH,UAAYA,UACnBmH,OAAOY,UAAYA,UACnBZ,OAAO3F,QAAUA,QACjB2F,OAAO1F,cAAgBA,cACvB0F,OAAOvM,eAAiBA,eACxBuM,OAAOgB,mBAAqBA,mBAC5BhB,OAAOvK,kBAAoBA,kBAC3BuK,OAAOjM,kBAAoBA,kBAC3BiM,OAAOtR,UAAYqR,WACnBC,OAAO/M,eAAiBwO,eACxBzB,OAAOxG,iBAAmB8I,iBAC1BtC,OAAOhN,iBAAmB2C,iBAC1BqK,OAAOhI,iBAAmB2K,iBAC1B3C,OAAOhK,gBAAkB6M,gBACzB7C,OAAO+D,WAAaX,WACpBpD,OAAOjE,gBAAkByH,gBAEzBxD,OAAO8D,iBAAmB,IAAM9T,OAAOwK,aAEhCwF,QAGHgE,WAAa,WACjB,MAAO,CACLjU,SACE,MAAMC,EAASC,KACTwK,EAAczK,EAAOwK,aAAaC,aAAe,GACjDwJ,EAASjU,EAAOwK,aAAayJ,OAE7BC,GADalU,EAAO4P,WACZC,eAAe7P,IAC7B,IAAImU,GAAW,EAEXF,GAA+B,UAArBA,EAAOG,YAA0BH,EAAOxL,gBAAkBwL,EAAOvL,YAAWyL,GAAW,GACrG,MAAME,EAAY9T,eAAe6H,UAAUqC,EAAayJ,EAAOC,EAAWF,OAASK,GACnF,OAAOD,KAMPE,WAAa,IAAK5E,SACnBN,SACArB,WACAwG,+CAAAA,KACAR,cAEQS,UAAY,SAAU1V,GACjC,OAAOwC,EAAAA,iCAAAA,GAAEgT,WAAYxV,IAEV2V,aAAeC,GACnB/U,QAAQ4U,+CAAAA,EAAAA,WAAiBG,IAG5BC,MAAQ,SAAUC,GACtBA,EAAItL,UAAU,aAAcgL,YAC5B/W,KAAOqX,GAGT,gCACEC,QAASF,Q,mBCnpCX,MAAMG,EAAK,MACLC,EAAM,CACVtD,WAAY,CACV,CAACqD,GAAK,CACJE,QAAS,MACP,IAAIC,EAAkB,KAClBpW,EAAQ,KACZ,MAAO,CAACqW,EAAIpW,KACVuD,QAAQkD,IAAI,WAAY2P,EAAIpW,GAC5B,MAAM+D,EAAQ/D,EAAMqW,IACpB,IAAKtS,EAAO,OACZ,MAAMuS,EAAUF,EAAGnT,MAAMqT,QACnB/W,EAAMS,EAAMuW,UACJxS,EAAM1E,MAAMmX,OAEH,MAAnBL,IACFA,EAAkBG,GAGpBvS,EAAMiR,WAAWT,WAAWhV,EAAKS,EAAMgJ,OACvCjF,EAAM1E,MAAMkQ,WAAU,KACfvP,EAAMgJ,MAKToN,EAAGnT,MAAMqT,QAAUH,EAJnBC,EAAGnT,MAAMqT,QAAU,UAOnBvW,GAAOE,aAAaF,GACxBA,EAAQG,YAAW,KACjB6D,EAAMiR,WAAWvF,WAAWuG,KAC3B,OA5BE,MAkCf,U,s4CCrCI0R,yBAA2B,GAG/B,SAASC,oBAAoBC,GAE5B,IAAIC,EAAeH,yBAAyBE,GAC5C,QAAqBrS,IAAjBsS,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,yBAAyBE,GAAY,CACjDI,GAAIJ,EACJK,QAAQ,EACRH,QAAS,IAUV,OANAI,oBAAoBN,GAAUpD,KAAKuD,EAAOD,QAASC,EAAQA,EAAOD,QAASH,qBAG3EI,EAAOE,QAAS,EAGTF,EAAOD,QAIfH,oBAAoBQ,EAAID,oB,WC5BxBP,oBAAoBS,KAAO,G,cCA3B,IAAIC,EAAW,GACfV,oBAAoBW,EAAI,SAASC,EAAQC,EAAU1oB,EAAI2oB,GACtD,IAAGD,EAAH,CAMA,IAAIE,EAAeC,IACnB,IAASC,EAAI,EAAGA,EAAIP,EAASnlB,OAAQ0lB,IAAK,CACrCJ,EAAWH,EAASO,GAAG,GACvB9oB,EAAKuoB,EAASO,GAAG,GACjBH,EAAWJ,EAASO,GAAG,GAE3B,IAJA,IAGIC,GAAY,EACPC,EAAI,EAAGA,EAAIN,EAAStlB,OAAQ4lB,MACpB,EAAXL,GAAsBC,GAAgBD,IAAaloB,OAAO2K,KAAKyc,oBAAoBW,GAAGS,OAAM,SAASxpB,GAAO,OAAOooB,oBAAoBW,EAAE/oB,GAAKipB,EAASM,OAC3JN,EAASxgB,OAAO8gB,IAAK,IAErBD,GAAY,EACTJ,EAAWC,IAAcA,EAAeD,IAG7C,GAAGI,EAAW,CACbR,EAASrgB,OAAO4gB,IAAK,GACrB,IAAII,EAAIlpB,SACEyV,IAANyT,IAAiBT,EAASS,IAGhC,OAAOT,EAzBNE,EAAWA,GAAY,EACvB,IAAI,IAAIG,EAAIP,EAASnlB,OAAQ0lB,EAAI,GAAKP,EAASO,EAAI,GAAG,GAAKH,EAAUG,IAAKP,EAASO,GAAKP,EAASO,EAAI,GACrGP,EAASO,GAAK,CAACJ,EAAU1oB,EAAI2oB,I,cCJ/Bd,oBAAoBsB,EAAI,SAASlB,GAChC,IAAImB,EAASnB,GAAUA,EAAOoB,WAC7B,WAAa,OAAOpB,EAAO,YAC3B,WAAa,OAAOA,GAErB,OADAJ,oBAAoByB,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,G,cCLRvB,oBAAoByB,EAAI,SAAStB,EAASwB,GACzC,IAAI,IAAI/pB,KAAO+pB,EACX3B,oBAAoBvE,EAAEkG,EAAY/pB,KAASooB,oBAAoBvE,EAAE0E,EAASvoB,IAC5EgB,OAAOgpB,eAAezB,EAASvoB,EAAK,CAAEiqB,YAAY,EAAMC,IAAKH,EAAW/pB,M,cCJ3EooB,oBAAoB+B,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOzoB,MAAQ,IAAI0oB,SAAS,cAAb,GACd,MAAO3d,GACR,GAAsB,kBAAX4D,OAAqB,OAAOA,QALjB,G,cCAxB8X,oBAAoBkC,IAAM,SAAS9B,GASlC,OARAA,EAASxnB,OAAOupB,OAAO/B,GAClBA,EAAOrmB,WAAUqmB,EAAOrmB,SAAW,IACxCnB,OAAOgpB,eAAexB,EAAQ,UAAW,CACxCyB,YAAY,EACZO,IAAK,WACJ,MAAM,IAAIC,MAAM,0FAA4FjC,EAAOC,OAG9GD,G,cCTRJ,oBAAoBvE,EAAI,SAAS6G,EAAK5e,GAAQ,OAAO9K,OAAO2pB,UAAUC,eAAe3F,KAAKyF,EAAK5e,I,cCC/Fsc,oBAAoBqB,EAAI,SAASlB,GACX,qBAAXsC,QAA0BA,OAAOC,aAC1C9pB,OAAOgpB,eAAezB,EAASsC,OAAOC,YAAa,CAAErhB,MAAO,WAE7DzI,OAAOgpB,eAAezB,EAAS,aAAc,CAAE9e,OAAO,K,cCAvD,IAAIshB,EAAkB,CACrB,IAAK,GAaN3C,oBAAoBW,EAAEQ,EAAI,SAASyB,GAAW,OAAoC,IAA7BD,EAAgBC,IAGrE,IAAIC,EAAuB,SAASC,EAA4Bla,GAC/D,IAKIqX,EAAU2C,EALV/B,EAAWjY,EAAK,GAChBma,EAAcna,EAAK,GACnBoa,EAAUpa,EAAK,GAGIqY,EAAI,EAC3B,GAAGJ,EAASoC,MAAK,SAAS5C,GAAM,OAA+B,IAAxBsC,EAAgBtC,MAAe,CACrE,IAAIJ,KAAY8C,EACZ/C,oBAAoBvE,EAAEsH,EAAa9C,KACrCD,oBAAoBQ,EAAEP,GAAY8C,EAAY9C,IAGhD,GAAG+C,EAAS,IAAIpC,EAASoC,EAAQhD,qBAGlC,IADG8C,GAA4BA,EAA2Bla,GACrDqY,EAAIJ,EAAStlB,OAAQ0lB,IACzB2B,EAAU/B,EAASI,GAChBjB,oBAAoBvE,EAAEkH,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAO5C,oBAAoBW,EAAEC,IAG1BsC,EAAqBC,KAAK,+BAAiCA,KAAK,gCAAkC,GACtGD,EAAmB7kB,QAAQwkB,EAAqBO,KAAK,KAAM,IAC3DF,EAAmB5iB,KAAOuiB,EAAqBO,KAAK,KAAMF,EAAmB5iB,KAAK8iB,KAAKF,I,GC/CvF,IAAIG,oBAAsBrD,oBAAoBW,OAAE/S,EAAW,CAAC,MAAM,WAAa,OAAOoS,oBAAoB,SAC1GqD,oBAAsBrD,oBAAoBW,EAAE0C,sB","sources":["webpack://quick-form-vue3/./lib/index.ts","webpack://quick-form-vue3/./lib/utils/directives.ts","webpack://quick-form-vue3/./src/components/header.tsx","webpack://quick-form-vue3/./src/components/MonacoEditor.tsx","webpack://quick-form-vue3/./src/components/codeView.tsx","webpack://quick-form-vue3/./src/components/dragLayout.tsx","webpack://quick-form-vue3/./src/App.tsx","webpack://quick-form-vue3/./src/registerServiceWorker.ts","webpack://quick-form-vue3/./src/main.ts","webpack://quick-form-vue3/./src/components/codeParser.tsx","webpack://quick-form-vue3/./build/index.js","webpack://quick-form-vue3/./build/utils/directives.js","webpack://quick-form-vue3/webpack/bootstrap","webpack://quick-form-vue3/webpack/runtime/amd options","webpack://quick-form-vue3/webpack/runtime/chunk loaded","webpack://quick-form-vue3/webpack/runtime/compat get default export","webpack://quick-form-vue3/webpack/runtime/define property getters","webpack://quick-form-vue3/webpack/runtime/global","webpack://quick-form-vue3/webpack/runtime/harmony module decorator","webpack://quick-form-vue3/webpack/runtime/hasOwnProperty shorthand","webpack://quick-form-vue3/webpack/runtime/make namespace object","webpack://quick-form-vue3/webpack/runtime/jsonp chunk loading","webpack://quick-form-vue3/webpack/startup"],"sourcesContent":["/* eslint-disable @typescript-eslint/ban-ts-comment */\r\n// @ts-nocheck\r\n/* tslint:disable */\r\nimport Dires from \"./utils/directives\";\r\nimport {\r\n  h,\r\n  withDirectives,\r\n  resolveDirective,\r\n  reactive,\r\n  RendererElement,\r\n  RendererNode,\r\n  VNode,\r\n} from \"vue\";\r\nimport {\r\n  ElForm,\r\n  ElFormItem,\r\n  ElButton,\r\n  ElSelect,\r\n  ElOption,\r\n  ElInput,\r\n  ElInputNumber,\r\n  ElRadio,\r\n  ElCheckbox,\r\n  ElUpload,\r\n  ElIcon,\r\n  ElDatePicker,\r\n  ElTimePicker,\r\n  ElSwitch,\r\n} from \"element-plus\";\r\n\r\nimport { CirclePlus, Download, Delete } from \"@element-plus/icons-vue\";\r\n\r\ntype statuBase =\r\n  | \"\"\r\n  | \"default\"\r\n  | \"primary\"\r\n  | \"success\"\r\n  | \"warning\"\r\n  | \"info\"\r\n  | \"danger\";\r\n\r\ntype sizeBase = \"\" | \"default\" | \"small\" | \"large\";\r\n\r\ninterface IFunction<T = void> {\r\n  (...items: any): T;\r\n}\r\ninterface IObject<T = any> {\r\n  [x: string]: T;\r\n}\r\n\r\ntype FromElmentBase = {\r\n  type?: statuBase;\r\n  size?: sizeBase;\r\n  formElementType: string;\r\n  formElementLabel: string;\r\n  key: string;\r\n};\r\n\r\ntype fromItemType = {\r\n  tirrgerEvents?: string[];\r\n  options?: any[];\r\n  placeholder?: string;\r\n  textValue?: string;\r\n  children?: any[];\r\n  currentPropPath?: any[];\r\n  itemStyle?: IObject;\r\n  accept?: string[];\r\n  preventDefaultEvent?: boolean;\r\n  label?: any;\r\n  directives?: any;\r\n  component?: any;\r\n  slotOptions?: any;\r\n  optionLabelKey?: string;\r\n  optionValueKey?: string;\r\n  redundantKeys?: string[] | [];\r\n  mountModelValue?: string;\r\n  alias?: IObject<any>;\r\n};\r\n\r\ntype fromItemMergeType = FromElmentBase & fromItemType & ReturnCombType;\r\n\r\ntype ReturnCombType = {\r\n  mainType: string;\r\n  subType?: CreatorType;\r\n};\r\n\r\ntype LayoutType = {\r\n  labelWidth?: number;\r\n};\r\n\r\ntype TRenderType = \"form\" | \"hander\";\r\ntype TConfig = {\r\n  renderType?: TRenderType;\r\n  containerVnode: any;\r\n  itemVnode: any;\r\n};\r\ntype eventMapType = {\r\n  getEvents: IFunction<any>;\r\n  getDefaultEvent: IFunction<any>;\r\n};\r\n\r\ntype lifecricle = {\r\n  onCreated?: IFunction<void>;\r\n  onMounted?: IFunction<void>;\r\n  onBeforeCreate?: IFunction<void>;\r\n  onBeforeUpdate?: IFunction<void>;\r\n};\r\n\r\ntype imgDataType = {\r\n  src: string;\r\n  name: string;\r\n};\r\n\r\ntype cpropType = Array<{ prop: string; value: any }>;\r\n\r\ntype creceiverType = Array<string>;\r\n\r\ntype cOptType = {\r\n  props: cpropType;\r\n  receiver: creceiverType;\r\n};\r\n\r\ntype UT = {\r\n  scope: any;\r\n  emit: IFunction<any>;\r\n  getModelValue: IFunction<any>;\r\n  eventMap: eventMapType;\r\n  createEventMap: IFunction<IObject>;\r\n  GetCombinationType: IFunction<ReturnCombType>;\r\n  GetLayout: IFunction<LayoutType>;\r\n  GetConfig: IFunction<TConfig>;\r\n  upDateFromData: IFunction<void>;\r\n  getMountModelValue: IFunction<any>;\r\n  createElementDeep: IFunction<any[]>;\r\n  GetParentModelVal: IFunction<any>;\r\n  emitEvent: IFunction<void>;\r\n  parseDirective: IFunction<any>;\r\n  renderComponents: IFunction<any>;\r\n  clearHandleProps: IFunction<any>;\r\n  getComponentDeps: IFunction<any>;\r\n  parseTempSyntax: IFunction<any>;\r\n  getGlobalOptions: IFunction<any>;\r\n  rulesState: IObject<any>;\r\n};\r\n\r\nlet _app: any = null;\r\n\r\nconst _EVENT_ = \"formChange\";\r\n\r\nconst _FROM_EVENT_ = \"formEvent\";\r\n\r\nconst EVENT_CHANGE = \"change\";\r\n\r\nconst TEXT_EL = \"span\";\r\n\r\nconst FROM_INS = \"_quickFrom\";\r\n\r\nconst FROM_C = \"quick-form__label--container\";\r\n\r\nconst FROM_C_EL = \"div\";\r\n\r\nconst FORM_EL_IMG = \"img\";\r\n\r\n// const reviewControlls = [\"preview\", \"download\", \"delete\"]\r\n\r\nconst HandleProps /* 忽略属性 */ = [\r\n  \"children\",\r\n  \"options\",\r\n  \"directives\",\r\n  \"formElementType\",\r\n  \"formElementLabel\",\r\n  \"key\",\r\n  \"tirrgerEvents\",\r\n  \"textValue\",\r\n  \"currentPropPath\",\r\n  \"itemStyle\",\r\n  \"preventDefaultEvent\",\r\n  \"component\",\r\n  \"slotOptions\",\r\n  \"optionLabelKey\",\r\n  \"optionValueKey\",\r\n  \"mainType\",\r\n  \"subType\",\r\n  \"mountModelValue\",\r\n  \"showControll\",\r\n  \"childrenOptions\",\r\n];\r\n\r\nconst TemplateReg = /\\{\\{.*?\\}\\}/g;\r\n\r\nconst emitVal: any =\r\n  (scope: any) =>\r\n  (type: string, key: string) =>\r\n  (val: any, mergeObject: IObject | void = {}) => {\r\n    scope.$emit(_EVENT_, { type, key, val, ...mergeObject });\r\n  };\r\n\r\nconst emitEvent: any =\r\n  (scope: any) => (type: string, key: string) => (val: any) => {\r\n    scope.$emit(_FROM_EVENT_, { type, key, val });\r\n  };\r\n\r\nexport const Throttling = function (dely: number, fn: IFunction) {\r\n  let timer: any = null;\r\n  return function (...argus: any[]) {\r\n    let scope: any;\r\n    if (timer) clearTimeout(timer);\r\n    timer = setTimeout(() => {\r\n      fn.apply(scope, argus);\r\n      clearTimeout(timer);\r\n    }, dely);\r\n  };\r\n};\r\n\r\nconst VnodeImg = {\r\n  props: {\r\n    imgOption: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    imgData: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    imgControll: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    showControll: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    currentIndex: {\r\n      type: Number,\r\n      default: null,\r\n    },\r\n  },\r\n  render() {\r\n    const myThis = this as any;\r\n    const option = myThis.imgOption;\r\n    const controll = myThis.imgControll;\r\n    const showC = myThis.showControll;\r\n    const currentIndex = myThis.currentIndex;\r\n    const controllMap = {\r\n      preview: () =>\r\n        ElementCreator.icon({\r\n          children: [CirclePlus],\r\n          ...iconConf,\r\n          onClick: eventClick(\"preview\"),\r\n        } as unknown as fromItemMergeType),\r\n      download: () =>\r\n        ElementCreator.icon({\r\n          children: [Download],\r\n          ...iconConf,\r\n          onClick: eventClick(\"download\"),\r\n        } as unknown as fromItemMergeType),\r\n      delete: () =>\r\n        ElementCreator.icon({\r\n          children: [Delete],\r\n          ...iconConf,\r\n          onClick: eventClick(\"delete\"),\r\n        } as unknown as fromItemMergeType),\r\n    };\r\n    const GetControllELs = (): any[] =>\r\n      Array.isArray(controll)\r\n        ? controll.map((controlStr: \"preview\" | \"download\" | \"delete\") =>\r\n            controlStr in controllMap ? controllMap[controlStr]() : \"\"\r\n          )\r\n        : [];\r\n    const vnode: any = () =>\r\n      h(FORM_EL_IMG, {\r\n        src: myThis.imgData.url,\r\n        height: 100,\r\n        ...option,\r\n        class: \"quick-form__imglist--item\",\r\n      });\r\n    const iconConf = {\r\n      size: 16,\r\n      color: \"#fff\",\r\n    };\r\n\r\n    const eventClick = (type: string) => () => {\r\n      myThis.$emit(\"imgEvent\", type, currentIndex);\r\n    };\r\n    const imgModalVnode: any = () =>\r\n      h(\r\n        FROM_C_EL,\r\n        {\r\n          class: \"quick-form__imglist--itemModal\",\r\n        },\r\n        GetControllELs()\r\n      );\r\n\r\n    let wVnode: any = null;\r\n    wVnode = h(\r\n      FROM_C_EL,\r\n      {\r\n        class: \"quick-form__imglist--itemwarp\",\r\n        style: \"height: 100px\",\r\n      },\r\n      showC && controll.length > 0 ? [vnode(), imgModalVnode()] : [vnode()]\r\n    );\r\n    return wVnode;\r\n  },\r\n};\r\n\r\nconst VnodeImgList = {\r\n  props: {\r\n    listOption: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    imgList: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  render() {\r\n    const myThis = this as any;\r\n    const option = myThis.listOption;\r\n    let List = myThis.imgList;\r\n    if (!Array.isArray(List)) {\r\n      List = [];\r\n      console.error(\"传入的图片数据结构不是个数组！\");\r\n    }\r\n    const event = function (type: string, index: number) {\r\n      myThis.$emit(type, index);\r\n    };\r\n    return h(\r\n      FROM_C_EL,\r\n      {\r\n        class: FROM_C,\r\n      },\r\n      List.map\r\n        ? List.map((imgObj: imgDataType, index: number) => {\r\n            return h(VnodeImg, {\r\n              imgData: imgObj,\r\n              imgOption: option.itemStyle || {},\r\n              imgControll: option.controll,\r\n              showControll:\r\n                typeof option.showControll == \"boolean\"\r\n                  ? option.showControll\r\n                  : true,\r\n              currentIndex: index,\r\n              onImgEvent: event,\r\n            });\r\n          })\r\n        : []\r\n    );\r\n  },\r\n};\r\n\r\ntype CreatorType =\r\n  | \"switch\"\r\n  | \"time\"\r\n  | \"date\"\r\n  | \"imgList\"\r\n  | \"upload\"\r\n  | \"icon\"\r\n  | \"text\"\r\n  | \"container\"\r\n  | \"inputNumber\"\r\n  | \"radio\"\r\n  | \"checkbox\"\r\n  | \"input\"\r\n  | \"select\"\r\n  | \"button\";\r\n\r\nconst ElementCreator = {\r\n  switch: (option: fromItemMergeType, utils: UT) => {\r\n    const EmitEvent: any = utils.emit(\"change\", option.key);\r\n    const HandleProps = utils.clearHandleProps(option);\r\n    return utils.parseDirective(\r\n      h(ElSwitch, {\r\n        ...HandleProps,\r\n        ...utils.createEventMap(option, utils),\r\n        modelValue: utils.getModelValue(option),\r\n      }),\r\n      option,\r\n      utils\r\n    );\r\n  },\r\n  time: (option: fromItemMergeType, utils: UT) => {\r\n    const EmitEvent: any = utils.emit(\"change\", option.key);\r\n    const HandleProps = utils.clearHandleProps(option);\r\n    return utils.parseDirective(\r\n      h(ElTimePicker, {\r\n        ...HandleProps,\r\n        ...utils.createEventMap(option, utils),\r\n        modelValue: utils.getModelValue(option),\r\n        \"onUpdate:modelValue\": Throttling(50, function (val) {\r\n          utils.upDateFromData(val, option.mountModelValue || option.key);\r\n          EmitEvent(val);\r\n        }),\r\n      }),\r\n      option,\r\n      utils\r\n    );\r\n  },\r\n  date: (option: fromItemMergeType, utils: UT) => {\r\n    const HandleProps = utils.clearHandleProps(option);\r\n    const EmitEvent: any = utils.emit(\"change\", option.key);\r\n    return utils.parseDirective(\r\n      h(ElDatePicker, {\r\n        ...HandleProps,\r\n        ...utils.createEventMap(option, utils),\r\n        modelValue: utils.getModelValue(option),\r\n        \"onUpdate:modelValue\": Throttling(50, function (val) {\r\n          utils.upDateFromData(val, option.mountModelValue || option.key);\r\n          EmitEvent(val);\r\n        }),\r\n      }),\r\n      option,\r\n      utils\r\n    );\r\n    // return utils.parseDirective(h(ElDatePicker, {\r\n    //     ...HandleProps,\r\n    //     ...utils.createEventMap(option, utils),\r\n    //     modelValue: utils.getModelValue(option),\r\n    //     \"onUpdate:modelValue\": Throttling(50, function (val) {\r\n    //         utils.upDateFromData(val, option.mountModelValue || option.key);\r\n    //         EmitEvent(val)\r\n    //     })\r\n    // }), option, utils)\r\n  },\r\n  imgList: (option: fromItemMergeType, utils: UT) => {\r\n    const Emit: any = utils.emitEvent(\"formEvent\", option.formElementType);\r\n    // const HandleProps = utils.clearHandleProps(option);\r\n    return utils.parseDirective(\r\n      h(VnodeImgList, {\r\n        imgList: utils.GetParentModelVal(option.currentPropPath),\r\n        listOption: option,\r\n        ...option,\r\n        onPreview: function (index: number) {\r\n          Emit({ type: \"preview\", key: option.key, index });\r\n        },\r\n        onDelete: function (index: number) {\r\n          Emit({ type: \"delete\", key: option.key, index });\r\n        },\r\n        onDownload: function (index: number) {\r\n          Emit({ type: \"download\", key: option.key, index });\r\n        },\r\n      }),\r\n      option,\r\n      utils\r\n    );\r\n  },\r\n  upload: (option: fromItemMergeType, utils: UT) => {\r\n    // @ts-ignore\r\n    const IsDetail = option.subType == \"detail\";\r\n    const HandleProps = utils.clearHandleProps(option);\r\n    let _accept: any = option.accept;\r\n    if (_accept) {\r\n      if (Array.isArray(_accept)) {\r\n        delete option.accept;\r\n        _accept = _accept.join(\",\");\r\n      }\r\n    }\r\n\r\n    const mountFileList = function (option: fromItemMergeType) {\r\n      const fileListDepend = option.mountModelValue || option.key;\r\n      const { name, url } = option.alias || { name: \"name\", url: \"url\" };\r\n      (utils.scope.formData[fileListDepend] || []).forEach((item: IObject) => {\r\n        if (!(\"name\" in item) || !(\"url\" in item)) {\r\n          item.name = item[name];\r\n          item.url = item[url];\r\n        }\r\n      });\r\n      const getFileList = () => {\r\n        if (fileListDepend in utils.scope.formData) {\r\n          try {\r\n            return utils.scope.formData[fileListDepend];\r\n          } catch (error) {\r\n            console.warn(\"invalid depend key \" + fileListDepend);\r\n            return [];\r\n          }\r\n        } else {\r\n          console.warn(\"invalid depend key \" + fileListDepend);\r\n          return [];\r\n        }\r\n      };\r\n      return {\r\n        fileList: getFileList(),\r\n      };\r\n    };\r\n\r\n    const mountObject = IsDetail\r\n      ? {\r\n          class: \"quick-form__upload--detail\",\r\n          ...mountFileList(option),\r\n          ...utils.createEventMap(option, utils),\r\n        }\r\n      : {\r\n          ...utils.createEventMap(option, utils),\r\n          // ...utils.getMountModelValue(option),\r\n          ...mountFileList(option),\r\n          ...HandleProps,\r\n        };\r\n    return utils.parseDirective(\r\n      h(\r\n        ElUpload,\r\n        {\r\n          onHttpRequest: (file) => {\r\n            console.log(file);\r\n          },\r\n          ...mountObject,\r\n          accept: _accept,\r\n        },\r\n        () => (IsDetail ? [] : utils.createElementDeep(option))\r\n      ),\r\n      option,\r\n      utils\r\n    );\r\n  },\r\n  icon: (option: fromItemMergeType) => {\r\n    let children: any[] = [];\r\n    const handleProps = ClearHandleProps(option);\r\n    try {\r\n      children = (option.children || []).map((vnodeRender: any) => {\r\n        return h(vnodeRender);\r\n      }) as any[];\r\n    } catch (error) {\r\n      /* error block */\r\n      children = [];\r\n    }\r\n    return h(ElIcon, { ...handleProps }, () => children);\r\n  },\r\n  text: (option: fromItemMergeType, utils: UT) => {\r\n    let modelValue, EventMap;\r\n    if (utils && utils.getModelValue) {\r\n      modelValue = utils && utils.getModelValue(option);\r\n      EventMap = utils.createEventMap(option, utils);\r\n    }\r\n    const handleProps = utils.clearHandleProps(option);\r\n    return utils.parseDirective(\r\n      h(\r\n        TEXT_EL,\r\n        {\r\n          ...EventMap,\r\n          ...handleProps,\r\n        },\r\n        [utils.parseTempSyntax(option.textValue) || modelValue || \"\"]\r\n      ),\r\n      option,\r\n      utils\r\n    );\r\n  },\r\n  container: (options: fromItemMergeType, utils: UT): any => {\r\n    // const children = utils.createElementDeep(options);\r\n    // delete options.children\r\n    const HandleProps = utils.clearHandleProps(options);\r\n    return utils.parseDirective(\r\n      h(\r\n        \"div\",\r\n        {\r\n          ...utils.createEventMap(options, utils),\r\n          ...HandleProps,\r\n        },\r\n        utils.createElementDeep(options)\r\n      ),\r\n      options,\r\n      utils\r\n    );\r\n  },\r\n  inputNumber: (option: fromItemMergeType, utils: UT) => {\r\n    return utils.parseDirective(\r\n      h(ElInputNumber, {\r\n        modelValue: utils.getModelValue(option),\r\n        ...utils.createEventMap(option, utils),\r\n        ...option,\r\n      }),\r\n      option\r\n    );\r\n  },\r\n  radio: (option: fromItemMergeType, utils: UT) => {\r\n    const textChilren = option.children;\r\n    delete option.children;\r\n    return utils.parseDirective(\r\n      h(\r\n        ElRadio,\r\n        {\r\n          modelValue: utils.getModelValue(option),\r\n          // ...utils.createEventMap(option, utils),\r\n          onClick: Throttling(50, () => {\r\n            utils.upDateFromData(\r\n              option.label,\r\n              option.mountModelValue || option.key\r\n            );\r\n          }),\r\n          ...option,\r\n        },\r\n        () => textChilren\r\n      ),\r\n      option,\r\n      utils\r\n    );\r\n  },\r\n  checkbox: (option: fromItemMergeType, utils: UT) => {\r\n    const textChilren = option.children;\r\n    delete option.children;\r\n    return utils.parseDirective(\r\n      h(\r\n        ElCheckbox,\r\n        {\r\n          modelValue: Array.isArray(utils.getModelValue(option))\r\n            ? utils.getModelValue(option).indexOf(option.label) >= 0\r\n            : false,\r\n          // ...utils.createEventMap(option, utils),\r\n          onClick: Throttling(50, function () {\r\n            const ModelData = utils.getModelValue(option);\r\n            const hasIndex = ModelData.indexOf(option.label);\r\n            if (hasIndex >= 0) {\r\n              ModelData.splice(hasIndex, 1);\r\n            } else {\r\n              ModelData.push(option.label);\r\n            }\r\n          }),\r\n          ...option,\r\n        },\r\n        () => textChilren\r\n      ),\r\n      option,\r\n      utils\r\n    );\r\n  },\r\n  input: (option: fromItemMergeType, utils: UT) => {\r\n    // 兼容el-input-number\r\n    if (option.subType == \"number\") {\r\n      return ElementCreator.inputNumber(option, utils);\r\n    }\r\n\r\n    const handleProps = utils.clearHandleProps(option);\r\n    return utils.parseDirective(\r\n      h(ElInput, {\r\n        modelValue: utils.getModelValue(option),\r\n        // props: {\r\n        //   modelValue: utils.getModelValue(option),\r\n        // },\r\n\r\n        // onInput: (() => {\r\n        //   let start: number | null = null;\r\n        //   return (val) => {\r\n        //     console.log(val);\r\n        //     if (window.event && window.event.target) {\r\n        //       if (start !== null) {\r\n        //         // window.event.target.setSelectionRange(start, start);\r\n        //       }\r\n        //       start = window.event.target.selectionStart;\r\n        //       console.log(window.event.target.selectionStart);\r\n        //       utils.upDateFromData(val, option.key);\r\n        //     }\r\n        //   };\r\n        // })(),\r\n        ...utils.createEventMap(option, utils),\r\n        placeholder: option.placeholder,\r\n        type: option.subType ? option.subType : \"text\",\r\n        ...handleProps,\r\n      }),\r\n      option,\r\n      utils\r\n    );\r\n  },\r\n  select: (option: fromItemMergeType, utils: UT) => {\r\n    const handlerPorps = utils.clearHandleProps(option);\r\n    const options = option.options;\r\n    const optEls: any[] = [];\r\n    const lableKey = option.optionLabelKey || \"label\";\r\n    const valueKey = option.optionValueKey || \"value\";\r\n    const getEls = (arr: Array<any> | undefined = []) => {\r\n      (arr || []).forEach((item) => {\r\n        const optionVnode = h(ElOption, {\r\n          value: item[valueKey],\r\n          label: item[lableKey],\r\n        });\r\n        optEls.push(optionVnode);\r\n      });\r\n    };\r\n    getEls(utils.getComponentDeps(options));\r\n\r\n    return utils.parseDirective(\r\n      h(\r\n        ElSelect,\r\n        {\r\n          modelValue: utils.getModelValue(option),\r\n          ...utils.createEventMap(option, utils),\r\n          ...handlerPorps,\r\n        },\r\n        () => optEls\r\n      ),\r\n      option,\r\n      utils\r\n    );\r\n  },\r\n  button: (options: fromItemMergeType, utils: UT) => {\r\n    const handleProps = utils.clearHandleProps(options);\r\n    return utils.parseDirective(\r\n      h(\r\n        ElButton,\r\n        {\r\n          ...handleProps,\r\n          onClick: () => utils.emitEvent(\"formEvent\", options.key)(),\r\n        },\r\n        () => utils.createElementDeep(options)\r\n      ),\r\n      options,\r\n      utils\r\n    );\r\n  },\r\n  formFrame: (\r\n    options: Array<fromItemMergeType>,\r\n    utils: UT,\r\n    handerConfig?: TConfig\r\n  ) => {\r\n    const FormChildren: any[] = [];\r\n    let FormContainer: any = null;\r\n    let ItemWarp: any = undefined;\r\n    if (handerConfig) {\r\n      FormContainer = handerConfig.containerVnode;\r\n      ItemWarp = handerConfig.itemVnode;\r\n    } else {\r\n      FormContainer = ElForm;\r\n    }\r\n\r\n    const Layout = utils.GetLayout();\r\n    options.forEach((item, index) => {\r\n      FormChildren.push(\r\n        ElementCreator.formItemFrame(item, utils, index, ItemWarp)\r\n      );\r\n    });\r\n    return h(\r\n      FormContainer,\r\n      {\r\n        // onselectstart: () => {\r\n        //   return false;\r\n        // },\r\n        rules: utils.scope.rules,\r\n        model: utils.scope.formData,\r\n        ref: FROM_INS,\r\n        // validateOnRuleChange: false,\r\n        ...Layout,\r\n      },\r\n      // FormChildren\r\n      ItemWarp\r\n        ? FormChildren\r\n        : () =>\r\n            FormChildren.length == 0\r\n              ? h(\r\n                  \"div\",\r\n                  {\r\n                    class:\r\n                      \"quick-form__state--align--center quick-form__fc--light\",\r\n                  },\r\n                  [\"请设置表单元素\"]\r\n                )\r\n              : FormChildren\r\n    );\r\n  },\r\n  formItemFrame: (\r\n    option: fromItemMergeType,\r\n    utils: UT,\r\n    index,\r\n    itemWarp?: any\r\n  ): any => {\r\n    const formElementType = option.formElementType || \"container\";\r\n    const formElementLabel = option.formElementLabel;\r\n    const key = option.key;\r\n    const getTypes = utils.GetCombinationType(formElementType);\r\n    if (getTypes.mainType == \"slot\") {\r\n      if (getTypes.subType && getTypes.subType in ElementCreator) {\r\n        /* 有插槽 */\r\n        ElementCreator[getTypes.subType](option, utils);\r\n      } else {\r\n        /* 没有子类型则需要传自定义组件 */\r\n        if (!getTypes.subType) {\r\n          if (option.component) {\r\n            return utils.renderComponents(option);\r\n          }\r\n        }\r\n        return ElementCreator.container(\r\n          {\r\n            children: [\r\n              getTypes.subType\r\n                ? \"无法找到插槽：\" + getTypes.subType\r\n                : \"请传入自定义组件\",\r\n            ],\r\n          } as unknown as fromItemMergeType,\r\n          utils\r\n        );\r\n      }\r\n    }\r\n\r\n    const GetItemChildren = (\r\n      eltype: string,\r\n      options: any,\r\n      utils: {\r\n        scope?: any;\r\n        emit?: IFunction<any>;\r\n        getModelValue?: IFunction<any>;\r\n        eventMap?: eventMapType;\r\n        createEventMap?: IFunction<IObject<any>>;\r\n        GetCombinationType: any;\r\n        GetLayout?: IFunction<LayoutType>;\r\n        GetDrag?: IFunction<boolean>;\r\n        GetEditOption?: IFunction<boolean>;\r\n        upDateFromData?: IFunction<void>;\r\n        getMountModelValue?: IFunction<any>;\r\n        createElementDeep?: IFunction<any[]>;\r\n        GetParentModelVal?: IFunction<any>;\r\n        emitEvent?: IFunction<void>;\r\n        parseDirective?: IFunction<any>;\r\n        renderComponents?: IFunction<any>;\r\n        clearHandleProps?: IFunction<any>;\r\n        getComponentDeps?: IFunction<any>;\r\n        parseTempSyntax?: IFunction<any>;\r\n        rulesState?: IObject<any>;\r\n        positionChanger?: IFunction<any>;\r\n      }\r\n    ) => {\r\n      if (eltype in ElementCreator) {\r\n        // const isCallSelf = eltype == \"formItemFrame\";\r\n        const retChildVnodes: any[] = [];\r\n        const vnodeOptions = options.childrenOptions;\r\n        if (Array.isArray(vnodeOptions) && eltype !== \"text\") {\r\n          delete options.childrenOptions;\r\n          vnodeOptions.forEach((option) => {\r\n            const getTypes = option.formElementType\r\n              ? utils.GetCombinationType(option.formElementType)\r\n              : {};\r\n            if (option.formElementType) {\r\n              // 正常多组件\r\n              eltype = getTypes.mainType;\r\n            } else {\r\n              // 兼容 select option的情况\r\n            }\r\n            retChildVnodes.push(\r\n              ElementCreator[eltype](\r\n                { key: options.key, ...option, ...getTypes },\r\n                utils\r\n              )\r\n            );\r\n          });\r\n\r\n          return retChildVnodes;\r\n        }\r\n\r\n        return [ElementCreator[eltype]({ ...options, ...getTypes }, utils)];\r\n      } else {\r\n        /* error block */\r\n        return [];\r\n      }\r\n    };\r\n\r\n    const handleProps = utils.clearHandleProps(option);\r\n    const mergeHandlerProps = (handler1, handler2) => {\r\n      Object.keys(handler2).forEach((key) => {\r\n        if (key == \"class\") {\r\n          handler1[key] = (handler1[key] || \"\") + ` ${handler2[key]}`;\r\n        }\r\n      });\r\n      return handler1;\r\n    };\r\n\r\n    return utils.parseDirective(\r\n      h(\r\n        itemWarp || ElFormItem,\r\n        mergeHandlerProps(\r\n          {\r\n            ...mountDrag(utils, index),\r\n            prop: key,\r\n            label: utils.parseTempSyntax(formElementLabel),\r\n            ...handleProps,\r\n          },\r\n          {\r\n            class: `${utils.GetDrag() ? \"el-form-item__drag\" : \"\"} ${\r\n              utils.GetEditOption() ? \"el-form-item__edit\" : \"\"\r\n            }`,\r\n          }\r\n        ),\r\n        itemWarp\r\n          ? [\r\n              GetItemChildren(\r\n                getTypes.mainType,\r\n                { ...option, ...getTypes },\r\n                utils\r\n              ),\r\n            ]\r\n          : () => [\r\n              GetItemChildren(\r\n                getTypes.mainType,\r\n                { ...option, ...getTypes },\r\n                utils\r\n              ),\r\n              utils.GetEditOption()\r\n                ? h(\r\n                    \"div\",\r\n                    {\r\n                      class: \"edit__tools\",\r\n                    },\r\n                    [\r\n                      h(\r\n                        ElButton,\r\n                        {\r\n                          type: \"danger\",\r\n                          size: \"small\",\r\n                          onClick() {\r\n                            utils.emitEvent(\r\n                              \"formEvent\",\r\n                              \"\"\r\n                            )({\r\n                              type: \"delete_option\",\r\n                              resouce: utils.scope.quickOptions.formOptions,\r\n                              value: option,\r\n                              pos: index,\r\n                            });\r\n                          },\r\n                        },\r\n                        () => [\"删除\"]\r\n                      ),\r\n                      h(\r\n                        ElButton,\r\n                        {\r\n                          type: \"primary\",\r\n                          size: \"small\",\r\n                          onClick() {\r\n                            utils.emitEvent(\r\n                              \"formEvent\",\r\n                              \"\"\r\n                            )({\r\n                              type: \"edit_option\",\r\n                              resouce: utils.scope.quickOptions.formOptions,\r\n                              value: option,\r\n                              pos: index,\r\n                            });\r\n                          },\r\n                        },\r\n                        () => [\"编辑\"]\r\n                      ),\r\n                    ]\r\n                  )\r\n                : \"\",\r\n            ]\r\n      ),\r\n      option,\r\n      utils\r\n    );\r\n  },\r\n};\r\n\r\nconst mountDrag = (() => {\r\n  let start_index = -1;\r\n  let end_index = -1;\r\n  let start_drag = false;\r\n  const dragClass = \"quick-form__state--drag_here\";\r\n  const setEffect = (e) => {\r\n    e.dataTransfer.dropEffect = \"move\";\r\n  };\r\n  return (utils: UT, index: number) => {\r\n    const drag = utils.GetDrag();\r\n    const dragProps = {\r\n      style: `${drag ? \"position: relative\" : \"\"}`,\r\n      draggable: true,\r\n      onDrag: (e) => {\r\n        setEffect(e);\r\n        start_drag = true;\r\n        start_index = index;\r\n        return e.preventDefault();\r\n      },\r\n      onDragover: (e) => {\r\n        setEffect(e);\r\n        e.target.classList.add(dragClass);\r\n        return e.preventDefault();\r\n      },\r\n      ondragleave: (e) => {\r\n        e.target.classList.remove(dragClass);\r\n        if (!start_drag) return false;\r\n        return e.preventDefault();\r\n      },\r\n      onDrop: (e) => {\r\n        e.target.classList.remove(dragClass);\r\n        start_drag = false;\r\n        end_index = index;\r\n        utils.positionChanger(start_index, end_index);\r\n        start_index = -1;\r\n        end_index = -1;\r\n      },\r\n    };\r\n    const defaultProps = {};\r\n    return drag ? dragProps : defaultProps;\r\n  };\r\n})();\r\n\r\nconst UperHelper = (etype: string): string => {\r\n  const etypeArr: any = etype.split(\"\");\r\n  const start = etypeArr.shift().toUpperCase();\r\n  return `on${start}${etypeArr.join(\"\")}`;\r\n};\r\n\r\nconst ClearHandleProps = (options: fromItemMergeType) => {\r\n  const OriginalProps = {};\r\n  Object.keys(options).forEach((curKey: string) => {\r\n    if (!HandleProps.includes(curKey)) OriginalProps[curKey] = options[curKey];\r\n  });\r\n  return OriginalProps;\r\n};\r\n\r\nconst eventMap: eventMapType = (() => {\r\n  const inputEvents: any = [\r\n    \"input\",\r\n    \"change\",\r\n    \"blur\",\r\n    \"mouseover\",\r\n    \"mouseenter\",\r\n  ];\r\n  inputEvents.default = \"input\";\r\n  const selectEvents: any = [\"change\"];\r\n  selectEvents.default = \"change\";\r\n  const textEvents: any = [\"click\"];\r\n  textEvents.default = \"click\";\r\n  const uploadEvents: any = [\r\n    \"preview\",\r\n    \"remove\",\r\n    \"success\",\r\n    \"error\",\r\n    \"progress\",\r\n    \"change\",\r\n    \"exceed\",\r\n    \"upload\",\r\n    \"remove\",\r\n  ];\r\n  uploadEvents.default = \"change\";\r\n  const containerEvents: any = [\"click\", \"mouseover\", \"mouseenter\"];\r\n  containerEvents.default = \"click\";\r\n  const checkboxEvents: any = [\"click\", \"mouseover\", \"mouseenter\", \"change\"];\r\n  checkboxEvents.default = \"change\";\r\n  const radioEvents: any = [\"click\", \"mouseover\", \"mouseenter\", \"change\"];\r\n  radioEvents.default = \"click\";\r\n  const dateEvents: any = [\r\n    \"click\",\r\n    \"mouseover\",\r\n    \"mouseenter\",\r\n    \"change\",\r\n    \"blur\",\r\n    \"focus\",\r\n    \"calendarChange\",\r\n    \"panelChange\",\r\n    \"visibleChange\",\r\n  ];\r\n  dateEvents.default = \"change\";\r\n  const timeEvents: any = [\r\n    \"click\",\r\n    \"mouseover\",\r\n    \"mouseenter\",\r\n    \"change\",\r\n    \"blur\",\r\n    \"focus\",\r\n    \"calendarChange\",\r\n    \"panelChange\",\r\n    \"visibleChange\",\r\n  ];\r\n  timeEvents.default = \"change\";\r\n  const switchEvents: any = [\"click\", \"mouseover\", \"mouseenter\", \"change\"];\r\n  switchEvents.default = \"change\";\r\n  const LIB = {\r\n    input: inputEvents,\r\n    select: selectEvents,\r\n    text: textEvents,\r\n    upload: uploadEvents,\r\n    container: containerEvents,\r\n    checkbox: checkboxEvents,\r\n    radio: radioEvents,\r\n    date: dateEvents,\r\n    time: timeEvents,\r\n    switch: switchEvents,\r\n  };\r\n  const getEvents = (\r\n    elType: any,\r\n    etype: string | string[]\r\n  ): any | undefined[] => {\r\n    if (elType in LIB) {\r\n      if (Array.isArray(etype)) {\r\n        const retEvents: IObject[] = [];\r\n        const defaultEvent = LIB[elType].default;\r\n        const defaultEventMap = {\r\n          originalEvent: defaultEvent,\r\n          mountEvent: UperHelper(defaultEvent),\r\n        };\r\n        etype.forEach((strEvents) => {\r\n          if (strEvents == defaultEvent) return;\r\n          if (LIB[elType].includes(strEvents)) {\r\n            retEvents.push({\r\n              originalEvent: strEvents,\r\n              mountEvent: UperHelper(strEvents),\r\n            });\r\n          } else {\r\n            console.warn(\"未在元素类型：\" + elType + \"找到：\" + etype + \"方法\");\r\n          }\r\n        });\r\n        retEvents.push(defaultEventMap);\r\n        return retEvents;\r\n      } else {\r\n        if (!LIB[elType].default) {\r\n          console.warn(\"can not found default event in \" + elType);\r\n        }\r\n        return [\r\n          {\r\n            originalEvent: LIB[elType].default,\r\n            mountEvent: UperHelper(LIB[elType].default),\r\n          },\r\n        ];\r\n      }\r\n    } else {\r\n      console.warn(\"未定义:\" + elType + \"元素类型\");\r\n      return [];\r\n    }\r\n  };\r\n  const getDefaultEvent = (elType: string | number) => {\r\n    return LIB[elType]?.default;\r\n  };\r\n  return {\r\n    getEvents,\r\n    getDefaultEvent,\r\n  };\r\n})();\r\n\r\nconst Methods = {\r\n  methods: {\r\n    getFrom() {\r\n      const myThis = this as any;\r\n      return myThis.$refs[FROM_INS];\r\n    },\r\n    addItem(item: any) {\r\n      const myThis = this as any;\r\n      myThis.quickOptions.formOptions.push(item);\r\n      myThis._updateComponents();\r\n    },\r\n    _updateComponents() {\r\n      const myThis = this as any;\r\n      myThis.$nextTick(() => {\r\n        myThis.$forceUpdate();\r\n      });\r\n    },\r\n    resetRules(resourceRules: IObject<any>) {\r\n      const myThis = this as any;\r\n      const libKey = \"StateLib\" + myThis._raw;\r\n      if (libKey in window) {\r\n        const hideItemKeys = window[\"StateLib\" + myThis._raw].getDeleteKey();\r\n        const newRules = Object.keys(resourceRules).reduce(\r\n          (ref: IObject, cur: string) => {\r\n            if (hideItemKeys.indexOf(cur) == -1) ref[cur] = resourceRules[cur];\r\n            return ref;\r\n          },\r\n          {}\r\n        );\r\n        myThis.$emit(\"ruleChange\", newRules);\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n          resolve(\"\");\r\n        }, 200);\r\n      });\r\n    },\r\n  },\r\n};\r\n\r\nconst _Data = {\r\n  data: () => ({\r\n    _quickOptions: {},\r\n    defaultValue: \"未匹配到key\",\r\n    _raw: new Date().getTime(),\r\n  }),\r\n};\r\n\r\nconst Props = {\r\n  props: {\r\n    formData: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    quickOptions: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    depOptions: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    rules: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n  },\r\n};\r\n\r\nconst MountMainUtils = function (myThis: any): UT {\r\n  const _emitVal = emitVal(myThis);\r\n  const _emitEvent = emitEvent(myThis);\r\n  const _UTILS: any = {};\r\n  const GetCombinationType = (type: string): ReturnCombType => {\r\n    const typeArr = type.split(\":\");\r\n    const mainType = typeArr[0];\r\n    const subType = typeArr[1] as CreatorType;\r\n    return {\r\n      mainType,\r\n      subType,\r\n    };\r\n  };\r\n  const getModelValue = (key: string | fromItemMergeType | undefined) => {\r\n    let _key: string | null = null;\r\n    let _mountValue: string | undefined = undefined;\r\n    if (!key) return null;\r\n    if (typeof key == \"string\") {\r\n      _key = key;\r\n    } else {\r\n      _key = key.key;\r\n      _mountValue = key.mountModelValue;\r\n    }\r\n\r\n    if (_mountValue && _mountValue in myThis.formData) {\r\n      _key = _mountValue;\r\n    }\r\n\r\n    if (_key in myThis.formData) {\r\n      return myThis.formData[_key];\r\n    } else {\r\n      // return myThis.defaultValue\r\n      return null;\r\n    }\r\n  };\r\n  const createEventMap = (\r\n    option: {\r\n      formElementType: string;\r\n      tirrgerEvents: any;\r\n      key: any;\r\n      preventDefaultEvent: any;\r\n      mountModelValue: any;\r\n      optionValueKey: string;\r\n      optionLabelKey: string;\r\n      redundantKeys: never[];\r\n      options: any;\r\n    },\r\n    utils: UT\r\n  ) => {\r\n    if (!option.formElementType) return {};\r\n    const mainType = GetCombinationType(option.formElementType).mainType;\r\n    const eventList = eventMap.getEvents(mainType, option.tirrgerEvents);\r\n\r\n    const events = {};\r\n\r\n    eventList.forEach(\r\n      ({\r\n        mountEvent,\r\n        originalEvent,\r\n      }: {\r\n        mountEvent: string;\r\n        originalEvent: string;\r\n      }) => {\r\n        const EmitEvent: any = _emitVal(originalEvent, option.key);\r\n        const defaultEvent = eventMap.getDefaultEvent(mainType);\r\n        if (originalEvent == defaultEvent) {\r\n          // @ts-ignore\r\n          events[mountEvent] = (val, e) => {\r\n            if (!option.preventDefaultEvent) {\r\n              utils.upDateFromData(val, option.mountModelValue || option.key);\r\n            } else {\r\n              /* 开启了响应赋值 */\r\n            }\r\n            if (option.formElementType == \"select\") {\r\n              const valueKey = option.optionValueKey || \"value\";\r\n              const lableKey = option.optionLabelKey || \"label\";\r\n              const redundantKeys = option.redundantKeys || [];\r\n              const selectItem = utils\r\n                .getComponentDeps(option.options)\r\n                .filter((option: IObject) => option[valueKey] == val)\r\n                .map((option: IObject) => ({\r\n                  value: option[valueKey],\r\n                  label: option[lableKey],\r\n                  ...redundantKeys.reduce(\r\n                    (ref: { [x: string]: any }, cur: string | number) => {\r\n                      ref[cur] = option[cur];\r\n                      return ref;\r\n                    },\r\n                    {}\r\n                  ),\r\n                }));\r\n              return EmitEvent(val, { option: selectItem[0] });\r\n            }\r\n            EmitEvent(val);\r\n          };\r\n        } else {\r\n          // @ts-ignore\r\n          events[mountEvent] = EmitEvent;\r\n        }\r\n      }\r\n    );\r\n    return events;\r\n  };\r\n\r\n  const GetLayout = (): LayoutType => {\r\n    return myThis.quickOptions.layout;\r\n  };\r\n  const GetConfig = (): TConfig => {\r\n    return myThis.quickOptions.conifg;\r\n  };\r\n\r\n  const GetDrag = (): boolean => {\r\n    return Boolean(myThis.quickOptions.drag);\r\n  };\r\n\r\n  const GetEditOption = (): boolean => {\r\n    return Boolean(myThis.quickOptions.edit);\r\n  };\r\n\r\n  const upDateFromData = (val: any, key: string) => {\r\n    if (key in myThis.formData) {\r\n      if (val instanceof Event) return;\r\n      myThis.formData[key] = val;\r\n    }\r\n  };\r\n\r\n  const getMountModelValue = (option: {\r\n    mountModelValue: any;\r\n    key: string | number;\r\n  }): IObject => {\r\n    const retMap = {};\r\n    const key = option.mountModelValue;\r\n    if (typeof key == \"string\") {\r\n      // @ts-ignore\r\n      retMap[key] = myThis.formData[option.key];\r\n    }\r\n    return retMap;\r\n  };\r\n\r\n  const createElementDeep = (options: fromItemMergeType) => {\r\n    const children = options.children || [];\r\n    const targetProp = options.key;\r\n    const currentPropPath = [...(options.currentPropPath || []), targetProp];\r\n    const retMap: any[] = [];\r\n    if (!Array.isArray(children)) return;\r\n    children.forEach((child) => {\r\n      if (typeof child == \"string\") {\r\n        return retMap.push(\r\n          ElementCreator.text(\r\n            { textValue: child } as unknown as fromItemMergeType,\r\n            _UTILS\r\n          )\r\n        );\r\n      }\r\n      const elType = child.formElementType;\r\n      if (elType in ElementCreator) {\r\n        child.currentPropPath = currentPropPath;\r\n        retMap.push(\r\n          // @ts-ignore\r\n          ElementCreator[elType]({ ...child, key: targetProp }, _UTILS)\r\n        );\r\n      } else {\r\n        console.warn(\"validate child option:\" + JSON.stringify(child));\r\n      }\r\n    });\r\n    return retMap;\r\n  };\r\n\r\n  const GetParentModelVal = (path: string[]) => {\r\n    const parentModelProp = path.shift();\r\n    const propValue = getModelValue(parentModelProp);\r\n    if (propValue == myThis.defaultValue) {\r\n      console.warn(\"can not found parent prop \" + parentModelProp);\r\n    }\r\n    return propValue;\r\n  };\r\n\r\n  const ParseDirective = (\r\n    vnode: any,\r\n    options: fromItemMergeType,\r\n    utils: UT\r\n  ): any => {\r\n    const directives = options.directives;\r\n    // console.log(options.formElementLabel, options);\r\n    // 删除当前指令 防止继续往下传\r\n    // delete options.directives;\r\n    if (Array.isArray(directives)) {\r\n      const s: any = directives.map((ds: any[]) => {\r\n        const directive = ds[0];\r\n        const QueryString = \"_UTILS.scope.formData\";\r\n        const QueryDepString = \"_UTILS.scope.depOptions\";\r\n        const condition = ds[1]\r\n          .replace(new RegExp(\"scope\", \"g\"), QueryString)\r\n          .replace(new RegExp(\"depScope\", \"g\"), QueryDepString);\r\n        return [\r\n          resolveDirective(directive),\r\n          eval(condition),\r\n          utils,\r\n          options.key,\r\n        ];\r\n      });\r\n\r\n      vnode = withDirectives(vnode, s);\r\n    }\r\n    return vnode;\r\n  };\r\n  const RenderComponents = (options: fromItemMergeType) => {\r\n    const slotOptions: cOptType = options.slotOptions || {};\r\n    const props: cpropType = slotOptions.props || [];\r\n    const receiver: creceiverType = slotOptions.receiver || [];\r\n    const createPorps = props.reduce((ref, cur, index) => {\r\n      try {\r\n        // @ts-ignore\r\n        ref[cur.prop] =\r\n          cur.type == \"self\"\r\n            ? cur.value\r\n            : {\r\n                ..._UTILS.scope.formData,\r\n                ..._UTILS.scope.depOptions,\r\n              }[cur.value];\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      return ref;\r\n    }, {});\r\n\r\n    const Emit = _UTILS.emitEvent(\"formEvent\", options.formElementType);\r\n    const CreateReceiver = receiver.reduce((ref, cur, index) => {\r\n      // @ts-ignore\r\n      ref[UperHelper(cur)] = function (value: any) {\r\n        Emit({ type: cur, key: options.key, value });\r\n      };\r\n      return ref;\r\n    }, {});\r\n    return ParseDirective(\r\n      h(options.component, { ...createPorps, ...CreateReceiver }),\r\n      options,\r\n      _UTILS\r\n    );\r\n  };\r\n\r\n  const GetComponentDeps = (depName: string | Array<any>) => {\r\n    if (typeof depName == \"string\") {\r\n      if (depName in myThis.depOptions) {\r\n        return myThis.depOptions[depName];\r\n      } else {\r\n        console.warn(\"invalid depName:\" + depName);\r\n        return [];\r\n      }\r\n    } else if (Array.isArray(depName)) {\r\n      return depName;\r\n    } else {\r\n      console.warn(\r\n        \"invalid depName type:\" + typeof depName + \", must be Array or String\"\r\n      );\r\n    }\r\n  };\r\n\r\n  const ParseTempSyntax = function (val: any) {\r\n    if (typeof val == \"string\") {\r\n      const parseArr = val.match(TemplateReg);\r\n      if (parseArr && parseArr.length > 0) {\r\n        parseArr.map((parseString: string) => {\r\n          const str = parseString.replace(\"{{\", \"\").replace(\"}}\", \"\");\r\n          const mergeObject = Object.assign(\r\n            {},\r\n            _UTILS.scope.formData,\r\n            _UTILS.scope.depOptions\r\n          );\r\n          const parsedVal = mergeObject[str];\r\n          val = val.replace(parseString, parsedVal);\r\n        });\r\n      }\r\n    }\r\n    return val;\r\n  };\r\n  const RulesState = (() => {\r\n    const rules: any = null;\r\n    const deleteKeys: string[] = [];\r\n    return {\r\n      // setRules(_rules: any) {\r\n      //   // rules = JSON.parse(JSON.stringify(_rules));\r\n      // },\r\n      resetState(key: string, state: boolean) {\r\n        const index = deleteKeys.indexOf(key);\r\n        if (state) {\r\n          index >= 0 && deleteKeys.splice(index, 1);\r\n        } else {\r\n          index == -1 && deleteKeys.push(key);\r\n        }\r\n      },\r\n      getDeleteKey() {\r\n        return deleteKeys;\r\n      },\r\n      resetRules(type: string) {\r\n        // const emit = _UTILS.emitEvent(\"directiveEvent\", type);\r\n        // @ts-ignore\r\n        window[\"StateLib\" + myThis._raw] = this as any;\r\n      },\r\n    };\r\n  })();\r\n\r\n  const PositionChanger = function (start, end) {\r\n    const QuickFormItemOptions = myThis.quickOptions.formOptions;\r\n    if (start >= 0 && end >= 0 && start !== end) {\r\n      const StartConf = QuickFormItemOptions.splice(start, 1)[0];\r\n      if (start > end) {\r\n        QuickFormItemOptions.splice(end, 0, StartConf);\r\n      } else {\r\n        QuickFormItemOptions.splice(end - 1, 0, StartConf);\r\n      }\r\n      _emitEvent(\"optionChange\")({\r\n        targetOption: StartConf,\r\n        start,\r\n        end,\r\n        currentOptions: JSON.stringify(_UTILS.getGlobalOptions()),\r\n      });\r\n      myThis.$forceUpdate();\r\n    }\r\n  };\r\n  _UTILS.scope = myThis;\r\n  _UTILS.emit = _emitVal;\r\n  _UTILS.getModelValue = getModelValue;\r\n  _UTILS.eventMap = eventMap;\r\n  _UTILS.createEventMap = createEventMap;\r\n  _UTILS.GetCombinationType = GetCombinationType;\r\n  _UTILS.GetLayout = GetLayout;\r\n  _UTILS.GetConfig = GetConfig;\r\n  _UTILS.GetDrag = GetDrag;\r\n  _UTILS.GetEditOption = GetEditOption;\r\n  _UTILS.upDateFromData = upDateFromData;\r\n  _UTILS.getMountModelValue = getMountModelValue;\r\n  _UTILS.createElementDeep = createElementDeep;\r\n  _UTILS.GetParentModelVal = GetParentModelVal;\r\n  _UTILS.emitEvent = _emitEvent;\r\n  _UTILS.parseDirective = ParseDirective;\r\n  _UTILS.renderComponents = RenderComponents;\r\n  _UTILS.clearHandleProps = ClearHandleProps;\r\n  _UTILS.getComponentDeps = GetComponentDeps;\r\n  _UTILS.parseTempSyntax = ParseTempSyntax;\r\n  _UTILS.rulesState = RulesState;\r\n  _UTILS.positionChanger = PositionChanger;\r\n  _UTILS.getGlobalOptions = () => myThis.quickOptions;\r\n  return _UTILS;\r\n};\r\n\r\nconst MainRender = function () {\r\n  return {\r\n    render() {\r\n      const myThis = this as any;\r\n      const formOptions = myThis.quickOptions.formOptions || [];\r\n      const config: TConfig = myThis.quickOptions.config;\r\n      const depOptions = myThis.depOptions;\r\n      const UTILS = MountMainUtils(myThis);\r\n      let isHander = false;\r\n      // UTILS.rulesState.setRules(myThis.quickOptions.rules);\r\n      if (\r\n        config &&\r\n        config.renderType == \"hander\" &&\r\n        config.containerVnode &&\r\n        config.itemVnode\r\n      )\r\n        isHander = true;\r\n      const FromVnode = ElementCreator.formFrame(\r\n        formOptions,\r\n        UTILS,\r\n        isHander ? config : undefined\r\n      );\r\n      return FromVnode;\r\n    },\r\n  };\r\n};\r\n\r\nconst _QuickForm = {\r\n  ...Props,\r\n  ..._Data,\r\n  ...Methods,\r\n  ...Dires,\r\n  ...MainRender(),\r\n};\r\n\r\nexport const QuickForm = function (argus) {\r\n  return h(_QuickForm, argus);\r\n};\r\n\r\nexport const HasDirective = (dir: string) => {\r\n  return Boolean(Dires.directives[dir]);\r\n};\r\n\r\nconst mount = function (app: {\r\n  component: (\r\n    arg0: string,\r\n    arg1: {\r\n      render(): VNode<RendererNode, RendererElement, { [key: string]: any }>;\r\n      directives: { sif: { updated: (el: any, argus: any) => void } };\r\n      methods: {\r\n        getFrom(): any;\r\n        addItem(item: any): void;\r\n        _updateComponents(): void;\r\n        resetRules(resourceRules: IObject<any>): Promise<unknown>;\r\n      };\r\n      data: () => { _quickOptions: {}; defaultValue: string; _raw: number };\r\n      props: {\r\n        formData: { type: ObjectConstructor; default: () => {} };\r\n        quickOptions: { type: ObjectConstructor; default: () => {} };\r\n        depOptions: { type: ObjectConstructor; default: () => {} };\r\n        rules: { type: ObjectConstructor; default: () => {} };\r\n      };\r\n    }\r\n  ) => void;\r\n}) {\r\n  app.component(\"quick-form\", _QuickForm);\r\n  _app = app;\r\n};\r\n\r\nexport default {\r\n  install: mount,\r\n};\r\n","const IF = \"sif\";\r\n\r\nconst EXP = {\r\n  directives: {\r\n    [IF]: {\r\n      updated: (() => {\r\n        let originalDisplay: any = null;\r\n        let timer: any = null;\r\n        return (el: any, argus: any) => {\r\n          console.log(1111111111, el, argus);\r\n          const utils = argus.arg;\r\n          if (!utils) return;\r\n          const display = el.style.display;\r\n          const key = argus.modifiers;\r\n          const rules = utils.scope._rules;\r\n          // const emit = utils.emitEvent(\"directiveEvent\", key);\r\n\r\n          if (originalDisplay == null) {\r\n            originalDisplay = display;\r\n          }\r\n\r\n          utils.rulesState.resetState(key, argus.value);\r\n\r\n          utils.scope.$nextTick(() => {\r\n            if (!argus.value) {\r\n              el.style.display = \"none\";\r\n              // emit({ directive: IF, value: argus.value });\r\n              // // key in rules && (delete rules[key])\r\n            } else {\r\n              // emit({ directive: IF, value: argus.value });\r\n              el.style.display = originalDisplay;\r\n              // !(key in rules) && (rules[key] = rule)\r\n            }\r\n          });\r\n\r\n          if (timer) clearTimeout(timer);\r\n          timer = setTimeout(() => {\r\n            utils.rulesState.resetRules(IF);\r\n          }, 200);\r\n        };\r\n      })(),\r\n    },\r\n  },\r\n};\r\n\r\nexport default EXP;\r\n","import { defineComponent } from \"vue\";\r\n\r\nconst headerClasses = {\r\n  quickHeader: {\r\n    background: \"rgb(32,161,98)\",\r\n    height: \"64px\",\r\n    width: \"100%\",\r\n    position: \"fixed\",\r\n    top: \"0\",\r\n    left: 0,\r\n    fontSize: \"32px\",\r\n    color: \"#fff\",\r\n    lineHeight: \"64px\",\r\n    padding: \"0 20px\",\r\n    zIndex: 9999,\r\n  },\r\n  quickSubTitle: {\r\n    fontSize: \"16px\",\r\n  },\r\n  github: {\r\n    float: \"right\",\r\n    marginRight: \"40px\",\r\n    marginTop: \"14px\",\r\n    cursor: \"pointer\",\r\n  },\r\n};\r\nexport default defineComponent({\r\n  setup() {\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    //@ts-ignore\r\n    const { classes } = window._createStyleSheet(headerClasses);\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    const conifg = require(\"../../package.json\");\r\n\r\n    const toGithub = () => {\r\n      window.open(\"https://github.com/allensunjian/quick-form\");\r\n    };\r\n    return () => {\r\n      return (\r\n        <div class={classes.quickHeader}>\r\n          <span>\r\n            QUICK-FORM{\" \"}\r\n            <span class={classes.quickSubTitle}>--v{conifg.version}</span>\r\n          </span>\r\n          <svg\r\n            class={classes.github}\r\n            onClick={toGithub}\r\n            height=\"32\"\r\n            aria-hidden=\"true\"\r\n            viewBox=\"0 0 16 16\"\r\n            version=\"1.1\"\r\n            width=\"32\"\r\n            data-view-component=\"true\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"\r\n            ></path>\r\n          </svg>\r\n        </div>\r\n      );\r\n    };\r\n  },\r\n});\r\n","import {\r\n  defineComponent,\r\n  onMounted,\r\n  getCurrentInstance,\r\n  PropType,\r\n  ref,\r\n  watchEffect,\r\n  Ref,\r\n  toRefs,\r\n  watch,\r\n  nextTick,\r\n} from \"vue\";\r\nimport * as monaco from \"monaco-editor/esm/vs/editor/editor.api\";\r\n\r\nconst editorProps: { code: PropType<string>; height: PropType<number> } = {\r\n  code: String,\r\n  height: Number,\r\n} as const;\r\n\r\nconst GetEditor = (curIns: any, code: any) => {\r\n  const Mo = monaco.editor.create(curIns?.refs.monaco, {\r\n    // acceptSuggestionOnEnter: \"on\",\r\n    // accessibilitySupport: \"auto\",\r\n    // autoClosingBrackets: \"always\",\r\n    theme: \"vs-dark\",\r\n    readOnly: false,\r\n    value: code,\r\n    // language: \"javascript\",\r\n    minimap: {\r\n      enabled: false, // 是否启用预览图\r\n    },\r\n    tabSize: 2,\r\n    scrollBeyondLastLine: false,\r\n    // automaticLayout: true,\r\n    // folding: true,\r\n    // colorDecorators: true,\r\n    // autoIndent: \"brackets\",\r\n  });\r\n  // monaco.editor.setModelLanguage(Mo.getModel() as any, \"javascript\");\r\n\r\n  return Mo;\r\n};\r\n\r\nexport default defineComponent({\r\n  props: editorProps,\r\n  emits: [\"getCode\"],\r\n  setup(props, { emit }) {\r\n    const curIns: any = getCurrentInstance();\r\n    const { code, height } = toRefs(props);\r\n    let monacoIns: any = null;\r\n    const editorClasses = {\r\n      quickEditorWrap: {\r\n        width: \"600px\",\r\n        height: height.value + \"px\",\r\n        display: \"inline-block\",\r\n        position: \"relative\",\r\n      },\r\n      mocaWarp: {\r\n        width: \"600px\",\r\n        height: height.value + \"px\",\r\n        display: \"inline-block\",\r\n      },\r\n      quickRun: {\r\n        position: \"absolute\",\r\n        top: \"0px\",\r\n        right: 0,\r\n        color: \"#fff\",\r\n        background: \"green\",\r\n        display: \"inline-block\",\r\n        padding: \"2px 8px\",\r\n        \"border-radius\": \"2px\",\r\n        cursor: \"pointer\",\r\n      },\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    //@ts-ignore\r\n    const { classes } = window._createStyleSheet(editorClasses);\r\n    onMounted(() => {\r\n      if (!monacoIns) {\r\n        monacoIns = GetEditor(curIns, code.value);\r\n        // monacoIns.trigger(\"anyString\", \"editor.action.fomart\");\r\n        nextTick(() => {\r\n          console.log(monacoIns.getAction([\"editor.action.formatDocument\"]));\r\n        });\r\n      } else {\r\n        monacoIns.setValue(code.value);\r\n      }\r\n    });\r\n    const getRunCode = () => {\r\n      emit(\"getCode\", monacoIns.getValue());\r\n    };\r\n\r\n    watch(code, () => {\r\n      if (!monacoIns) return;\r\n      monacoIns.setValue(code.value);\r\n      // monacoIns.trigger(\"anyString\", \"editor.action.formatDocument\");\r\n    });\r\n\r\n    return function () {\r\n      return (\r\n        <div class={classes.quickEditorWrap}>\r\n          <div class={classes.mocaWarp} ref=\"monaco\"></div>\r\n          <span onClick={getRunCode} class={classes.quickRun}>\r\n            运行\r\n          </span>\r\n        </div>\r\n      );\r\n    };\r\n  },\r\n});\r\n","import { defineComponent, PropType, toRefs, reactive, watch } from \"vue\";\r\nimport CodeParser from \"./codeParser\";\r\nimport CodeEditor from \"./MonacoEditor\";\r\n\r\nconst TypeProps: {\r\n  code: PropType<string>;\r\n  height: PropType<number>;\r\n  title: PropType<string>;\r\n} = {\r\n  code: String,\r\n  height: Number,\r\n  title: String,\r\n};\r\n\r\nconst codeViewClasses = {\r\n  quickCodeViewTitle: {\r\n    fontSize: \"22px\",\r\n    textAlign: \"center\",\r\n    color: \"#fff\",\r\n    paddingTop: \"40px\",\r\n  },\r\n};\r\n\r\nexport default defineComponent({\r\n  props: TypeProps,\r\n  emits: [\"codeChange\"],\r\n  setup(props, { slots, emit }) {\r\n    const { code } = toRefs(props);\r\n    const _State = reactive({\r\n      _code: props.code,\r\n      _height: props.height,\r\n      _title: props.title,\r\n    });\r\n    const getCode = (codeStr: string) => {\r\n      _State._code = codeStr;\r\n    };\r\n    const codeChange = (val: any) => {\r\n      emit(\"codeChange\", val);\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    //@ts-ignore\r\n    const { classes } = window._createStyleSheet(codeViewClasses);\r\n    watch(code, (newcode) => {\r\n      _State._code = newcode;\r\n    });\r\n    return () => {\r\n      return (\r\n        <div>\r\n          <div class={classes.quickCodeViewTitle}>{_State._title}</div>\r\n          <div>{slots.default ? slots.default() : \"\"}</div>\r\n          <div style=\"margin-top: 40px\">\r\n            <CodeParser\r\n              height={_State._height}\r\n              code={_State._code}\r\n              onCodeChange={codeChange}\r\n            ></CodeParser>\r\n            <CodeEditor\r\n              height={_State._height}\r\n              code={_State._code}\r\n              onGetCode={getCode}\r\n            ></CodeEditor>\r\n          </div>\r\n        </div>\r\n      );\r\n    };\r\n  },\r\n});\r\n","import { componentSizes, ElButton } from \"element-plus\";\r\nimport {\r\n  defineComponent,\r\n  ref,\r\n  Ref,\r\n  nextTick,\r\n  h,\r\n  reactive,\r\n  getCurrentInstance,\r\n} from \"vue\";\r\n// import { QuickForm } from \"../../build/index.js\";\r\nimport { QuickForm, HasDirective } from \"../../build/index.js\";\r\nconst dragViewClasses = {\r\n  dragLayout: {\r\n    height: \"800px\",\r\n  },\r\n  dragTitle: {\r\n    padding: \"40px 0 80px 0\",\r\n    color: \"#fff\",\r\n    fontSize: \"22px\",\r\n    textAlign: \"center\",\r\n  },\r\n  dragContent: {\r\n    display: \"flex\",\r\n    height: \"600px\",\r\n    background: \"#fff\",\r\n    // border: \"1px solid var(--el-color-primary)\",\r\n    boxSizing: \"border-box\",\r\n  },\r\n  toolbar: {\r\n    flex: \"0 0 80px\",\r\n    borderRight: \"3px solid rgb(158,204,171)\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: \"10px 0\",\r\n    boxSizing: \"border-box\",\r\n    height: \"100%\",\r\n    overflow: \"hidden\",\r\n    \"overflow-y\": \"auto\",\r\n  },\r\n  dragView: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n  toolbarItem: {\r\n    flex: \" 0 0 60px\",\r\n    width: \"60px\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    display: \"flex\",\r\n    border: \"1px dashed var(--el-border-color);\",\r\n    cursor: \"pointer\",\r\n    marginBottom: \"10px\",\r\n  },\r\n  dragElementView: {\r\n    padding: \"20px\",\r\n    display: \"flex\",\r\n    flex: 1,\r\n    border: \"2px dashed var(--el-color-primary-dark-2)\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    fontSize: \"20px\",\r\n    height: \"100%\",\r\n    color: \"var(--el-menu-border-color)\",\r\n    boxSizing: \"border-box\",\r\n  },\r\n  stateOver: {\r\n    border: \"1px solid var(--el-color-success)\",\r\n    boxSizing: \"border-box\",\r\n  },\r\n  dragIntro: {\r\n    padding: \"10px\",\r\n    color: \"#fff\",\r\n  },\r\n};\r\nconst toolClasses = {\r\n  toolTip: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    color: \"var(--el-menu-border-color)\",\r\n    alignItems: \"center\",\r\n    \"justify-content\": \"center\",\r\n    \"font-size\": \"20px\",\r\n    \"pointer-events\": \"none\",\r\n  },\r\n  \"toolTip__state--danger\": {\r\n    color: \"var(--el-color-danger)\",\r\n  },\r\n  \"toolTip__state--warn\": {\r\n    color: \"var(--el-color-warning)\",\r\n  },\r\n  \"toolTip__state--success\": {\r\n    color: \"var(--el-color-success)\",\r\n  },\r\n};\r\nenum toolTipState {\r\n  warn = \"toolTip__state--warn\",\r\n  danger = \"toolTip__state--danger\",\r\n  success = \"toolTip__state--success\",\r\n}\r\n\r\nconst state_over_class = \"quick-form__state--element-over\";\r\n\r\ntype TToolState = \"danger\" | \"warn\" | \"success\";\r\n\r\ntype Tshotcut =\r\n  | \"shotcut-view\"\r\n  | \"shotcut-input\"\r\n  | \"shotcut-button\"\r\n  | \"shotcut-text\"\r\n  | \"shotcut-select\"\r\n  | \"shotcut-radio\"\r\n  | \"shotcut-checkbox\"\r\n  | \"shotcut-textarea\"\r\n  | \"shotcut-upload\"\r\n  | \"shotcut-switch\";\r\n\r\ntype Tcontainer = \"container-view\";\r\n\r\ntype TAtomicts = Tshotcut | Tcontainer;\r\n// 视图类型 component真实视图组件| shotcut快照（拖拽组件工具类）| container (主容器)\r\ntype TView = \"component\" | \"shotcut\" | \"container\";\r\n\r\ntype VnodeInfo = {\r\n  elementType: TAtomicts;\r\n  viewType: string;\r\n  componentName: string;\r\n  target: HTMLElement | null;\r\n  children: VnodeInfo[];\r\n  title?: string;\r\n};\r\n\r\ntype TregisterData = {\r\n  elementType: TAtomicts;\r\n  title: string;\r\n};\r\ninterface IFunction<T = void> {\r\n  (...items: any): T;\r\n}\r\n\r\nconst Throttling = function (dely: number, fn: IFunction) {\r\n  let timer: any = null;\r\n  return function (...argus: any[]) {\r\n    let scope: any;\r\n    if (timer) clearTimeout(timer);\r\n    timer = setTimeout(() => {\r\n      fn.apply(scope, argus);\r\n      clearTimeout(timer);\r\n    }, dely);\r\n  };\r\n};\r\n\r\nexport default defineComponent({\r\n  setup: () => {\r\n    let Ins: any = getCurrentInstance();\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    //@ts-ignore\r\n    const { classes } = window._createStyleSheet(dragViewClasses);\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    //@ts-ignore\r\n    const utilClasses = window._createStyleSheet(toolClasses);\r\n\r\n    // 快捷配置\r\n    const elementShotAbstractGen_default = (\r\n      registerInfo: any,\r\n      title,\r\n      children: any[]\r\n    ) => {\r\n      const events = dragEvent(\r\n        registerInfo.elementType,\r\n        registerInfo.viewType,\r\n        registerInfo.componentName\r\n      );\r\n      const vnode = (\r\n        <div\r\n          draggable=\"true\"\r\n          class={classes.toolbarItem}\r\n          onDrag={events.drag}\r\n          onDragleave={events.dragleave}\r\n          onDragover={events.dragover}\r\n        >\r\n          {children.length > 0 ? children : title}\r\n        </div>\r\n      );\r\n\r\n      nextTick(() => {\r\n        RegisterIns.setEl(registerInfo.componentName, vnode);\r\n      });\r\n\r\n      return vnode;\r\n    };\r\n    const elementShotcutGen = {\r\n      \"shotcut-view\": elementShotAbstractGen_default,\r\n      \"shotcut-input\": elementShotAbstractGen_default,\r\n      \"shotcut-button\": elementShotAbstractGen_default,\r\n      \"shotcut-text\": elementShotAbstractGen_default,\r\n      \"shotcut-select\": elementShotAbstractGen_default,\r\n      \"shotcut-radio\": elementShotAbstractGen_default,\r\n      \"shotcut-checkbox\": elementShotAbstractGen_default,\r\n      \"shotcut-textarea\": elementShotAbstractGen_default,\r\n      \"shotcut-upload\": elementShotAbstractGen_default,\r\n      \"shotcut-switch\": elementShotAbstractGen_default,\r\n    };\r\n    // 主画布 元素\r\n    const elementComponentGen = {\r\n      \"container-view\": (registerInfo: any, title, children: any[]) => {\r\n        //\r\n        const events = dragEvent(\r\n          registerInfo.elementType,\r\n          registerInfo.viewType,\r\n          registerInfo.componentName\r\n        );\r\n        const vnode = (\r\n          <div\r\n            draggable=\"true\"\r\n            class={classes.dragElementView}\r\n            onDrag={events.drag}\r\n            onDragleave={events.dragleave}\r\n            onDragover={events.dragover}\r\n            onMousemove={events.mousemove}\r\n          >\r\n            {children.length > 0\r\n              ? children\r\n              : handleElementGen.getQuickForm(registerInfo)}\r\n          </div>\r\n        );\r\n        nextTick(() => {\r\n          RegisterIns.setEl(registerInfo.componentName, vnode);\r\n        });\r\n        return vnode;\r\n      },\r\n    };\r\n    // form 基础信息\r\n    const option_temp = {\r\n      formOptions: [],\r\n      layout: {\r\n        labelWidth: 100,\r\n        size: \"default\",\r\n        labelPosition: \"right\",\r\n      },\r\n      edit: false,\r\n    };\r\n    const FormQuickOptionsLib = reactive({});\r\n\r\n    const FormQuickDataLib = reactive({});\r\n\r\n    const FormQuickEventLisb = {};\r\n    // 自定义事件\r\n    const handleElementGen = {\r\n      getQuickForm: function (registerInfo: any) {\r\n        if (!FormQuickOptionsLib[registerInfo.componentName]) {\r\n          FormQuickOptionsLib[registerInfo.componentName] = JSON.parse(\r\n            JSON.stringify(option_temp)\r\n          );\r\n        }\r\n        if (!FormQuickDataLib[registerInfo.componentName]) {\r\n          FormQuickDataLib[registerInfo.componentName] = {};\r\n        }\r\n        if (!FormQuickEventLisb[registerInfo.componentName]) {\r\n          FormQuickEventLisb[registerInfo.componentName] = {\r\n            FormChange: (e) => {\r\n              //\r\n            },\r\n            FormEvent: (e) => {\r\n              if (!e.key && e.val.type == \"delete_option\") {\r\n                const index = e.val.pos;\r\n                const resouce = e.val.resouce;\r\n                const option = e.val.value;\r\n                const key = option.key;\r\n                resouce.splice(index, 1);\r\n                if (\r\n                  FormQuickDataLib[registerInfo.componentName][key] !==\r\n                  undefined\r\n                ) {\r\n                  delete FormQuickDataLib[registerInfo.componentName][key];\r\n                }\r\n              }\r\n\r\n              if (!e.key && e.val.type == \"edit_option\") {\r\n                const index = e.val.pos;\r\n                const resouce = e.val.resouce;\r\n                const option = e.val.value;\r\n                const key = option.key;\r\n\r\n                handlerFormItemEvent.parseCurrentFormOptions(\r\n                  option,\r\n                  registerInfo.componentName\r\n                );\r\n              }\r\n            },\r\n          };\r\n        }\r\n        const form: any = h(\"div\", { class: \"dragFormWrap\" }, [\r\n          h(\r\n            \"div\",\r\n            {\r\n              class:\r\n                \"quick-form__state--align--center quick-form__state--mb--20 quick-form__fc--default\",\r\n            },\r\n            [\r\n              `表单${registerInfo.componentName}`,\r\n              h(\r\n                ElButton,\r\n                {\r\n                  style: \"float: right\",\r\n                  type: `${\r\n                    FormQuickOptionsLib[registerInfo.componentName].edit\r\n                      ? \"success\"\r\n                      : \"primary\"\r\n                  }`,\r\n                  size: \"small\",\r\n                  onClick: () => {\r\n                    const currentEdit =\r\n                      FormQuickOptionsLib[registerInfo.componentName].edit;\r\n                    FormQuickOptionsLib[registerInfo.componentName].edit =\r\n                      !currentEdit;\r\n                  },\r\n                },\r\n                () => [\r\n                  `${\r\n                    FormQuickOptionsLib[registerInfo.componentName].edit\r\n                      ? \"保存\"\r\n                      : \"编辑\"\r\n                  }`,\r\n                ]\r\n              ),\r\n            ]\r\n          ),\r\n          h(QuickForm, {\r\n            ref: registerInfo.componentName,\r\n            formData: FormQuickDataLib[registerInfo.componentName],\r\n            quickOptions: FormQuickOptionsLib[registerInfo.componentName],\r\n            onFormEvent:\r\n              FormQuickEventLisb[registerInfo.componentName].FormEvent,\r\n            onFormChange:\r\n              FormQuickOptionsLib[registerInfo.componentName].FormChange,\r\n          }),\r\n        ]);\r\n        return form;\r\n      },\r\n      itemGenFac: function (elementType: TAtomicts) {\r\n        // input 配置表\r\n        // button 配置表\r\n        return (\r\n          <el-dialog modelValue={showConfig.value} title=\"Tips\" width=\"30%\">\r\n            <span>This is a message</span>\r\n          </el-dialog>\r\n        );\r\n      },\r\n    };\r\n\r\n    // 工具类视图元素\r\n    const elementUtilsGen = {\r\n      \"utils-tooltip\": (text: string, type: TToolState) => {\r\n        return (\r\n          <div\r\n            class={[\r\n              utilClasses.classes[toolTipState[type]],\r\n              utilClasses.classes.toolTip,\r\n            ]}\r\n          >\r\n            {text}\r\n          </div>\r\n        );\r\n      },\r\n    };\r\n\r\n    // 表单元素配置事件\r\n    const showConfig = ref(false);\r\n\r\n    enum ViewConifgEnum {\r\n      \"input\" = \"shotcut-input\",\r\n      \"switch\" = \"shotcut-switch\",\r\n      \"textarea\" = \"shotcut-textarea\",\r\n      \"button\" = \"shotcut-button\",\r\n      \"text\" = \"shotcut-text\",\r\n      \"select\" = \"shotcut-select\",\r\n      \"radio\" = \"shotcut-radio\",\r\n      \"checkbox\" = \"shotcut-checkbox\",\r\n      \"upload\" = \"shotcut-upload\",\r\n    }\r\n    const handlerFormItemEvent = (() => {\r\n      const FormItemState = reactive({\r\n        formItemData: {},\r\n        titleType: \"\",\r\n      });\r\n      const defaultEventTypeForForm = {\r\n        input: (\r\n          name: string,\r\n          key: string,\r\n          placeholder?: string,\r\n          format?: (val) => any\r\n        ) =>\r\n          Object.assign(\r\n            {\r\n              formElementLabel: name || \"input\",\r\n              key,\r\n              placeholder: placeholder ? placeholder : \"请输入\" + name,\r\n              formElementType: \"input\",\r\n            },\r\n            format ? { format } : {}\r\n          ),\r\n        select: (\r\n          name: string,\r\n          key: string,\r\n          options: any[],\r\n          format?: (val) => any\r\n        ) =>\r\n          Object.assign(\r\n            {\r\n              formElementLabel: name || \"select\",\r\n              key,\r\n              // placeholder: placeholder ? placeholder : \"请输入\" + name,\r\n              placeholder: \"请选择\",\r\n              options,\r\n              formElementType: \"select\",\r\n            },\r\n            format ? { format } : {}\r\n          ),\r\n        radios: (name: string, key: string, options: any[]) => ({\r\n          formElementType: \"radio\",\r\n          formElementLabel: name || \"radio\",\r\n          key,\r\n          childrenOptions: options,\r\n        }),\r\n      };\r\n\r\n      // 表单配置字段构建规则\r\n      const rule_gen_formitem = {\r\n        formElementLabel: defaultEventTypeForForm.input(\r\n          \"列名\",\r\n          \"formElementLabel\"\r\n        ),\r\n        key: defaultEventTypeForForm.input(\"主键\", \"key\"),\r\n\r\n        placeholder: defaultEventTypeForForm.input(\"占位符\", \"placeholder\"),\r\n        directives: defaultEventTypeForForm.input(\r\n          \"指令\",\r\n          \"directives\",\r\n          \"请输入指令如sif=scope.state == 1 && scope.name == ''\",\r\n          function (val) {\r\n            let ret: any = \"\";\r\n            const reg = /(?<!=)=(?!=)/;\r\n            if (!val) return \"\";\r\n            try {\r\n              ret = val.split(\",\").reduce((ref, cur) => {\r\n                const orginDerictives = cur.split(reg);\r\n                if (!HasDirective(orginDerictives[0]))\r\n                  throw `未定义的指令${orginDerictives[0]}`;\r\n                ref.push([orginDerictives[0], orginDerictives[1]]);\r\n                return ref;\r\n              }, []);\r\n            } catch (error) {\r\n              console.error(\"quick-form 表单指令格式错误\", error);\r\n              ret = \"\";\r\n            }\r\n            return ret;\r\n          }\r\n        ),\r\n        children: defaultEventTypeForForm.input(\r\n          \"子属性\",\r\n          \"children\",\r\n          \"请输入子属性多个属性用逗号隔开\",\r\n          function (val) {\r\n            return val.split(\",\");\r\n          }\r\n        ),\r\n        defaultValue: defaultEventTypeForForm.input(\"默认值\", \"defaultValue\"),\r\n        type: defaultEventTypeForForm.input(\"元素类型\", \"type\"),\r\n        textValue: defaultEventTypeForForm.input(\"默认值\", \"textValue\"),\r\n        // multiple: defaultEventTypeForForm.select(\"是否多选\", \"multiple\",\r\n        //[\r\n        //   { label: \"是\", value: true },\r\n        //   { label: \"否\", value: false },\r\n        // ]),\r\n        options: defaultEventTypeForForm.input(\r\n          \"选项设置\",\r\n          \"options\",\r\n          \"请输入选项如；label=男&value=0,label=女&value=1\",\r\n          function (val) {\r\n            try {\r\n              return val.split(\",\").reduce((ref, cur) => {\r\n                const lableAnVal = cur.split(\"&\").reduce((lvref, lvstr) => {\r\n                  const lv = lvstr.split(\"=\");\r\n                  lvref[lv[0]] = lv[1];\r\n                  return lvref;\r\n                }, {});\r\n                ref.push(lableAnVal);\r\n                return ref;\r\n              }, []);\r\n            } catch (error) {\r\n              console.error(\"quick-form 选项解析错误\", error);\r\n              return [];\r\n            }\r\n          }\r\n        ),\r\n        childrenOptions: defaultEventTypeForForm.input(\r\n          \"选项设置\",\r\n          \"childrenOptions\",\r\n          \"请输入选项如；label=男&value=0,label=女&value=1\",\r\n          function (val) {\r\n            try {\r\n              return val.split(\",\").reduce((ref, cur) => {\r\n                const lableAnVal = cur.split(\"&\").reduce((lvref, lvstr) => {\r\n                  const lv = lvstr.split(\"=\");\r\n                  // radio选择映射 label == children[]\r\n                  // radio选择映射 value == label\r\n                  if (lv[0] == \"label\") {\r\n                    lvref.children = [lv[1]];\r\n                  } else if (lv[0] == \"value\") {\r\n                    lvref.label = lv[1];\r\n                  }\r\n                  return lvref;\r\n                }, {});\r\n                ref.push(lableAnVal);\r\n                return ref;\r\n              }, []);\r\n            } catch (error) {\r\n              console.error(\"quick-form 选项解析错误\", error);\r\n              return [];\r\n            }\r\n          }\r\n        ),\r\n        action: defaultEventTypeForForm.input(\r\n          \"请求 URL\",\r\n          \"action\",\r\n          \"请填写请求URL，如果手动填写#\"\r\n        ),\r\n        multiple: defaultEventTypeForForm.radios(\"\", \"multiple\", [\r\n          { label: false, children: [\"单选\"] },\r\n          { label: true, children: [\"多选\"] },\r\n        ]),\r\n        listType: defaultEventTypeForForm.select(\"文件类型\", \"listType\", [\r\n          { label: \"text\", value: \"text\" },\r\n          { label: \"picture\", value: \"picture\" },\r\n          { label: \"picture-card\", value: \"picture-card\" },\r\n        ]),\r\n      };\r\n      // 表单元素动态 配置项\r\n      const shotview_conifg = {\r\n        \"shotcut-switch\": [\"formElementType:switch\", \"formElementLabel\", \"key\"],\r\n        \"shotcut-input\": [\r\n          \"formElementType:input\",\r\n          \"formElementLabel\",\r\n          \"key\",\r\n          \"placeholder\",\r\n          \"directives\",\r\n          \"defaultValue\",\r\n        ],\r\n        \"shotcut-textarea\": [\r\n          \"formElementType:input:textarea\",\r\n          \"formElementLabel\",\r\n          \"key\",\r\n          \"placeholder\",\r\n          \"directives\",\r\n          \"defaultValue\",\r\n        ],\r\n        \"shotcut-button\": [\r\n          \"formElementType:button\",\r\n          \"formElementLabel\",\r\n          \"type\",\r\n          \"children\",\r\n          \"directives\",\r\n        ],\r\n        \"shotcut-text\": [\r\n          \"formElementType:text\",\r\n          \"formElementLabel\",\r\n          \"textValue\",\r\n          \"directives\",\r\n        ],\r\n        \"shotcut-select\": [\r\n          \"clearable:true\",\r\n          \"formElementType:select\",\r\n          \"formElementLabel\",\r\n          \"key\",\r\n          \"options\",\r\n          \"defaultValue\",\r\n          \"multiple\",\r\n          \"directives\",\r\n        ],\r\n        \"shotcut-radio\": [\r\n          \"formElementType:radio\",\r\n          \"formElementLabel\",\r\n          \"key\",\r\n          \"childrenOptions\",\r\n          \"defaultValue\",\r\n          \"directives\",\r\n        ],\r\n        \"shotcut-checkbox\": [\r\n          \"formElementType:checkbox\",\r\n          \"formElementLabel\",\r\n          \"key-array\", // 数组类型的默认值\r\n          \"childrenOptions\",\r\n          \"defaultValue\",\r\n          \"directives\",\r\n        ],\r\n        \"shotcut-upload\": [\r\n          \"formElementType:upload\",\r\n          \"formElementLabel\",\r\n          \"key-array\",\r\n          \"directives\",\r\n          \"action:#\",\r\n          \"multiple:true\",\r\n          \"defaultValue:false\",\r\n          \"autoUpload:false\",\r\n          \"listType\",\r\n          \"listType:text\",\r\n        ],\r\n      };\r\n      // 仓库用于保存 运行时的 format\r\n      let currentValueFormat = {};\r\n      // 暂存值得类型\r\n      let currentKeyTypes = {};\r\n\r\n      const createConigForShotview = (arr: string[]) => {\r\n        const resetBooleanOrDefault = (str: string) => {\r\n          if (str == \"true\") return true;\r\n          if (str == \"false\") return false;\r\n          return str;\r\n        };\r\n        return arr.map((textConfig) => {\r\n          const keyAndVal = textConfig.split(\":\");\r\n          const keyAndVal_types = textConfig.split(\"-\");\r\n          if (keyAndVal_types.length == 2) {\r\n            const type = keyAndVal_types[1];\r\n            const key = keyAndVal_types[0];\r\n            currentKeyTypes[key] = type;\r\n            FormItemState.formItemData[key] = \"\";\r\n            // console.log(rule_gen_formitem[key], type, key);\r\n            return rule_gen_formitem[key];\r\n          }\r\n          if (keyAndVal.length == 2) {\r\n            // keyAndVal 两个参数则 已经有默认值  直接赋值即可\r\n            FormItemState.formItemData[keyAndVal[0]] = resetBooleanOrDefault(\r\n              keyAndVal[1]\r\n            );\r\n            return {};\r\n          } else if (keyAndVal.length == 3) {\r\n            FormItemState.formItemData[\r\n              keyAndVal[0]\r\n            ] = `${keyAndVal[1]}:${keyAndVal[2]}`;\r\n            return {};\r\n          }\r\n\r\n          FormItemState.formItemData[textConfig] = \"\";\r\n          if (textConfig in rule_gen_formitem) {\r\n            const target = rule_gen_formitem[textConfig];\r\n            if (\"format\" in target) {\r\n              currentValueFormat[target.key] = target.format;\r\n              // delete target.format;\r\n            }\r\n            return rule_gen_formitem[textConfig];\r\n          }\r\n        });\r\n      };\r\n      const copy = (val) => JSON.parse(JSON.stringify(val));\r\n\r\n      const createQuickFormRealItem = (): any => {\r\n        // 这里应该存在校验\r\n        return copy(FormItemState.formItemData);\r\n      };\r\n      const cancel = () => {\r\n        showConfig.value = false;\r\n        currentElementInfo = null;\r\n        _reject(\"user cancel\");\r\n        FormItemState.formItemData = {};\r\n        currentValueFormat = {};\r\n      };\r\n\r\n      const parseCurrentFormOptions = (options: any, componentName: string) => {\r\n        const type = options.formElementType;\r\n        handlerFormItemEvent\r\n          .genConifgForm(ViewConifgEnum[type], options)\r\n          .then((config) => {\r\n            // console.log(config);\r\n            Object.keys(config as {}).forEach((key) => {\r\n              options[key] = (config as {})[key];\r\n            });\r\n          });\r\n      };\r\n\r\n      let currentElementInfo: any = null;\r\n      let _reslove: any = null;\r\n      let _reject: any = null;\r\n\r\n      return {\r\n        parseCurrentFormOptions,\r\n        getCurrentKeyTypes: (key: string) => {\r\n          return currentKeyTypes[key];\r\n        },\r\n        clearCurrentKeyTypes: () => (currentKeyTypes = {}),\r\n        genConifgForm(info: any, defaultInfo?: {}) {\r\n          if (defaultInfo) {\r\n            FormItemState.formItemData = copy(defaultInfo);\r\n          } else {\r\n            currentElementInfo = info;\r\n            FormItemState.titleType = currentElementInfo;\r\n            const FromConfig = createConigForShotview(\r\n              shotview_conifg[currentElementInfo]\r\n            );\r\n            configQuickForm.formOptions = FromConfig;\r\n          }\r\n\r\n          showConfig.value = true;\r\n          return new Promise((resolve, reject) => {\r\n            _reslove = resolve;\r\n            _reject = reject;\r\n          });\r\n        },\r\n        submitFormItem() {\r\n          const conifg = createQuickFormRealItem();\r\n          Object.keys(conifg).forEach((formatKey) => {\r\n            if (currentValueFormat[formatKey]) {\r\n              conifg[formatKey] = currentValueFormat[formatKey](\r\n                conifg[formatKey]\r\n              );\r\n            }\r\n          });\r\n          _reslove(conifg);\r\n          cancel();\r\n        },\r\n        cancel,\r\n        getFormState() {\r\n          return FormItemState.formItemData;\r\n        },\r\n        getTitleType: () => FormItemState.titleType,\r\n      };\r\n    })();\r\n\r\n    let _draging_component_name: string | undefined = \"\";\r\n    const _overed_components = {\r\n      viewType: \"\",\r\n      elementType: \"\",\r\n      componentName: \"\",\r\n    };\r\n    const RootComponent: any = ref([]);\r\n    // 拖动状态快捷设置\r\n    const short_getDom = (fn: (dom?: any, e?: any) => void) => (e?: any) =>\r\n      fn(e?.target, e);\r\n    const elementState = (() => {\r\n      let overedDom: any = null;\r\n      return {\r\n        setOver: short_getDom((dom, e) => {\r\n          // const clientWidth = dom.clientWidth;\r\n          // const clientHeight = dom.clientHeight;\r\n          // const offsetX = e.clientX - dom.clientLeft;\r\n          // const offsetY = e.clientY - dom.clientTop;\r\n          // console.log(offsetX, offsetY);\r\n          if (dom) {\r\n            overedDom = dom;\r\n            dom.classList.add(state_over_class);\r\n          }\r\n        }),\r\n        setDefault: short_getDom((dom, e) => {\r\n          if (dom) {\r\n            dom.classList.remove(state_over_class);\r\n          }\r\n          if (overedDom) {\r\n            overedDom.classList.remove(state_over_class);\r\n          }\r\n        }),\r\n      };\r\n    })();\r\n\r\n    const RegisterCache = (() => {\r\n      const counterMap: { TView: number } | {} = {};\r\n      // 緩存了 dom信息\r\n      const cache = {};\r\n      // 映射了 dom信息\r\n      const RegisterMap = {};\r\n      // view层的子父映射关系\r\n      const cacheViewPostionMap = {};\r\n      let defaultKeys: TView[] = [];\r\n      const createElementInfo = (\r\n        viewType: TView,\r\n        elementType: TAtomicts,\r\n        postion: number,\r\n        title?: string\r\n      ): VnodeInfo => {\r\n        // 注冊 只注冊信息 不負責渲染\r\n        const componentName = `${elementType}-${postion}`;\r\n        const children = [];\r\n        const target = null;\r\n        return {\r\n          viewType,\r\n          elementType,\r\n          componentName,\r\n          children,\r\n          target,\r\n          title,\r\n        };\r\n      };\r\n\r\n      const getRegisterInfo = (componentName?: string) => {\r\n        return !componentName ? RegisterMap : RegisterMap[componentName];\r\n      };\r\n\r\n      const setEl = (componentName: string, vnode: any) => {\r\n        let timer: any = null;\r\n        let counter = 0;\r\n        timer = setInterval(() => {\r\n          if (counter == 20) {\r\n            clearInterval(timer);\r\n          }\r\n          if (vnode.el) {\r\n            RegisterMap[componentName].target = vnode.el;\r\n            clearInterval(timer);\r\n          } else {\r\n            counter++;\r\n          }\r\n        }, 50);\r\n      };\r\n\r\n      const swap = (name1, name2) => {\r\n        return new Promise((resolve, reject) => {\r\n          try {\r\n            const parentPosition1 = cacheViewPostionMap[name1];\r\n            const parentPosition2 = cacheViewPostionMap[name2];\r\n\r\n            const parentInfo1 = RegisterMap[parentPosition1].children;\r\n            const parentInfo2 = RegisterMap[parentPosition2].children;\r\n\r\n            const name1_postion = parentInfo1.findIndex(\r\n              (o) => o.componentName == name1\r\n            );\r\n            const name2_postion = parentInfo2.findIndex(\r\n              (o) => o.componentName == name2\r\n            );\r\n            const name1_target = parentInfo1.splice(\r\n              name1_postion,\r\n              1,\r\n              parentInfo2[name2_postion]\r\n            );\r\n            parentInfo2.splice(name2_postion, 1, name1_target[0]);\r\n            cacheViewPostionMap[name1] = parentPosition2;\r\n            cacheViewPostionMap[name2] = parentPosition1;\r\n            resolve(1);\r\n          } catch (error) {\r\n            reject(0);\r\n          }\r\n        });\r\n      };\r\n\r\n      const Render = (renderObject: any) => ({\r\n        render: () => {\r\n          return renderObject.map((info) => {\r\n            if (info.viewType == \"shotcut\") {\r\n              return elementShotcutGen[info.elementType](\r\n                info,\r\n                info.title ? info.title : info.componentName,\r\n                info.children\r\n              );\r\n            }\r\n            if (info.viewType == \"component\") {\r\n              return elementComponentGen[info.elementType](\r\n                info,\r\n                info.title ? info.title : info.componentName,\r\n                info.children\r\n              );\r\n            }\r\n          });\r\n        },\r\n      });\r\n      const renderVNodeFromElementInfo = (vnodeInfo: any) => {\r\n        if (!vnodeInfo) return \"\";\r\n        const retVnodeList: any[] = [];\r\n        const viewType = vnodeInfo.viewType;\r\n        const elementType = vnodeInfo.elementType;\r\n        const options = vnodeInfo.option;\r\n\r\n        if (viewType == \"component\") {\r\n          return elementComponentGen[elementType](\r\n            vnodeInfo,\r\n            vnodeInfo.title,\r\n            vnodeInfo.children.map((info) => renderVNodeFromElementInfo(info))\r\n          );\r\n        }\r\n\r\n        if (viewType == \"utils\") {\r\n          return elementUtilsGen[elementType](\"请首先放置容器元素\", \"warn\");\r\n        }\r\n        return retVnodeList;\r\n      };\r\n      const getInfos = (viewType: TView): { render: any } => {\r\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n        //@ts-ignore\r\n        getInfos.cachce = cache[viewType];\r\n        return {\r\n          ...cache[viewType],\r\n          ...Render(cache[viewType]),\r\n        };\r\n      };\r\n\r\n      const remove = (viewType: TView, componentName: string) => {\r\n        if (componentName in RegisterMap) {\r\n          delete RegisterMap[componentName];\r\n          const index = cache[viewType].findIndex(\r\n            (info) => info.componentName == componentName\r\n          );\r\n          if (index == -1) return;\r\n          cache[viewType].splice(index, 1);\r\n        }\r\n      };\r\n\r\n      class Factor {\r\n        constructor(Obj: {}) {\r\n          Object.keys(Obj).forEach((key) => (this[key] = Obj[key]));\r\n        }\r\n        setPosition(parentName: string | null | undefined) {\r\n          const myThis: any = this;\r\n          if (!parentName) {\r\n            // 挂在到page 作为根节点\r\n            parentName = \"page\";\r\n          }\r\n          const childName = myThis.componentName;\r\n          cacheViewPostionMap[childName] = parentName;\r\n          return this;\r\n        }\r\n      }\r\n\r\n      const register = (\r\n        viewType: TView,\r\n        elementType: TAtomicts,\r\n        title?: string\r\n      ) => {\r\n        let ret: any = {};\r\n\r\n        if (defaultKeys.indexOf(viewType) >= 0) {\r\n          // 注冊\r\n          counterMap[viewType]++;\r\n          const pos = counterMap[viewType];\r\n          const vnodeInfo = createElementInfo(\r\n            viewType,\r\n            elementType,\r\n            pos,\r\n            title\r\n          );\r\n          cache[viewType].push(vnodeInfo);\r\n          RegisterMap[vnodeInfo.componentName] = ret = new Factor(vnodeInfo);\r\n        }\r\n        return ret;\r\n      };\r\n      const init = (arr: TView[]) => {\r\n        defaultKeys = arr;\r\n        arr.forEach((type) => {\r\n          cache[type] = [];\r\n          counterMap[type] = 0;\r\n        });\r\n        return {\r\n          register,\r\n          getInfos,\r\n          setEl,\r\n          getRegisterInfo,\r\n          renderVNodeFromElementInfo,\r\n          remove,\r\n          swap,\r\n        };\r\n      };\r\n      return {\r\n        init,\r\n      };\r\n    })();\r\n\r\n    const RegisterIns = RegisterCache.init([\r\n      \"component\",\r\n      \"container\",\r\n      \"shotcut\",\r\n    ]);\r\n\r\n    // RootComponent.value = [RegisterIns.register(\"component\", \"container-view\")];\r\n\r\n    const dragEvent = (() => {\r\n      return (\r\n        elementType: TAtomicts,\r\n        viewType: TView,\r\n        componentName?: string\r\n      ) => {\r\n        const EventRansit = (eventType: string, fn: (e: any) => void) => {\r\n          return function (e) {\r\n            // console.log(eventType, viewType, componentName);\r\n            if (viewType == \"component\") {\r\n              // console.log(\"組件觸發事件\");\r\n            } else if (viewType == \"container\") {\r\n              // console.log(\"容器觸發時間\");\r\n            } else if (viewType == \"shotcut\") {\r\n              // console.log(\"快捷方式觸發事件\");\r\n            }\r\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n            //@ts-ignore\r\n            fn.call(this, e);\r\n          };\r\n        };\r\n        const registerToCache = (eventType: string, fn: (e: any) => void) => {\r\n          return EventRansit(eventType, fn);\r\n        };\r\n        const drag = registerToCache(\"drag\", (e) => {\r\n          //\r\n          // _droped_components_name = \"\";\r\n          if (componentName) {\r\n            _draging_component_name = componentName;\r\n          }\r\n          e.stopPropagation();\r\n          // return e.preventDefault();\r\n        });\r\n        const dragleave = registerToCache(\"dragleave\", (e) => {\r\n          elementState.setDefault();\r\n          e.stopPropagation();\r\n          return e.preventDefault();\r\n        });\r\n\r\n        const dragover = registerToCache(\"dragover\", (e) => {\r\n          if (componentName && componentName?.indexOf(\"shotcut\") >= 0) return;\r\n          _overed_components.componentName = componentName || \"\";\r\n          _overed_components.elementType = elementType;\r\n          _overed_components.viewType = viewType;\r\n          if (componentName) {\r\n            const info = RegisterIns.getRegisterInfo(componentName);\r\n            elementState.setOver({ target: info.target });\r\n          }\r\n\r\n          e.stopPropagation();\r\n          return e.preventDefault();\r\n        });\r\n        const mousemove = registerToCache(\"mousemove\", (e) => {\r\n          // const offsetX = e.clientX - e.target.clientLeft;\r\n          // const offsetY = e.clientY - e.target.clientTop;\r\n          // console.log(componentName, offsetX, offsetY);\r\n        });\r\n        const drop = registerToCache(\"drop\", (e) => {\r\n          // 容器渲染\r\n          if (_overed_components.viewType == \"container\") {\r\n            if (!_draging_component_name) return;\r\n            const currentDraggingElement = RegisterIns.getRegisterInfo(\r\n              _draging_component_name\r\n            );\r\n            // 空的容器 只有 放置快捷 一種\r\n            if (currentDraggingElement.viewType == \"shotcut\") {\r\n              // 拖拽到容器中的是 快捷\r\n              // 快捷 只有容器类型可被首次创建\r\n              if (currentDraggingElement.elementType !== \"shotcut-view\") {\r\n                RootComponent.value = {\r\n                  viewType: \"utils\",\r\n                  elementType: \"utils-tooltip\",\r\n                  option: { title: \"请首先放置容器\", type: \"warn\" },\r\n                };\r\n              } else {\r\n                // 説明 放在的容器裏\r\n                // 創建 view-container\r\n                // 保存根節點\r\n                RootComponent.value = RegisterIns.register(\r\n                  \"component\",\r\n                  elementType\r\n                ).setPosition();\r\n                // RegisterIns.setRegisterPostionMap();\r\n                // dragSlot.value = RegisterIns.getInfos(\"component\").render();\r\n                // dragSlot.value = [RegisterIns.renderVNodeFromElementInfo(RootComponent)]\r\n              }\r\n            }\r\n          } else {\r\n            // 其他渲染\r\n            const FatherInfo = RegisterIns.getRegisterInfo(\r\n              _overed_components.componentName\r\n            );\r\n            const childInfo = RegisterIns.getRegisterInfo(\r\n              _draging_component_name as string\r\n            );\r\n            // 子 來自 shotcut 需要 注冊一個\r\n            if (childInfo.viewType == \"shotcut\") {\r\n              if (childInfo.elementType == \"shotcut-view\") {\r\n                FatherInfo.children.push(\r\n                  // 這裏先寫死\r\n                  // 需要 動態 根據 shotcut類型來創建 注冊類型\r\n                  RegisterIns.register(\r\n                    \"component\",\r\n                    \"container-view\"\r\n                  ).setPosition(FatherInfo.componentName)\r\n                );\r\n                // RootComponent.value = RootComponent.value;\r\n                Ins.$forceUpdate();\r\n                // RootComponent.value = RegisterIns.renderVNodeFromElementInfo(RootComponent);\r\n                // dragSlot.value = [\r\n                //   RegisterIns.renderVNodeFromElementInfo(RootComponent),\r\n                // ];\r\n              } else {\r\n                handlerFormItemEvent\r\n                  .genConifgForm(childInfo.elementType)\r\n                  .then((config: any) => {\r\n                    console.log(config);\r\n                    // 设置动态依赖\r\n                    if (config.key) {\r\n                      const type =\r\n                        handlerFormItemEvent.getCurrentKeyTypes(\"key\");\r\n                      // const defaultValue = handlerFormItemEvent.getCurrentKeyTypes(\"defaultValue\")\r\n                      FormQuickDataLib[FatherInfo.componentName][config.key] =\r\n                        type == \"array\"\r\n                          ? config.defaultValue\r\n                            ? config.defaultValue.split(\",\")\r\n                            : []\r\n                          : config.defaultValue;\r\n                    }\r\n                    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n                    //@ts-ignore\r\n                    window.FormQuickDataLib = FormQuickDataLib;\r\n                    FormQuickOptionsLib[\r\n                      FatherInfo.componentName\r\n                    ].formOptions.push(config);\r\n                  })\r\n                  .catch((e) => {\r\n                    console.log(e);\r\n                  });\r\n\r\n                // dragSlot.value = RegisterIns.getInfos(\"component\").render();\r\n              }\r\n            } else {\r\n              //其他情況 如 容器内的子容器互換位置等\r\n              RegisterIns.swap(\r\n                _draging_component_name,\r\n                _overed_components.componentName\r\n              )\r\n                .then(() => {\r\n                  Ins.$forceUpdate();\r\n                })\r\n                .catch(() => {\r\n                  console.log(\"交换失败， 不要与根节点交换\");\r\n                });\r\n            }\r\n          }\r\n\r\n          elementState.setDefault();\r\n          _overed_components.componentName = \"\";\r\n          _overed_components.elementType = \"\";\r\n          _overed_components.viewType = \"\";\r\n\r\n          e.stopPropagation();\r\n          return e.preventDefault();\r\n        });\r\n        return { drag, dragleave, dragover, drop, mousemove };\r\n      };\r\n    })();\r\n\r\n    let short_cut_inited = false;\r\n    const createItemShortcut = (registerList: TregisterData[]) => {\r\n      !short_cut_inited &&\r\n        registerList.forEach((registerInfo) => {\r\n          RegisterIns.register(\r\n            \"shotcut\",\r\n            registerInfo.elementType,\r\n            registerInfo.title\r\n          );\r\n        });\r\n      short_cut_inited = true;\r\n      return RegisterIns.getInfos(\"shotcut\").render();\r\n    };\r\n\r\n    // 注册拖拽元素\r\n    const dragEventRegister = dragEvent(\"container-view\", \"container\");\r\n\r\n    const configQuickForm: any = reactive({\r\n      formOptions: [],\r\n      layout: {\r\n        labelWidth: 100,\r\n        size: \"default\",\r\n        labelPosition: \"right\",\r\n      },\r\n    });\r\n\r\n    const StartEdit = () => {\r\n      Object.keys(FormQuickOptionsLib).forEach((info) => {\r\n        FormQuickOptionsLib[info].drag = !FormQuickOptionsLib[info].drag;\r\n      });\r\n    };\r\n    return function () {\r\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n      //@ts-ignore\r\n      // console.log(1111, this.$forceUpdate);\r\n      Ins = this;\r\n      return (\r\n        <div class={classes.dragLayout}>\r\n          <div class={classes.dragTitle}>\r\n            拖拽布局\r\n            <el-button\r\n              style=\"float: right\"\r\n              onClick={StartEdit}\r\n              size=\"small\"\r\n              type=\"primary\"\r\n            >\r\n              开始/结束编辑\r\n            </el-button>\r\n          </div>\r\n          <div class={classes.dragIntro}>\r\n            <p>\r\n              使用説明:\r\n              <br />\r\n              ①创建表单之前需要首先进行页面布局\r\n              <br />\r\n              ②拖拽表单元素到布局好的容器中 <br />\r\n              ③设置表单元素属性 <br />\r\n              ④表单元素创建完成\r\n            </p>\r\n            <p>\r\n              如何布局： <br />\r\n              1 拖动【容器】到空白页面 创建根节点 <br />\r\n              2 拖动【容器】到空白页面创建好的【容器视图】中， 创建子布局\r\n              <br />3 拖动【容器】到空白页面创建好的【容器视图】中，\r\n              如果该【容器视图】已经有创建好的子【容器视图】那么该【容器】（拖动中的【容器】）将被创建为兄弟【容器视图】\r\n            </p>\r\n            <p>\r\n              如何创建表单：\r\n              <br />\r\n              1 拖动表单元素（目前除了容器 都属于表单元素）至\r\n              【最上层视图】（最上层视图带有标题）中\r\n              <br />\r\n              2 出现配置表单元素的弹窗\r\n              <br />3 点击确定 创建完成 点击取消 创建取消\r\n            </p>\r\n            <p>\r\n              主要表单属性解释：\r\n              <br />1 列名 表单的列名 <br />\r\n              2 主键 该列名对应的key 如 列名为 “姓名” 主键为 \"name\"\r\n              <br />3 指令 目前支持的指令为 sif （控制该列的显示与隐藏）格式为\r\n              【指令】=【表达式】 如： sif = scope.state == 1 && scope.name !==\r\n              \"\"。 scope.name 格式为【固定字段】.【主键】\r\n            </p>\r\n          </div>\r\n          <div class={classes.dragContent}>\r\n            <div class={[classes.toolbar, \"reset__scrollbar\"]}>\r\n              {createItemShortcut([\r\n                { elementType: \"shotcut-view\", title: \"容器\" },\r\n                { elementType: \"shotcut-input\", title: \"输入\" },\r\n                { elementType: \"shotcut-button\", title: \"按钮\" },\r\n                { elementType: \"shotcut-text\", title: \"文本\" },\r\n                { elementType: \"shotcut-select\", title: \"选择\" },\r\n                { elementType: \"shotcut-radio\", title: \"单选\" },\r\n                { elementType: \"shotcut-checkbox\", title: \"多选\" },\r\n                { elementType: \"shotcut-textarea\", title: \"文本域\" },\r\n                { elementType: \"shotcut-upload\", title: \"上传\" },\r\n                { elementType: \"shotcut-switch\", title: \"开关\" },\r\n              ])}\r\n            </div>\r\n            <div\r\n              draggable=\"false\"\r\n              class={classes.dragView}\r\n              onDrop={dragEventRegister.drop}\r\n              onDragover={dragEventRegister.dragover}\r\n            >\r\n              {/* {RootComponent.value} */}\r\n              {[RegisterIns.renderVNodeFromElementInfo(RootComponent.value)]}\r\n            </div>\r\n          </div>\r\n          <el-dialog\r\n            modelValue={showConfig.value}\r\n            title={handlerFormItemEvent.getTitleType() + \"类型设置\"}\r\n            showClose={false}\r\n            beforeClose={handlerFormItemEvent.cancel}\r\n            width=\"600px\"\r\n          >\r\n            <quick-form\r\n              ref=\"configQuickForm\"\r\n              quickOptions={configQuickForm}\r\n              form-data={handlerFormItemEvent.getFormState()}\r\n            ></quick-form>\r\n            <div style=\"text-align: right\">\r\n              <el-button\r\n                type=\"warning\"\r\n                size=\"small\"\r\n                onClick={handlerFormItemEvent.cancel}\r\n              >\r\n                取消\r\n              </el-button>\r\n              <el-button\r\n                type=\"primary\"\r\n                size=\"small\"\r\n                onClick={handlerFormItemEvent.submitFormItem}\r\n              >\r\n                保存\r\n              </el-button>\r\n            </div>\r\n          </el-dialog>\r\n        </div>\r\n      );\r\n    };\r\n  },\r\n});\r\n","import { defineComponent, reactive, getCurrentInstance, h } from \"vue\";\r\nimport MonacoEditor from \"./components/MonacoEditor\";\r\nimport CodeParser from \"./components/codeParser\";\r\nimport Header from \"./components/header\";\r\nimport CodeView from \"./components/codeView\";\r\nimport DragLayout from \"./components/dragLayout\";\r\n\r\nconst appClasses = {\r\n  quickWrap: {\r\n    width: \"1400px\",\r\n    margin: \"0 auto\",\r\n    // background: \"#fff\",\r\n  },\r\n  quickContentSubTitle: {\r\n    textAlign: \"center\",\r\n    fontSize: \"20px\",\r\n    color: \"#fff\",\r\n    paddingTop: \"40px\",\r\n  },\r\n  controll_warp: {\r\n    textAlign: \"right\",\r\n  },\r\n};\r\nexport default defineComponent({\r\n  setup() {\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    // @ts-ignore\r\n    const { classes } = window._createStyleSheet(appClasses);\r\n    const createCodeFormData = (option: string) => {\r\n      return `\r\n      FromData.value = {\r\n        account: \"\",\r\n        bankType: null,\r\n        othersAccount: \"\",\r\n        amount: 0,\r\n        remark: 1111,\r\n        date: \"2022-05-25\",\r\n        timeData: new Date(2000, 1, 1, 12, 0, 0),\r\n        daterangeData: [\"2022-05-01\", \"2022-05-05\"],\r\n        state: 2,\r\n        checkboxData: [2],\r\n        fileList: [],\r\n        switchData: false,\r\n      };\r\n      QuickForm=${option}\r\n      `;\r\n    };\r\n    const fullDemoCode = function (drag: boolean, edit: boolean) {\r\n      return `\r\n      FromData.value = {\r\n        account: \"\",\r\n        bankType: null,\r\n        othersAccount: \"\",\r\n        amount: 0,\r\n        remark: 1111,\r\n        date: \"2022-05-25\",\r\n        timeData: new Date(2000, 1, 1, 12, 0, 0),\r\n        daterangeData: [\"2022-05-01\", \"2022-05-05\"],\r\n        state: 2,\r\n        checkboxData: [2],\r\n        fileList: [],\r\n        switchData: false,\r\n      };\r\n      QuickForm = {\r\n        formOptions: [\r\n            {\r\n        formElementLabel: \"开户行\",\r\n        formElementType: \"select\",\r\n        key: \"bankType\",\r\n        placeholder: \"请选择银行\",\r\n        options: [\r\n          { label: \"中国银行\", value: 1 },\r\n          { label: \"建设银行\", value: 2 },\r\n          { label: \"农业银行\", value: 3 },\r\n          { label: \"建设银行\", value: 4 },\r\n        ],\r\n      },\r\n      {\r\n        tirrgerEvents: [\"mouseover\"],\r\n        formElementLabel: \"账号：\",\r\n        formElementType: \"input\",\r\n        key: \"account\",\r\n        placeholder: \"请填写银行账号\",\r\n      },\r\n      {\r\n        formElementLabel: \"对方账号：\",\r\n        formElementType: \"input\",\r\n        key: \"othersAccount\",\r\n        placeholder: \"请填写对方账号\",\r\n      },\r\n      {\r\n        formElementLabel: \"转账金额：\",\r\n        // formElementType: \"container\", // 如果没有第一层级的 type 那么默认是container\r\n        childrenOptions: [\r\n          {\r\n            formElementType: \"input:number\",\r\n            key: \"amount\", // mountModelValue: \"amount\", mountModelValue 绑定优先级大于 key\r\n          },\r\n          {\r\n            formElementType: \"text\",\r\n            textValue: \"元\",\r\n            style: \"margin-left: 10px; color:red\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        formElementLabel: \"备注\",\r\n        formElementType: \"input:textarea\",\r\n        placeholder: \"请填写备注\",\r\n        key: \"remark\",\r\n      },\r\n      {\r\n        formElementLabel: \"到账类型\",\r\n        formElementType: \"radio\",\r\n        key: \"state\",\r\n        childrenOptions: [\r\n          { label: 1, children: [\"立即\"] },\r\n          { label: 2, children: [\"延时\"] },\r\n        ],\r\n      },\r\n      {\r\n        formElementLabel: \"日期\",\r\n        directives: [[\"sif\", \"scope.state == 2\"]],\r\n        childrenOptions: [\r\n          {\r\n            formElementType: \"date\",\r\n            key: \"date\",\r\n            type: \"date\",\r\n            placeholder: \"预约日期\",\r\n            format: \"YYYY/MM/DD\",\r\n            valueFormat: \"YYYY-MM-DD\",\r\n          },\r\n          {\r\n            formElementType: \"time\",\r\n            key: \"timeData\",\r\n            type: \"time\",\r\n            placeholder: \"时间\",\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        formElementLabel: \"日期\",\r\n        formElementType: \"text\",\r\n        textValue: \"{{date}}   {{timeData}}\",\r\n      },\r\n      {\r\n        formElementLabel: \"通知类型\",\r\n        formElementType: \"checkbox\",\r\n        key: \"checkboxData\",\r\n        childrenOptions: [\r\n          { label: 1, children: [\"电话通知\"] },\r\n          { label: 2, children: [\"短信通知\"] },\r\n          { label: 3, children: [\"邮件通知\"] },\r\n        ],\r\n      },\r\n      {\r\n        formElementLabel: \"上传凭证\",\r\n        formElementType: \"upload\",\r\n        key: \"fileList\",\r\n        action: \"#\",\r\n        listType: \"picture-card\",\r\n        autoUpload: false,\r\n        children: [\r\n          {\r\n            formElementType: \"icon\",\r\n            children: ['上传']\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        formElementLabel: \"开关\",\r\n        formElementType: \"switch\",\r\n        key: \"switchData\"\r\n      }\r\n        ],\r\n        layout: {\r\n      labelWidth: 100,\r\n      size: \"default\",\r\n      labelPosition: \"right\",\r\n    },\r\n        drag: ${drag},\r\n        edit: ${edit}\r\n      };\r\n      \r\n      `;\r\n    };\r\n    const ins: any = getCurrentInstance();\r\n\r\n    const State = reactive({\r\n      RefCode: fullDemoCode(false, false),\r\n      inputCode: `\r\n        FromData.value = {\r\n          inputValue1: \"\",\r\n          inputValue1: 0,\r\n          inputValue2: \"\",\r\n        };\r\n        QuickForm = {\r\n          formOptions: [\r\n            {\r\n              formElementLabel: \"text\",\r\n              formElementType: \"input\",\r\n              key: \"inputValue\",\r\n              placeholder: \"placeholder\",\r\n            },\r\n            {\r\n              formElementLabel: \"number\",\r\n              formElementType: \"input:number\",\r\n              key: \"inputValue1\",\r\n              placeholder: \"placeholder\",\r\n            },\r\n            {\r\n              formElementLabel: \"textarea\",\r\n              formElementType: \"input:textarea\",\r\n              key: \"inputValue2\",\r\n              placeholder: \"placeholder\",\r\n            },\r\n            {\r\n              formElementLabel: \"maxlengh\",\r\n              formElementType: \"input:textarea\",\r\n              key: \"inputValue2\",\r\n              maxlength:\"100\",\r\n              showWordLimit: true,\r\n              placeholder: \"placeholder\",\r\n            },\r\n          ],\r\n          layout: {\r\n            labelWidth: 100,\r\n            size: \"default\",\r\n            labelPosition: \"right\",\r\n          }\r\n        }\r\n      `,\r\n      btnCode: `\r\n      QuickForm = {\r\n        formOptions: [\r\n          {\r\n            formElementType: \"button\",\r\n            formElementLabel: \"默认按钮：\",\r\n            childrenOptions: [\r\n              {\r\n                formElementType: \"button\",\r\n                children: [\"default\"]\r\n              },\r\n              {\r\n                formElementType: \"button\",\r\n                type:\"primary\",\r\n                children: [\"primary\"]\r\n              },\r\n              {\r\n                formElementType: \"button\",\r\n                type:\"success\",\r\n                children: [\"success\"]\r\n              },\r\n              {\r\n                formElementType: \"button\",\r\n                type: \"info\",\r\n                children: [\"info\"]\r\n              },\r\n              {\r\n                formElementType: \"button\",\r\n                type: \"danger\",\r\n                children: [\"danger\"]\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            formElementType: \"button\",\r\n            formElementLabel: \"圆角按钮：\",\r\n            childrenOptions: [\r\n              {\r\n                formElementType: \"button\",\r\n                children: [\"default\"],\r\n                round: true\r\n              },\r\n              {\r\n                formElementType: \"button\",\r\n                type:\"primary\",\r\n                children: [\"primary\"],\r\n                round: true\r\n              },\r\n              {\r\n                formElementType: \"button\",\r\n                type:\"success\",\r\n                children: [\"success\"],\r\n                round: true\r\n              },\r\n              {\r\n                formElementType: \"button\",\r\n                type: \"info\",\r\n                children: [\"info\"],\r\n                round: true\r\n              },\r\n              {\r\n                formElementType: \"button\",\r\n                type: \"danger\",\r\n                children: [\"danger\"],\r\n                round: true\r\n              },\r\n            ],\r\n          }\r\n        ],\r\n        layout: {\r\n          labelWidth: 100,\r\n          size: \"default\",\r\n          labelPosition: \"right\",\r\n        },\r\n      }`,\r\n      checkboxOrRadioCode: `\r\n      FromData.value = {\r\n        radio: 1,\r\n        checkboxValue: []\r\n      };\r\n      QuickForm = {\r\n        formOptions: [\r\n          {\r\n            formElementLabel: \"单选\",\r\n            formElementType: \"radio\",\r\n            key: \"radio\",\r\n            childrenOptions: [\r\n              { label: 1, children: [\"选项1\"]},\r\n              { label: 2, children: [\"选项2\"]},\r\n            ]\r\n          },\r\n          {\r\n            formElementLabel: \"多选\",\r\n            formElementType: \"checkbox\",\r\n            key: \"checkboxValue\",\r\n            childrenOptions: [\r\n              { label: 1, children: [\"选项1\"]},\r\n              { label: 2, children: [\"选项2\"]},\r\n              { label: 3, children: [\"选项3\"]},\r\n              { label: 4, children: [\"选项4\"]},\r\n            ]\r\n          },\r\n\r\n        ],\r\n        layout: {\r\n          labelWidth: 100,\r\n          size: \"default\",\r\n          labelPosition: \"right\",\r\n        },\r\n      }\r\n      `,\r\n      selectCode: `\r\n      FromData.value = {\r\n        selectValue: \"\",\r\n        multipleSelectValues: []\r\n      };\r\n      QuickForm = {\r\n        formOptions: [\r\n          {\r\n            formElementLabel: \"单选\",\r\n            formElementType: \"select\",\r\n            key: \"selectValue\",\r\n            placeholder: \"请选择\",\r\n            options: [\r\n              { label: \"选项1\", value: 1 },\r\n              { label: \"选项2\", value: 2 },\r\n              { label: \"选项3\", value: 3 },\r\n              { label: \"选项4\", value: 4 },\r\n            ],\r\n          },\r\n          {\r\n            formElementLabel: \"多选\",\r\n            formElementType: \"select\",\r\n            key: \"multipleSelectValues\",\r\n            multiple: true,\r\n            placeholder: \"请选择\",\r\n            options: [\r\n              { label: \"选项1\", value: 1 },\r\n              { label: \"选项2\", value: 2 },\r\n              { label: \"选项3\", value: 3 },\r\n              { label: \"选项4\", value: 4 },\r\n            ],\r\n          }\r\n        ],\r\n        layout: {\r\n          labelWidth: 100,\r\n          size: \"default\",\r\n          labelPosition: \"right\",\r\n        }\r\n      }\r\n      `,\r\n      dragDemo: fullDemoCode(false, false),\r\n      dragCompilte: false,\r\n    });\r\n    let CurrentDragCode: any = \"\";\r\n    const Event = {\r\n      toDrag: () => {\r\n        State.dragCompilte = true;\r\n        State.dragDemo = fullDemoCode(true, false);\r\n      },\r\n      compilte: () => {\r\n        State.dragDemo = CurrentDragCode;\r\n        State.dragCompilte = false;\r\n      },\r\n      codeChange(val: any) {\r\n        CurrentDragCode = JSON.parse(val);\r\n        CurrentDragCode.drag = false;\r\n        CurrentDragCode = createCodeFormData(JSON.stringify(CurrentDragCode));\r\n      },\r\n      edit() {\r\n        console.log(\"编辑表单\");\r\n        State.dragDemo = fullDemoCode(false, true);\r\n      },\r\n    };\r\n    // setInterval(() => {\r\n    //   State.RefCode += 1;\r\n    // }, 1000);\r\n    // const FromData = reactive({\r\n    //   daterange: [\"2022-01-01\", \"2022-10-10\"],\r\n    // });\r\n    // const QuickForm = {\r\n    //   formOptions: [\r\n    //     {\r\n    //       formElementType: \"container\",\r\n    //       childrenOptions: [\r\n    //         { children: [\"线索获取\"], formElementType: \"container\" },\r\n    //         {\r\n    //           formElementType: \"date\",\r\n    //           format: \"YYYY-MM-DD\",\r\n    //           key: \"daterange\",\r\n    //           placeholder: \"\",\r\n    //           type: \"daterange\",\r\n    //           valueFormat: \"YYYY-MM-DD\",\r\n    //         },\r\n    //       ],\r\n    //     },\r\n    //     {\r\n    //       tirrgerEvents: [\"click\"],\r\n    //       formElementType: \"button\",\r\n    //       children: [\"點擊\"],\r\n    //       type: \"primary\",\r\n    //       key: \"add\",\r\n    //     },\r\n    //   ],\r\n    //   layout: {\r\n    //     labelWidth: 100,\r\n    //     size: \"default\",\r\n    //     labelPosition: \"right\",\r\n    //   },\r\n    //   config: {\r\n    //     renderType: \"hander\",\r\n    //     containerVnode: h(\"div\", {\r\n    //       class: [\"handler--container\"],\r\n    //     }),\r\n    //     itemVnode: h(\"div\", {\r\n    //       class: [\"handle--item\"],\r\n    //     }),\r\n    //   },\r\n    // };\r\n    // const FormEvent = (params) => {\r\n    //   console.log(\"event\", params);\r\n    // };\r\n    // const FormChange = (params) => {\r\n    //   console.log(\"change\", params);\r\n    // };\r\n    return () => {\r\n      return (\r\n        <div class={classes.quickWrap}>\r\n          <Header></Header>\r\n          {/* <div>\r\n            <quick-form\r\n              form-data={FromData}\r\n              quickOptions={QuickForm}\r\n              onFormEvent={FormEvent}\r\n              onFormChange={FormChange}\r\n            ></quick-form>\r\n          </div> */}\r\n\r\n          <CodeView\r\n            height={300}\r\n            code={State.inputCode}\r\n            title=\"--简单的使用input--\"\r\n          ></CodeView>\r\n          <CodeView\r\n            height={300}\r\n            code={State.selectCode}\r\n            title=\"--简单的使用select--\"\r\n          ></CodeView>\r\n          <CodeView\r\n            height={250}\r\n            code={State.btnCode}\r\n            title=\"--简单的使用button--\"\r\n          ></CodeView>\r\n          <CodeView\r\n            height={450}\r\n            code={State.checkboxOrRadioCode}\r\n            title=\"--简单的使用radio/checkbox--\"\r\n          ></CodeView>\r\n          <CodeView\r\n            height={800}\r\n            code={State.RefCode}\r\n            title=\"--较完整的例子--\"\r\n          ></CodeView>\r\n          <CodeView\r\n            height={800}\r\n            code={State.dragDemo}\r\n            title=\"--可拖拽的例子--\"\r\n            ref=\"dragView\"\r\n            onCodeChange={Event.codeChange}\r\n          >\r\n            <div class={classes.controll_warp}>\r\n              {[\r\n                !State.dragCompilte ? (\r\n                  <el-button type=\"primary\" onClick={Event.toDrag}>\r\n                    拖拽表单\r\n                  </el-button>\r\n                ) : (\r\n                  <el-button type=\"primary\" onClick={Event.compilte}>\r\n                    拖拽完成\r\n                  </el-button>\r\n                ),\r\n                <el-button type=\"primary\" onClick={Event.edit}>\r\n                  编辑表单\r\n                </el-button>,\r\n              ]}\r\n            </div>\r\n          </CodeView>\r\n          <DragLayout></DragLayout>\r\n        </div>\r\n      );\r\n    };\r\n  },\r\n});\r\n","/* eslint-disable no-console */\n\nimport { register } from \"register-service-worker\";\n\nif (process.env.NODE_ENV === \"production\") {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        \"App is being served from cache by a service worker.\\n\" +\n          \"For more details, visit https://goo.gl/AFskqB\"\n      );\n    },\n    registered() {\n      console.log(\"Service worker has been registered.\");\n    },\n    cached() {\n      console.log(\"Content has been cached for offline use.\");\n    },\n    updatefound() {\n      console.log(\"New content is downloading.\");\n    },\n    updated() {\n      console.log(\"New content is available; please refresh.\");\n    },\n    offline() {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    },\n    error(error) {\n      console.error(\"Error during service worker registration:\", error);\n    },\n  });\n}\n","import { createApp } from \"vue\";\nimport App from \"./App\";\nimport \"./registerServiceWorker\";\nimport quickForm from \"../lib/index\";\nimport \"element-plus/dist/index.css\";\nimport \"../lib/quickFromInsideSty.scss\";\nimport \"../lib/quickFromOutsideSty.scss\";\nimport jss from \"jss\";\nimport preset from \"jss-preset-default\";\nimport elemenPlus from \"element-plus\";\nfunction quickCss(): any {\n  jss.setup(preset());\n  return {\n    install(app: any) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      window._createStyleSheet = app.config.globalProperties = (classes) => {\n        return jss.createStyleSheet(classes).attach();\n      };\n    },\n  };\n}\ncreateApp(App).use(quickCss()).use(elemenPlus).use(quickForm).mount(\"#app\");\n","import {\r\n  defineComponent,\r\n  reactive as r,\r\n  ref,\r\n  watch,\r\n  watchEffect,\r\n  toRefs,\r\n} from \"vue\";\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    code: String,\r\n    height: Number,\r\n  },\r\n  emits: [\"codeChange\"],\r\n  setup(props, { emit }) {\r\n    const { code, height } = toRefs(props);\r\n    const FromData = ref({});\r\n    let QuickForm = {};\r\n    const parserClasses = {\r\n      quickParser: {\r\n        width: \"800px\",\r\n        height: height.value + \"px\",\r\n        display: \"inline-block\",\r\n        float: \"right\",\r\n        padding: \"20px 0\",\r\n        background: \"#fff\",\r\n        boxSizing: \"border-box\",\r\n      },\r\n    };\r\n    const FormEvent = (val: any) => {\r\n      if (val.type == \"optionChange\") {\r\n        emit(\"codeChange\", val.val.currentOptions);\r\n      }\r\n    };\r\n    const FormChange = (val: any) => {\r\n      console.log(\"change\", val);\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    //@ts-ignore\r\n    const { classes } = window._createStyleSheet(parserClasses);\r\n    const upDateQuickElement = () => {\r\n      FromData.value = {};\r\n      QuickForm = {};\r\n      eval(code.value as string);\r\n    };\r\n    upDateQuickElement();\r\n    watch(code, upDateQuickElement);\r\n    return function () {\r\n      return (\r\n        <div class={classes.quickParser}>\r\n          <quick-form\r\n            form-data={FromData.value}\r\n            quickOptions={QuickForm}\r\n            onFormEvent={FormEvent}\r\n            onFormChange={FormChange}\r\n          ></quick-form>\r\n        </div>\r\n      );\r\n    };\r\n  },\r\n});\r\n","import \"core-js/modules/es.array.includes.js\";\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\n// @ts-nocheck\n\n/* tslint:disable */\nimport Dires from \"./utils/directives\";\nimport { h, withDirectives, resolveDirective } from \"vue\";\nimport { ElForm, ElFormItem, ElButton, ElSelect, ElOption, ElInput, ElInputNumber, ElRadio, ElCheckbox, ElUpload, ElIcon, ElDatePicker, ElTimePicker, ElSwitch } from \"element-plus\";\nimport { CirclePlus, Download, Delete } from \"@element-plus/icons-vue\";\nlet _app = null;\nconst _EVENT_ = \"formChange\";\nconst _FROM_EVENT_ = \"formEvent\";\nconst EVENT_CHANGE = \"change\";\nconst TEXT_EL = \"span\";\nconst FROM_INS = \"_quickFrom\";\nconst FROM_C = \"quick-form__label--container\";\nconst FROM_C_EL = \"div\";\nconst FORM_EL_IMG = \"img\"; // const reviewControlls = [\"preview\", \"download\", \"delete\"]\n\nconst HandleProps\n/* 忽略属性 */\n= [\"children\", \"options\", \"directives\", \"formElementType\", \"formElementLabel\", \"key\", \"tirrgerEvents\", \"textValue\", \"currentPropPath\", \"itemStyle\", \"preventDefaultEvent\", \"component\", \"slotOptions\", \"optionLabelKey\", \"optionValueKey\", \"mainType\", \"subType\", \"mountModelValue\", \"showControll\", \"childrenOptions\"];\nconst TemplateReg = /\\{\\{.*?\\}\\}/g;\n\nconst emitVal = scope => (type, key) => (val, mergeObject = {}) => {\n  scope.$emit(_EVENT_, {\n    type,\n    key,\n    val,\n    ...mergeObject\n  });\n};\n\nconst emitEvent = scope => (type, key) => val => {\n  scope.$emit(_FROM_EVENT_, {\n    type,\n    key,\n    val\n  });\n};\n\nexport const Throttling = function (dely, fn) {\n  let timer = null;\n  return function (...argus) {\n    let scope;\n    if (timer) clearTimeout(timer);\n    timer = setTimeout(() => {\n      fn.apply(scope, argus);\n      clearTimeout(timer);\n    }, dely);\n  };\n};\nconst VnodeImg = {\n  props: {\n    imgOption: {\n      type: Object,\n      default: () => ({})\n    },\n    imgData: {\n      type: Object,\n      default: () => ({})\n    },\n    imgControll: {\n      type: Array,\n      default: () => []\n    },\n    showControll: {\n      type: Boolean,\n      default: true\n    },\n    currentIndex: {\n      type: Number,\n      default: null\n    }\n  },\n\n  render() {\n    const myThis = this;\n    const option = myThis.imgOption;\n    const controll = myThis.imgControll;\n    const showC = myThis.showControll;\n    const currentIndex = myThis.currentIndex;\n    const controllMap = {\n      preview: () => ElementCreator.icon({\n        children: [CirclePlus],\n        ...iconConf,\n        onClick: eventClick(\"preview\")\n      }),\n      download: () => ElementCreator.icon({\n        children: [Download],\n        ...iconConf,\n        onClick: eventClick(\"download\")\n      }),\n      delete: () => ElementCreator.icon({\n        children: [Delete],\n        ...iconConf,\n        onClick: eventClick(\"delete\")\n      })\n    };\n\n    const GetControllELs = () => Array.isArray(controll) ? controll.map(controlStr => controlStr in controllMap ? controllMap[controlStr]() : \"\") : [];\n\n    const vnode = () => h(FORM_EL_IMG, {\n      src: myThis.imgData.url,\n      height: 100,\n      ...option,\n      class: \"quick-form__imglist--item\"\n    });\n\n    const iconConf = {\n      size: 16,\n      color: \"#fff\"\n    };\n\n    const eventClick = type => () => {\n      myThis.$emit(\"imgEvent\", type, currentIndex);\n    };\n\n    const imgModalVnode = () => h(FROM_C_EL, {\n      class: \"quick-form__imglist--itemModal\"\n    }, GetControllELs());\n\n    let wVnode = null;\n    wVnode = h(FROM_C_EL, {\n      class: \"quick-form__imglist--itemwarp\",\n      style: \"height: 100px\"\n    }, showC && controll.length > 0 ? [vnode(), imgModalVnode()] : [vnode()]);\n    return wVnode;\n  }\n\n};\nconst VnodeImgList = {\n  props: {\n    listOption: {\n      type: Object,\n      default: () => ({})\n    },\n    imgList: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  render() {\n    const myThis = this;\n    const option = myThis.listOption;\n    let List = myThis.imgList;\n\n    if (!Array.isArray(List)) {\n      List = [];\n      console.error(\"传入的图片数据结构不是个数组！\");\n    }\n\n    const event = function (type, index) {\n      myThis.$emit(type, index);\n    };\n\n    return h(FROM_C_EL, {\n      class: FROM_C\n    }, List.map ? List.map((imgObj, index) => {\n      return h(VnodeImg, {\n        imgData: imgObj,\n        imgOption: option.itemStyle || {},\n        imgControll: option.controll,\n        showControll: typeof option.showControll == \"boolean\" ? option.showControll : true,\n        currentIndex: index,\n        onImgEvent: event\n      });\n    }) : []);\n  }\n\n};\nconst ElementCreator = {\n  switch: (option, utils) => {\n    const EmitEvent = utils.emit(\"change\", option.key);\n    const HandleProps = utils.clearHandleProps(option);\n    return utils.parseDirective(h(ElSwitch, { ...HandleProps,\n      ...utils.createEventMap(option, utils),\n      modelValue: utils.getModelValue(option)\n    }), option, utils);\n  },\n  time: (option, utils) => {\n    const EmitEvent = utils.emit(\"change\", option.key);\n    const HandleProps = utils.clearHandleProps(option);\n    return utils.parseDirective(h(ElTimePicker, { ...HandleProps,\n      ...utils.createEventMap(option, utils),\n      modelValue: utils.getModelValue(option),\n      \"onUpdate:modelValue\": Throttling(50, function (val) {\n        utils.upDateFromData(val, option.mountModelValue || option.key);\n        EmitEvent(val);\n      })\n    }), option, utils);\n  },\n  date: (option, utils) => {\n    const HandleProps = utils.clearHandleProps(option);\n    const EmitEvent = utils.emit(\"change\", option.key);\n    return utils.parseDirective(h(ElDatePicker, { ...HandleProps,\n      ...utils.createEventMap(option, utils),\n      modelValue: utils.getModelValue(option),\n      \"onUpdate:modelValue\": Throttling(50, function (val) {\n        utils.upDateFromData(val, option.mountModelValue || option.key);\n        EmitEvent(val);\n      })\n    }), option, utils); // return utils.parseDirective(h(ElDatePicker, {\n    //     ...HandleProps,\n    //     ...utils.createEventMap(option, utils),\n    //     modelValue: utils.getModelValue(option),\n    //     \"onUpdate:modelValue\": Throttling(50, function (val) {\n    //         utils.upDateFromData(val, option.mountModelValue || option.key);\n    //         EmitEvent(val)\n    //     })\n    // }), option, utils)\n  },\n  imgList: (option, utils) => {\n    const Emit = utils.emitEvent(\"formEvent\", option.formElementType); // const HandleProps = utils.clearHandleProps(option);\n\n    return utils.parseDirective(h(VnodeImgList, {\n      imgList: utils.GetParentModelVal(option.currentPropPath),\n      listOption: option,\n      ...option,\n      onPreview: function (index) {\n        Emit({\n          type: \"preview\",\n          key: option.key,\n          index\n        });\n      },\n      onDelete: function (index) {\n        Emit({\n          type: \"delete\",\n          key: option.key,\n          index\n        });\n      },\n      onDownload: function (index) {\n        Emit({\n          type: \"download\",\n          key: option.key,\n          index\n        });\n      }\n    }), option, utils);\n  },\n  upload: (option, utils) => {\n    // @ts-ignore\n    const IsDetail = option.subType == \"detail\";\n    const HandleProps = utils.clearHandleProps(option);\n    let _accept = option.accept;\n\n    if (_accept) {\n      if (Array.isArray(_accept)) {\n        delete option.accept;\n        _accept = _accept.join(\",\");\n      }\n    }\n\n    const mountFileList = function (option) {\n      const fileListDepend = option.mountModelValue || option.key;\n      const {\n        name,\n        url\n      } = option.alias || {\n        name: \"name\",\n        url: \"url\"\n      };\n      (utils.scope.formData[fileListDepend] || []).forEach(item => {\n        if (!(\"name\" in item) || !(\"url\" in item)) {\n          item.name = item[name];\n          item.url = item[url];\n        }\n      });\n\n      const getFileList = () => {\n        if (fileListDepend in utils.scope.formData) {\n          try {\n            return utils.scope.formData[fileListDepend];\n          } catch (error) {\n            console.warn(\"invalid depend key \" + fileListDepend);\n            return [];\n          }\n        } else {\n          console.warn(\"invalid depend key \" + fileListDepend);\n          return [];\n        }\n      };\n\n      return {\n        fileList: getFileList()\n      };\n    };\n\n    const mountObject = IsDetail ? {\n      class: \"quick-form__upload--detail\",\n      ...mountFileList(option),\n      ...utils.createEventMap(option, utils)\n    } : { ...utils.createEventMap(option, utils),\n      // ...utils.getMountModelValue(option),\n      ...mountFileList(option),\n      ...HandleProps\n    };\n    return utils.parseDirective(h(ElUpload, {\n      onHttpRequest: file => {\n        console.log(file);\n      },\n      ...mountObject,\n      accept: _accept\n    }, () => IsDetail ? [] : utils.createElementDeep(option)), option, utils);\n  },\n  icon: option => {\n    let children = [];\n    const handleProps = ClearHandleProps(option);\n\n    try {\n      children = (option.children || []).map(vnodeRender => {\n        return h(vnodeRender);\n      });\n    } catch (error) {\n      /* error block */\n      children = [];\n    }\n\n    return h(ElIcon, { ...handleProps\n    }, () => children);\n  },\n  text: (option, utils) => {\n    let modelValue, EventMap;\n\n    if (utils && utils.getModelValue) {\n      modelValue = utils && utils.getModelValue(option);\n      EventMap = utils.createEventMap(option, utils);\n    }\n\n    const handleProps = utils.clearHandleProps(option);\n    return utils.parseDirective(h(TEXT_EL, { ...EventMap,\n      ...handleProps\n    }, [utils.parseTempSyntax(option.textValue) || modelValue || \"\"]), option, utils);\n  },\n  container: (options, utils) => {\n    // const children = utils.createElementDeep(options);\n    // delete options.children\n    const HandleProps = utils.clearHandleProps(options);\n    return utils.parseDirective(h(\"div\", { ...utils.createEventMap(options, utils),\n      ...HandleProps\n    }, utils.createElementDeep(options)), options, utils);\n  },\n  inputNumber: (option, utils) => {\n    return utils.parseDirective(h(ElInputNumber, {\n      modelValue: utils.getModelValue(option),\n      ...utils.createEventMap(option, utils),\n      ...option\n    }), option);\n  },\n  radio: (option, utils) => {\n    const textChilren = option.children;\n    delete option.children;\n    return utils.parseDirective(h(ElRadio, {\n      modelValue: utils.getModelValue(option),\n      // ...utils.createEventMap(option, utils),\n      onClick: Throttling(50, () => {\n        utils.upDateFromData(option.label, option.mountModelValue || option.key);\n      }),\n      ...option\n    }, () => textChilren), option, utils);\n  },\n  checkbox: (option, utils) => {\n    const textChilren = option.children;\n    delete option.children;\n    return utils.parseDirective(h(ElCheckbox, {\n      modelValue: Array.isArray(utils.getModelValue(option)) ? utils.getModelValue(option).indexOf(option.label) >= 0 : false,\n      // ...utils.createEventMap(option, utils),\n      onClick: Throttling(50, function () {\n        const ModelData = utils.getModelValue(option);\n        const hasIndex = ModelData.indexOf(option.label);\n\n        if (hasIndex >= 0) {\n          ModelData.splice(hasIndex, 1);\n        } else {\n          ModelData.push(option.label);\n        }\n      }),\n      ...option\n    }, () => textChilren), option, utils);\n  },\n  input: (option, utils) => {\n    // 兼容el-input-number\n    if (option.subType == \"number\") {\n      return ElementCreator.inputNumber(option, utils);\n    }\n\n    const handleProps = utils.clearHandleProps(option);\n    return utils.parseDirective(h(ElInput, {\n      modelValue: utils.getModelValue(option),\n      // props: {\n      //   modelValue: utils.getModelValue(option),\n      // },\n      // onInput: (() => {\n      //   let start: number | null = null;\n      //   return (val) => {\n      //     console.log(val);\n      //     if (window.event && window.event.target) {\n      //       if (start !== null) {\n      //         // window.event.target.setSelectionRange(start, start);\n      //       }\n      //       start = window.event.target.selectionStart;\n      //       console.log(window.event.target.selectionStart);\n      //       utils.upDateFromData(val, option.key);\n      //     }\n      //   };\n      // })(),\n      ...utils.createEventMap(option, utils),\n      placeholder: option.placeholder,\n      type: option.subType ? option.subType : \"text\",\n      ...handleProps\n    }), option, utils);\n  },\n  select: (option, utils) => {\n    const handlerPorps = utils.clearHandleProps(option);\n    const options = option.options;\n    const optEls = [];\n    const lableKey = option.optionLabelKey || \"label\";\n    const valueKey = option.optionValueKey || \"value\";\n\n    const getEls = (arr = []) => {\n      (arr || []).forEach(item => {\n        const optionVnode = h(ElOption, {\n          value: item[valueKey],\n          label: item[lableKey]\n        });\n        optEls.push(optionVnode);\n      });\n    };\n\n    getEls(utils.getComponentDeps(options));\n    return utils.parseDirective(h(ElSelect, {\n      modelValue: utils.getModelValue(option),\n      ...utils.createEventMap(option, utils),\n      ...handlerPorps\n    }, () => optEls), option, utils);\n  },\n  button: (options, utils) => {\n    const handleProps = utils.clearHandleProps(options);\n    return utils.parseDirective(h(ElButton, { ...handleProps,\n      onClick: () => utils.emitEvent(\"formEvent\", options.key)()\n    }, () => utils.createElementDeep(options)), options, utils);\n  },\n  formFrame: (options, utils, handerConfig) => {\n    const FormChildren = [];\n    let FormContainer = null;\n    let ItemWarp = undefined;\n\n    if (handerConfig) {\n      FormContainer = handerConfig.containerVnode;\n      ItemWarp = handerConfig.itemVnode;\n    } else {\n      FormContainer = ElForm;\n    }\n\n    const Layout = utils.GetLayout();\n    options.forEach((item, index) => {\n      FormChildren.push(ElementCreator.formItemFrame(item, utils, index, ItemWarp));\n    });\n    return h(FormContainer, {\n      // onselectstart: () => {\n      //   return false;\n      // },\n      rules: utils.scope.rules,\n      model: utils.scope.formData,\n      ref: FROM_INS,\n      // validateOnRuleChange: false,\n      ...Layout\n    }, // FormChildren\n    ItemWarp ? FormChildren : () => FormChildren.length == 0 ? h(\"div\", {\n      class: \"quick-form__state--align--center quick-form__fc--light\"\n    }, [\"请设置表单元素\"]) : FormChildren);\n  },\n  formItemFrame: (option, utils, index, itemWarp) => {\n    if (!option.formElementType) return \"\";\n    const formElementType = option.formElementType || \"container\";\n    const formElementLabel = option.formElementLabel;\n    const key = option.key;\n    const getTypes = utils.GetCombinationType(formElementType);\n\n    if (getTypes.mainType == \"slot\") {\n      if (getTypes.subType && getTypes.subType in ElementCreator) {\n        /* 有插槽 */\n        ElementCreator[getTypes.subType](option, utils);\n      } else {\n        /* 没有子类型则需要传自定义组件 */\n        if (!getTypes.subType) {\n          if (option.component) {\n            return utils.renderComponents(option);\n          }\n        }\n\n        return ElementCreator.container({\n          children: [getTypes.subType ? \"无法找到插槽：\" + getTypes.subType : \"请传入自定义组件\"]\n        }, utils);\n      }\n    }\n\n    const GetItemChildren = (eltype, options, utils) => {\n      if (eltype in ElementCreator) {\n        // const isCallSelf = eltype == \"formItemFrame\";\n        const retChildVnodes = [];\n        const vnodeOptions = options.childrenOptions;\n\n        if (Array.isArray(vnodeOptions) && eltype !== \"text\") {\n          delete options.childrenOptions;\n          vnodeOptions.forEach(option => {\n            const getTypes = option.formElementType ? utils.GetCombinationType(option.formElementType) : {};\n\n            if (option.formElementType) {\n              // 正常多组件\n              eltype = getTypes.mainType;\n            } else {// 兼容 select option的情况\n            }\n\n            retChildVnodes.push(ElementCreator[eltype]({\n              key: options.key,\n              ...option,\n              ...getTypes\n            }, utils));\n          });\n          return retChildVnodes;\n        }\n\n        return [ElementCreator[eltype]({ ...options,\n          ...getTypes\n        }, utils)];\n      } else {\n        /* error block */\n        return [];\n      }\n    };\n\n    const handleProps = utils.clearHandleProps(option);\n\n    const mergeHandlerProps = (handler1, handler2) => {\n      Object.keys(handler2).forEach(key => {\n        if (key == \"class\") {\n          handler1[key] = (handler1[key] || \"\") + ` ${handler2[key]}`;\n        }\n      });\n      return handler1;\n    };\n\n    return utils.parseDirective(h(itemWarp || ElFormItem, mergeHandlerProps({ ...mountDrag(utils, index),\n      prop: key,\n      label: utils.parseTempSyntax(formElementLabel),\n      ...handleProps\n    }, {\n      class: `${utils.GetDrag() ? \"el-form-item__drag\" : \"\"} ${utils.GetEditOption() ? \"el-form-item__edit\" : \"\"}`\n    }), itemWarp ? [GetItemChildren(getTypes.mainType, { ...option,\n      ...getTypes\n    }, utils)] : () => [GetItemChildren(getTypes.mainType, { ...option,\n      ...getTypes\n    }, utils), utils.GetEditOption() ? h(\"div\", {\n      class: \"edit__tools\"\n    }, [h(ElButton, {\n      type: \"danger\",\n      size: \"small\",\n\n      onClick() {\n        utils.emitEvent(\"formEvent\", \"\")({\n          type: \"delete_option\",\n          resouce: utils.scope.quickOptions.formOptions,\n          value: option,\n          pos: index\n        });\n      }\n\n    }, () => [\"删除\"]), h(ElButton, {\n      type: \"primary\",\n      size: \"small\",\n\n      onClick() {\n        utils.emitEvent(\"formEvent\", \"\")({\n          type: \"edit_option\",\n          resouce: utils.scope.quickOptions.formOptions,\n          value: option,\n          pos: index\n        });\n      }\n\n    }, () => [\"编辑\"])]) : \"\"]), option, utils);\n  }\n};\n\nconst mountDrag = (() => {\n  let start_index = -1;\n  let end_index = -1;\n  let start_drag = false;\n  const dragClass = \"quick-form__state--drag_here\";\n\n  const setEffect = e => {\n    e.dataTransfer.dropEffect = \"move\";\n  };\n\n  return (utils, index) => {\n    const drag = utils.GetDrag();\n    const dragProps = {\n      style: `${drag ? \"position: relative\" : \"\"}`,\n      draggable: true,\n      onDrag: e => {\n        setEffect(e);\n        start_drag = true;\n        start_index = index;\n        return e.preventDefault();\n      },\n      onDragover: e => {\n        setEffect(e);\n        e.target.classList.add(dragClass);\n        return e.preventDefault();\n      },\n      ondragleave: e => {\n        e.target.classList.remove(dragClass);\n        if (!start_drag) return false;\n        return e.preventDefault();\n      },\n      onDrop: e => {\n        e.target.classList.remove(dragClass);\n        start_drag = false;\n        end_index = index;\n        utils.positionChanger(start_index, end_index);\n        start_index = -1;\n        end_index = -1;\n      }\n    };\n    const defaultProps = {};\n    return drag ? dragProps : defaultProps;\n  };\n})();\n\nconst UperHelper = etype => {\n  const etypeArr = etype.split(\"\");\n  const start = etypeArr.shift().toUpperCase();\n  return `on${start}${etypeArr.join(\"\")}`;\n};\n\nconst ClearHandleProps = options => {\n  const OriginalProps = {};\n  Object.keys(options).forEach(curKey => {\n    if (!HandleProps.includes(curKey)) OriginalProps[curKey] = options[curKey];\n  });\n  return OriginalProps;\n};\n\nconst eventMap = (() => {\n  const inputEvents = [\"input\", \"change\", \"blur\", \"mouseover\", \"mouseenter\"];\n  inputEvents.default = \"input\";\n  const selectEvents = [\"change\"];\n  selectEvents.default = \"change\";\n  const textEvents = [\"click\"];\n  textEvents.default = \"click\";\n  const uploadEvents = [\"preview\", \"remove\", \"success\", \"error\", \"progress\", \"change\", \"exceed\", \"upload\", \"remove\"];\n  uploadEvents.default = \"change\";\n  const containerEvents = [\"click\", \"mouseover\", \"mouseenter\"];\n  containerEvents.default = \"click\";\n  const checkboxEvents = [\"click\", \"mouseover\", \"mouseenter\", \"change\"];\n  checkboxEvents.default = \"change\";\n  const radioEvents = [\"click\", \"mouseover\", \"mouseenter\", \"change\"];\n  radioEvents.default = \"click\";\n  const dateEvents = [\"click\", \"mouseover\", \"mouseenter\", \"change\", \"blur\", \"focus\", \"calendarChange\", \"panelChange\", \"visibleChange\"];\n  dateEvents.default = \"change\";\n  const timeEvents = [\"click\", \"mouseover\", \"mouseenter\", \"change\", \"blur\", \"focus\", \"calendarChange\", \"panelChange\", \"visibleChange\"];\n  timeEvents.default = \"change\";\n  const switchEvents = [\"click\", \"mouseover\", \"mouseenter\", \"change\"];\n  switchEvents.default = \"change\";\n  const LIB = {\n    input: inputEvents,\n    select: selectEvents,\n    text: textEvents,\n    upload: uploadEvents,\n    container: containerEvents,\n    checkbox: checkboxEvents,\n    radio: radioEvents,\n    date: dateEvents,\n    time: timeEvents,\n    switch: switchEvents\n  };\n\n  const getEvents = (elType, etype) => {\n    if (elType in LIB) {\n      if (Array.isArray(etype)) {\n        const retEvents = [];\n        const defaultEvent = LIB[elType].default;\n        const defaultEventMap = {\n          originalEvent: defaultEvent,\n          mountEvent: UperHelper(defaultEvent)\n        };\n        etype.forEach(strEvents => {\n          if (strEvents == defaultEvent) return;\n\n          if (LIB[elType].includes(strEvents)) {\n            retEvents.push({\n              originalEvent: strEvents,\n              mountEvent: UperHelper(strEvents)\n            });\n          } else {\n            console.warn(\"未在元素类型：\" + elType + \"找到：\" + etype + \"方法\");\n          }\n        });\n        retEvents.push(defaultEventMap);\n        return retEvents;\n      } else {\n        if (!LIB[elType].default) {\n          console.warn(\"can not found default event in \" + elType);\n        }\n\n        return [{\n          originalEvent: LIB[elType].default,\n          mountEvent: UperHelper(LIB[elType].default)\n        }];\n      }\n    } else {\n      console.warn(\"未定义:\" + elType + \"元素类型\");\n      return [];\n    }\n  };\n\n  const getDefaultEvent = elType => {\n    return LIB[elType]?.default;\n  };\n\n  return {\n    getEvents,\n    getDefaultEvent\n  };\n})();\n\nconst Methods = {\n  methods: {\n    getFrom() {\n      const myThis = this;\n      return myThis.$refs[FROM_INS];\n    },\n\n    addItem(item) {\n      const myThis = this;\n      myThis.quickOptions.formOptions.push(item);\n\n      myThis._updateComponents();\n    },\n\n    _updateComponents() {\n      const myThis = this;\n      myThis.$nextTick(() => {\n        myThis.$forceUpdate();\n      });\n    },\n\n    resetRules(resourceRules) {\n      const myThis = this;\n      const libKey = \"StateLib\" + myThis._raw;\n\n      if (libKey in window) {\n        const hideItemKeys = window[\"StateLib\" + myThis._raw].getDeleteKey();\n\n        const newRules = Object.keys(resourceRules).reduce((ref, cur) => {\n          if (hideItemKeys.indexOf(cur) == -1) ref[cur] = resourceRules[cur];\n          return ref;\n        }, {});\n        myThis.$emit(\"ruleChange\", newRules);\n      }\n\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          resolve(\"\");\n        }, 200);\n      });\n    }\n\n  }\n};\nconst _Data = {\n  data: () => ({\n    _quickOptions: {},\n    defaultValue: \"未匹配到key\",\n    _raw: new Date().getTime()\n  })\n};\nconst Props = {\n  props: {\n    formData: {\n      type: Object,\n      default: () => ({})\n    },\n    quickOptions: {\n      type: Object,\n      default: () => ({})\n    },\n    depOptions: {\n      type: Object,\n      default: () => ({})\n    },\n    rules: {\n      type: Object,\n      default: () => ({})\n    }\n  }\n};\n\nconst MountMainUtils = function (myThis) {\n  const _emitVal = emitVal(myThis);\n\n  const _emitEvent = emitEvent(myThis);\n\n  const _UTILS = {};\n\n  const GetCombinationType = type => {\n    const typeArr = type.split(\":\");\n    const mainType = typeArr[0];\n    const subType = typeArr[1];\n    return {\n      mainType,\n      subType\n    };\n  };\n\n  const getModelValue = key => {\n    let _key = null;\n    let _mountValue = undefined;\n    if (!key) return null;\n\n    if (typeof key == \"string\") {\n      _key = key;\n    } else {\n      _key = key.key;\n      _mountValue = key.mountModelValue;\n    }\n\n    if (_mountValue && _mountValue in myThis.formData) {\n      _key = _mountValue;\n    }\n\n    if (_key in myThis.formData) {\n      return myThis.formData[_key];\n    } else {\n      // return myThis.defaultValue\n      return null;\n    }\n  };\n\n  const createEventMap = (option, utils) => {\n    if (!option.formElementType) return {};\n    const mainType = GetCombinationType(option.formElementType).mainType;\n    const eventList = eventMap.getEvents(mainType, option.tirrgerEvents);\n    const events = {};\n    eventList.forEach(({\n      mountEvent,\n      originalEvent\n    }) => {\n      const EmitEvent = _emitVal(originalEvent, option.key);\n\n      const defaultEvent = eventMap.getDefaultEvent(mainType);\n\n      if (originalEvent == defaultEvent) {\n        // @ts-ignore\n        events[mountEvent] = (val, e) => {\n          if (!option.preventDefaultEvent) {\n            utils.upDateFromData(val, option.mountModelValue || option.key);\n          } else {\n            /* 开启了响应赋值 */\n          }\n\n          if (option.formElementType == \"select\") {\n            const valueKey = option.optionValueKey || \"value\";\n            const lableKey = option.optionLabelKey || \"label\";\n            const redundantKeys = option.redundantKeys || [];\n            const selectItem = utils.getComponentDeps(option.options).filter(option => option[valueKey] == val).map(option => ({\n              value: option[valueKey],\n              label: option[lableKey],\n              ...redundantKeys.reduce((ref, cur) => {\n                ref[cur] = option[cur];\n                return ref;\n              }, {})\n            }));\n            return EmitEvent(val, {\n              option: selectItem[0]\n            });\n          }\n\n          EmitEvent(val);\n        };\n      } else {\n        // @ts-ignore\n        events[mountEvent] = EmitEvent;\n      }\n    });\n    return events;\n  };\n\n  const GetLayout = () => {\n    return myThis.quickOptions.layout;\n  };\n\n  const GetConfig = () => {\n    return myThis.quickOptions.conifg;\n  };\n\n  const GetDrag = () => {\n    return Boolean(myThis.quickOptions.drag);\n  };\n\n  const GetEditOption = () => {\n    return Boolean(myThis.quickOptions.edit);\n  };\n\n  const upDateFromData = (val, key) => {\n    if (key in myThis.formData) {\n      if (val instanceof Event) return;\n      myThis.formData[key] = val;\n    }\n  };\n\n  const getMountModelValue = option => {\n    const retMap = {};\n    const key = option.mountModelValue;\n\n    if (typeof key == \"string\") {\n      // @ts-ignore\n      retMap[key] = myThis.formData[option.key];\n    }\n\n    return retMap;\n  };\n\n  const createElementDeep = options => {\n    const children = options.children || [];\n    const targetProp = options.key;\n    const currentPropPath = [...(options.currentPropPath || []), targetProp];\n    const retMap = [];\n    if (!Array.isArray(children)) return;\n    children.forEach(child => {\n      if (typeof child == \"string\") {\n        return retMap.push(ElementCreator.text({\n          textValue: child\n        }, _UTILS));\n      }\n\n      const elType = child.formElementType;\n\n      if (elType in ElementCreator) {\n        child.currentPropPath = currentPropPath;\n        retMap.push( // @ts-ignore\n        ElementCreator[elType]({ ...child,\n          key: targetProp\n        }, _UTILS));\n      } else {\n        console.warn(\"validate child option:\" + JSON.stringify(child));\n      }\n    });\n    return retMap;\n  };\n\n  const GetParentModelVal = path => {\n    const parentModelProp = path.shift();\n    const propValue = getModelValue(parentModelProp);\n\n    if (propValue == myThis.defaultValue) {\n      console.warn(\"can not found parent prop \" + parentModelProp);\n    }\n\n    return propValue;\n  };\n\n  const ParseDirective = (vnode, options, utils) => {\n    const directives = options.directives; // 删除当前指令 防止继续往下传\n    // delete options.directives;\n\n    if (Array.isArray(directives)) {\n      const s = directives.map(ds => {\n        const directive = ds[0];\n        const QueryString = \"_UTILS.scope.formData\";\n        const QueryDepString = \"_UTILS.scope.depOptions\";\n        const condition = ds[1].replace(new RegExp(\"scope\", \"g\"), QueryString).replace(new RegExp(\"depScope\", \"g\"), QueryDepString);\n        return [resolveDirective(directive), eval(condition), utils, options.key];\n      });\n      vnode = withDirectives(vnode, s);\n    }\n\n    return vnode;\n  };\n\n  const RenderComponents = options => {\n    const slotOptions = options.slotOptions || {};\n    const props = slotOptions.props || [];\n    const receiver = slotOptions.receiver || [];\n    const createPorps = props.reduce((ref, cur, index) => {\n      try {\n        // @ts-ignore\n        ref[cur.prop] = cur.type == \"self\" ? cur.value : { ..._UTILS.scope.formData,\n          ..._UTILS.scope.depOptions\n        }[cur.value];\n      } catch (error) {\n        console.log(error);\n      }\n\n      return ref;\n    }, {});\n\n    const Emit = _UTILS.emitEvent(\"formEvent\", options.formElementType);\n\n    const CreateReceiver = receiver.reduce((ref, cur, index) => {\n      // @ts-ignore\n      ref[UperHelper(cur)] = function (value) {\n        Emit({\n          type: cur,\n          key: options.key,\n          value\n        });\n      };\n\n      return ref;\n    }, {});\n    return ParseDirective(h(options.component, { ...createPorps,\n      ...CreateReceiver\n    }), options, _UTILS);\n  };\n\n  const GetComponentDeps = depName => {\n    if (typeof depName == \"string\") {\n      if (depName in myThis.depOptions) {\n        return myThis.depOptions[depName];\n      } else {\n        console.warn(\"invalid depName:\" + depName);\n        return [];\n      }\n    } else if (Array.isArray(depName)) {\n      return depName;\n    } else {\n      console.warn(\"invalid depName type:\" + typeof depName + \", must be Array or String\");\n    }\n  };\n\n  const ParseTempSyntax = function (val) {\n    if (typeof val == \"string\") {\n      const parseArr = val.match(TemplateReg);\n\n      if (parseArr && parseArr.length > 0) {\n        parseArr.map(parseString => {\n          const str = parseString.replace(\"{{\", \"\").replace(\"}}\", \"\");\n          const mergeObject = Object.assign({}, _UTILS.scope.formData, _UTILS.scope.depOptions);\n          const parsedVal = mergeObject[str];\n          val = val.replace(parseString, parsedVal);\n        });\n      }\n    }\n\n    return val;\n  };\n\n  const RulesState = (() => {\n    const rules = null;\n    const deleteKeys = [];\n    return {\n      // setRules(_rules: any) {\n      //   // rules = JSON.parse(JSON.stringify(_rules));\n      // },\n      resetState(key, state) {\n        const index = deleteKeys.indexOf(key);\n\n        if (state) {\n          index >= 0 && deleteKeys.splice(index, 1);\n        } else {\n          index == -1 && deleteKeys.push(key);\n        }\n      },\n\n      getDeleteKey() {\n        return deleteKeys;\n      },\n\n      resetRules(type) {\n        // const emit = _UTILS.emitEvent(\"directiveEvent\", type);\n        // @ts-ignore\n        window[\"StateLib\" + myThis._raw] = this;\n      }\n\n    };\n  })();\n\n  const PositionChanger = function (start, end) {\n    const QuickFormItemOptions = myThis.quickOptions.formOptions;\n\n    if (start >= 0 && end >= 0 && start !== end) {\n      const StartConf = QuickFormItemOptions.splice(start, 1)[0];\n\n      if (start > end) {\n        QuickFormItemOptions.splice(end, 0, StartConf);\n      } else {\n        QuickFormItemOptions.splice(end - 1, 0, StartConf);\n      }\n\n      _emitEvent(\"optionChange\")({\n        targetOption: StartConf,\n        start,\n        end,\n        currentOptions: JSON.stringify(_UTILS.getGlobalOptions())\n      });\n\n      myThis.$forceUpdate();\n    }\n  };\n\n  _UTILS.scope = myThis;\n  _UTILS.emit = _emitVal;\n  _UTILS.getModelValue = getModelValue;\n  _UTILS.eventMap = eventMap;\n  _UTILS.createEventMap = createEventMap;\n  _UTILS.GetCombinationType = GetCombinationType;\n  _UTILS.GetLayout = GetLayout;\n  _UTILS.GetConfig = GetConfig;\n  _UTILS.GetDrag = GetDrag;\n  _UTILS.GetEditOption = GetEditOption;\n  _UTILS.upDateFromData = upDateFromData;\n  _UTILS.getMountModelValue = getMountModelValue;\n  _UTILS.createElementDeep = createElementDeep;\n  _UTILS.GetParentModelVal = GetParentModelVal;\n  _UTILS.emitEvent = _emitEvent;\n  _UTILS.parseDirective = ParseDirective;\n  _UTILS.renderComponents = RenderComponents;\n  _UTILS.clearHandleProps = ClearHandleProps;\n  _UTILS.getComponentDeps = GetComponentDeps;\n  _UTILS.parseTempSyntax = ParseTempSyntax;\n  _UTILS.rulesState = RulesState;\n  _UTILS.positionChanger = PositionChanger;\n\n  _UTILS.getGlobalOptions = () => myThis.quickOptions;\n\n  return _UTILS;\n};\n\nconst MainRender = function () {\n  return {\n    render() {\n      const myThis = this;\n      const formOptions = myThis.quickOptions.formOptions || [];\n      const config = myThis.quickOptions.config;\n      const depOptions = myThis.depOptions;\n      const UTILS = MountMainUtils(myThis);\n      let isHander = false; // UTILS.rulesState.setRules(myThis.quickOptions.rules);\n\n      if (config && config.renderType == \"hander\" && config.containerVnode && config.itemVnode) isHander = true;\n      const FromVnode = ElementCreator.formFrame(formOptions, UTILS, isHander ? config : undefined);\n      return FromVnode;\n    }\n\n  };\n};\n\nconst _QuickForm = { ...Props,\n  ..._Data,\n  ...Methods,\n  ...Dires,\n  ...MainRender()\n};\nexport const QuickForm = function (argus) {\n  return h(_QuickForm, argus);\n};\nexport const HasDirective = dir => {\n  return Boolean(Dires.directives[dir]);\n};\n\nconst mount = function (app) {\n  app.component(\"quick-form\", _QuickForm);\n  _app = app;\n};\n\nexport default {\n  install: mount\n};","const IF = \"sif\";\nconst EXP = {\n  directives: {\n    [IF]: {\n      updated: (() => {\n        let originalDisplay = null;\n        let timer = null;\n        return (el, argus) => {\n          console.log(1111111111, el, argus);\n          const utils = argus.arg;\n          if (!utils) return;\n          const display = el.style.display;\n          const key = argus.modifiers;\n          const rules = utils.scope._rules; // const emit = utils.emitEvent(\"directiveEvent\", key);\n\n          if (originalDisplay == null) {\n            originalDisplay = display;\n          }\n\n          utils.rulesState.resetState(key, argus.value);\n          utils.scope.$nextTick(() => {\n            if (!argus.value) {\n              el.style.display = \"none\"; // emit({ directive: IF, value: argus.value });\n              // // key in rules && (delete rules[key])\n            } else {\n              // emit({ directive: IF, value: argus.value });\n              el.style.display = originalDisplay; // !(key in rules) && (rules[key] = rule)\n            }\n          });\n          if (timer) clearTimeout(timer);\n          timer = setTimeout(() => {\n            utils.rulesState.resetRules(IF);\n          }, 200);\n        };\n      })()\n    }\n  }\n};\nexport default EXP;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkquick_form_vue3\"] = self[\"webpackChunkquick_form_vue3\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(5860); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_app","_EVENT_","_FROM_EVENT_","EVENT_CHANGE","TEXT_EL","FROM_INS","FROM_C","FROM_C_EL","FORM_EL_IMG","HandleProps","TemplateReg","emitVal","scope","type","key","val","mergeObject","$emit","emitEvent","Throttling","dely","fn","timer","argus","clearTimeout","setTimeout","apply","VnodeImg","props","imgOption","Object","default","imgData","imgControll","Array","showControll","Boolean","currentIndex","Number","render","myThis","this","option","controll","showC","controllMap","preview","ElementCreator","icon","children","CirclePlus","iconConf","onClick","eventClick","download","Download","delete","Delete","GetControllELs","isArray","map","controlStr","vnode","h","src","url","height","class","size","color","imgModalVnode","wVnode","style","length","VnodeImgList","listOption","imgList","List","console","error","event","index","imgObj","itemStyle","onImgEvent","switch","utils","emit","clearHandleProps","parseDirective","ElSwitch","createEventMap","modelValue","getModelValue","time","EmitEvent","ElTimePicker","upDateFromData","mountModelValue","date","ElDatePicker","Emit","formElementType","GetParentModelVal","currentPropPath","onPreview","onDelete","onDownload","upload","IsDetail","subType","_accept","accept","join","mountFileList","fileListDepend","name","alias","formData","forEach","item","getFileList","warn","fileList","mountObject","ElUpload","onHttpRequest","file","log","createElementDeep","handleProps","ClearHandleProps","vnodeRender","ElIcon","text","EventMap","parseTempSyntax","textValue","container","options","inputNumber","ElInputNumber","radio","textChilren","ElRadio","label","checkbox","ElCheckbox","indexOf","ModelData","hasIndex","splice","push","input","ElInput","placeholder","select","handlerPorps","optEls","lableKey","optionLabelKey","valueKey","optionValueKey","getEls","arr","optionVnode","ElOption","value","getComponentDeps","ElSelect","button","ElButton","formFrame","handerConfig","FormChildren","ItemWarp","FormContainer","containerVnode","itemVnode","ElForm","Layout","GetLayout","formItemFrame","rules","model","ref","itemWarp","formElementLabel","getTypes","GetCombinationType","mainType","component","renderComponents","GetItemChildren","eltype","retChildVnodes","vnodeOptions","childrenOptions","mergeHandlerProps","handler1","handler2","keys","ElFormItem","mountDrag","prop","GetDrag","GetEditOption","resouce","quickOptions","formOptions","pos","start_index","end_index","start_drag","dragClass","setEffect","e","dataTransfer","dropEffect","drag","dragProps","draggable","onDrag","preventDefault","onDragover","target","classList","add","ondragleave","remove","onDrop","positionChanger","defaultProps","UperHelper","etype","etypeArr","split","start","shift","toUpperCase","OriginalProps","curKey","includes","eventMap","inputEvents","selectEvents","textEvents","uploadEvents","containerEvents","checkboxEvents","radioEvents","dateEvents","timeEvents","switchEvents","LIB","getEvents","elType","retEvents","defaultEvent","defaultEventMap","originalEvent","mountEvent","strEvents","getDefaultEvent","Methods","methods","getFrom","$refs","addItem","_updateComponents","$nextTick","$forceUpdate","resetRules","resourceRules","libKey","_raw","window","hideItemKeys","getDeleteKey","newRules","reduce","cur","Promise","resolve","reject","_Data","data","_quickOptions","defaultValue","Date","getTime","Props","depOptions","MountMainUtils","_emitVal","_emitEvent","_UTILS","typeArr","_mountValue","_key","eventList","tirrgerEvents","events","preventDefaultEvent","redundantKeys","selectItem","filter","layout","GetConfig","conifg","edit","Event","getMountModelValue","retMap","targetProp","child","JSON","stringify","path","parentModelProp","propValue","ParseDirective","directives","s","ds","directive","QueryString","QueryDepString","condition","replace","RegExp","resolveDirective","eval","withDirectives","RenderComponents","slotOptions","receiver","createPorps","CreateReceiver","GetComponentDeps","depName","ParseTempSyntax","parseArr","match","parseString","str","assign","parsedVal","RulesState","deleteKeys","resetState","state","PositionChanger","end","QuickFormItemOptions","StartConf","targetOption","currentOptions","getGlobalOptions","rulesState","MainRender","config","UTILS","isHander","renderType","FromVnode","undefined","_QuickForm","Dires","QuickForm","HasDirective","dir","mount","app","install","IF","EXP","updated","originalDisplay","el","arg","display","modifiers","_rules","headerClasses","quickHeader","background","width","position","top","left","fontSize","lineHeight","padding","zIndex","quickSubTitle","github","float","marginRight","marginTop","cursor","defineComponent","setup","classes","_createStyleSheet","require","toGithub","open","version","editorProps","code","String","GetEditor","curIns","Mo","monaco","refs","theme","readOnly","minimap","enabled","tabSize","scrollBeyondLastLine","emits","getCurrentInstance","toRefs","monacoIns","editorClasses","quickEditorWrap","mocaWarp","quickRun","right","onMounted","setValue","nextTick","getAction","getRunCode","getValue","watch","TypeProps","title","codeViewClasses","quickCodeViewTitle","textAlign","paddingTop","slots","_State","reactive","_code","_height","_title","getCode","codeStr","codeChange","newcode","dragViewClasses","dragLayout","dragTitle","dragContent","boxSizing","toolbar","flex","borderRight","flexDirection","alignItems","overflow","dragView","toolbarItem","justifyContent","border","marginBottom","dragElementView","stateOver","dragIntro","toolClasses","toolTip","toolTipState","state_over_class","Ins","utilClasses","elementShotAbstractGen_default","registerInfo","dragEvent","elementType","viewType","componentName","dragleave","dragover","RegisterIns","setEl","elementShotcutGen","elementComponentGen","mousemove","handleElementGen","getQuickForm","option_temp","labelWidth","labelPosition","FormQuickOptionsLib","FormQuickDataLib","FormQuickEventLisb","parse","FormChange","FormEvent","handlerFormItemEvent","parseCurrentFormOptions","form","currentEdit","onFormEvent","onFormChange","itemGenFac","showConfig","elementUtilsGen","ViewConifgEnum","FormItemState","formItemData","titleType","defaultEventTypeForForm","format","radios","rule_gen_formitem","ret","reg","orginDerictives","lableAnVal","lvref","lvstr","lv","action","multiple","listType","shotview_conifg","currentValueFormat","currentKeyTypes","createConigForShotview","resetBooleanOrDefault","textConfig","keyAndVal","keyAndVal_types","copy","createQuickFormRealItem","cancel","currentElementInfo","_reject","genConifgForm","then","_reslove","getCurrentKeyTypes","clearCurrentKeyTypes","info","defaultInfo","FromConfig","configQuickForm","submitFormItem","formatKey","getFormState","getTitleType","_draging_component_name","_overed_components","RootComponent","short_getDom","elementState","overedDom","setOver","dom","setDefault","RegisterCache","counterMap","cache","RegisterMap","cacheViewPostionMap","defaultKeys","createElementInfo","postion","getRegisterInfo","counter","setInterval","clearInterval","swap","name1","name2","parentPosition1","parentPosition2","parentInfo1","parentInfo2","name1_postion","findIndex","o","name2_postion","name1_target","Render","renderObject","renderVNodeFromElementInfo","vnodeInfo","retVnodeList","getInfos","cachce","Factor","constructor","Obj","setPosition","parentName","childName","register","init","EventRansit","eventType","call","registerToCache","stopPropagation","drop","currentDraggingElement","FatherInfo","childInfo","catch","short_cut_inited","createItemShortcut","registerList","dragEventRegister","StartEdit","appClasses","quickWrap","margin","quickContentSubTitle","controll_warp","createCodeFormData","fullDemoCode","State","RefCode","inputCode","btnCode","checkboxOrRadioCode","selectCode","dragDemo","dragCompilte","CurrentDragCode","toDrag","compilte","ready","registered","cached","updatefound","offline","quickCss","jss","preset","globalProperties","attach","createApp","App","use","elemenPlus","quickForm","FromData","parserClasses","quickParser","upDateQuickElement","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","id","loaded","__webpack_modules__","m","amdO","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","i","fulfilled","j","every","r","n","getter","__esModule","d","a","definition","defineProperty","enumerable","get","g","globalThis","Function","hmd","create","set","Error","obj","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}