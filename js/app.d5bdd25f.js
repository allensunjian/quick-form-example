(function(){"use strict";var __webpack_modules__={4500:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9137),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0__),_utils_directives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7279),vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2179),element_plus__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(918),element_plus__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8177),element_plus__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7650),element_plus__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1845),element_plus__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2300),element_plus__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(480),element_plus__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4161),element_plus__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(6831),element_plus__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(447),element_plus__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(662),element_plus__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(5957),element_plus__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6243),_element_plus_icons_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4726);let _app=null;const _EVENT_="formChange",_FROM_EVENT_="formEvent",EVENT_CHANGE="change",TEXT_EL="span",FROM_INS="_quickFrom",FROM_C="quick-form__label--container",FROM_C_EL="div",FORM_EL_IMG="img",HandleProps=["children","options","directives","formElementType","formElementLabel","key","tirrgerEvents","textValue","currentPropPath","itemStyle","preventDefaultEvent","component","slotOptions","optionLabelKey","optionValueKey","mainType","subType","mountModelValue","showControll","childrenOptions"],TemplateReg=/\{\{.*?\}\}/g,emitVal=e=>(t,n)=>(r,o={})=>{e.$emit(_EVENT_,{type:t,key:n,val:r,...o})},emitEvent=e=>(t,n)=>r=>{e.$emit(_FROM_EVENT_,{type:t,key:n,val:r})},Throttling=function(e,t){let n=null;return function(...r){let o;n&&clearTimeout(n),n=setTimeout((()=>{t.apply(o,r),clearTimeout(n)}),e)}},VnodeImg={props:{imgOption:{type:Object,default:()=>({})},imgData:{type:Object,default:()=>({})},imgControll:{type:Array,default:()=>[]},showControll:{type:Boolean,default:!0},currentIndex:{type:Number,default:null}},render(){const e=this,t=e.imgOption,n=e.imgControll,r=e.showControll,o=e.currentIndex,l={preview:()=>ElementCreator.icon({children:[_element_plus_icons_vue__WEBPACK_IMPORTED_MODULE_2__.Gq5],..._,onClick:s("preview")}),download:()=>ElementCreator.icon({children:[_element_plus_icons_vue__WEBPACK_IMPORTED_MODULE_2__.UWx],..._,onClick:s("download")}),delete:()=>ElementCreator.icon({children:[_element_plus_icons_vue__WEBPACK_IMPORTED_MODULE_2__.HG3],..._,onClick:s("delete")})},a=()=>Array.isArray(n)?n.map((e=>e in l?l[e]():"")):[],i=()=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(FORM_EL_IMG,{src:e.imgData.url,height:100,...t,class:"quick-form__imglist--item"}),_={size:16,color:"#fff"},s=t=>()=>{e.$emit("imgEvent",t,o)},u=()=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(FROM_C_EL,{class:"quick-form__imglist--itemModal"},a());let c=null;return c=(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(FROM_C_EL,{class:"quick-form__imglist--itemwarp",style:"height: 100px"},r&&n.length>0?[i(),u()]:[i()]),c}},VnodeImgList={props:{listOption:{type:Object,default:()=>({})},imgList:{type:Array,default:()=>[]}},render(){const e=this,t=e.listOption;let n=e.imgList;Array.isArray(n)||(n=[],console.error("传入的图片数据结构不是个数组！"));const r=function(t,n){e.$emit(t,n)};return(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(FROM_C_EL,{class:FROM_C},n.map?n.map(((e,n)=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(VnodeImg,{imgData:e,imgOption:t.itemStyle||{},imgControll:t.controll,showControll:"boolean"!=typeof t.showControll||t.showControll,currentIndex:n,onImgEvent:r}))):[])}},ElementCreator={switch:(e,t)=>{t.emit("change",e.key);const n=t.clearHandleProps(e);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_4__.OX,{...n,...t.createEventMap(e,t),modelValue:t.getModelValue(e)}),e,t)},time:(e,t)=>{const n=t.emit("change",e.key),r=t.clearHandleProps(e);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_5__.ah,{...r,...t.createEventMap(e,t),modelValue:t.getModelValue(e),"onUpdate:modelValue":Throttling(50,(function(r){t.upDateFromData(r,e.mountModelValue||e.key),n(r)}))}),e,t)},date:(e,t)=>{const n=t.clearHandleProps(e),r=t.emit("change",e.key);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_6__.i,{...n,...t.createEventMap(e,t),modelValue:t.getModelValue(e),"onUpdate:modelValue":Throttling(50,(function(n){t.upDateFromData(n,e.mountModelValue||e.key),r(n)}))}),e,t)},imgList:(e,t)=>{const n=t.emitEvent("formEvent",e.formElementType);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(VnodeImgList,{imgList:t.GetParentModelVal(e.currentPropPath),listOption:e,...e,onPreview:function(t){n({type:"preview",key:e.key,index:t})},onDelete:function(t){n({type:"delete",key:e.key,index:t})},onDownload:function(t){n({type:"download",key:e.key,index:t})}}),e,t)},upload:(e,t)=>{const n="detail"==e.subType,r=t.clearHandleProps(e);let o=e.accept;o&&Array.isArray(o)&&(delete e.accept,o=o.join(","));const l=function(e){const n=e.mountModelValue||e.key,{name:r,url:o}=e.alias||{name:"name",url:"url"};(t.scope.formData[n]||[]).forEach((e=>{"name"in e&&"url"in e||(e.name=e[r],e.url=e[o])}));const l=()=>{if(!(n in t.scope.formData))return console.warn("invalid depend key "+n),[];try{return t.scope.formData[n]}catch(e){return console.warn("invalid depend key "+n),[]}};return{fileList:l()}},a=n?{class:"quick-form__upload--detail",...l(e),...t.createEventMap(e,t)}:{...t.createEventMap(e,t),...l(e),...r};return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_7__.LW,{...a,accept:o},(()=>n?[]:t.createElementDeep(e))),e,t)},icon:e=>{let t=[];const n=ClearHandleProps(e);try{t=(e.children||[]).map((e=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(e)))}catch(r){t=[]}return(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_8__.gn,{...n},(()=>t))},text:(e,t)=>{let n,r;t&&t.getModelValue&&(n=t&&t.getModelValue(e),r=t.createEventMap(e,t));const o=t.clearHandleProps(e);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(TEXT_EL,{...r,...o},[t.parseTempSyntax(e.textValue)||n||""]),e,t)},container:(e,t)=>{const n=t.clearHandleProps(e);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)("div",{...t.createEventMap(e,t),...n},t.createElementDeep(e)),e,t)},inputNumber:(e,t)=>t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_9__.d6,{modelValue:t.getModelValue(e),...t.createEventMap(e,t),...e}),e),radio:(e,t)=>{const n=e.children;return delete e.children,t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_10__.rh,{modelValue:t.getModelValue(e),onClick:Throttling(50,(()=>{t.upDateFromData(e.label,e.mountModelValue||e.key)})),...e},(()=>n)),e,t)},checkbox:(e,t)=>{const n=e.children;return delete e.children,t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_11__.Xb,{modelValue:!!Array.isArray(t.getModelValue(e))&&t.getModelValue(e).indexOf(e.label)>=0,onClick:Throttling(50,(function(){const n=t.getModelValue(e),r=n.indexOf(e.label);r>=0?n.splice(r,1):n.push(e.label)})),...e},(()=>n)),e,t)},input:(e,t)=>{if("number"==e.subType)return ElementCreator.inputNumber(e,t);const n=t.clearHandleProps(e);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_12__.EZ,{modelValue:t.getModelValue(e),...t.createEventMap(e,t),placeholder:e.placeholder,type:e.subType?e.subType:"text",...n}),e,t)},select:(e,t)=>{const n=t.clearHandleProps(e),r=e.options,o=[],l=e.optionLabelKey||"label",a=e.optionValueKey||"value",i=(e=[])=>{(e||[]).forEach((e=>{const t=(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_13__.BT,{value:e[a],label:e[l]});o.push(t)}))};return i(t.getComponentDeps(r)),t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_13__.km,{modelValue:t.getModelValue(e),...t.createEventMap(e,t),...n},(()=>o)),e,t)},button:(e,t)=>{const n=t.clearHandleProps(e);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_14__.mi,n,(()=>t.createElementDeep(e))),e,t)},formFrame:(e,t)=>{const n=[],r=t.GetLayout();return e.forEach(((e,r)=>{n.push(ElementCreator.formItemFrame(e,t,r))})),(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_15__.ly,{rules:t.scope.rules,model:t.scope.formData,ref:FROM_INS,...r},(()=>0==n.length?(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)("div",{class:"quick-form__state--align--center quick-form__fc--light"},["请设置表单元素"]):n))},formItemFrame:(e,t,n)=>{const r=e.formElementType||"container",o=e.formElementLabel,l=e.key,a=t.GetCombinationType(r);if("slot"==a.mainType){if(!a.subType||!(a.subType in ElementCreator))return!a.subType&&e.component?t.renderComponents(e):ElementCreator.container({children:[a.subType?"无法找到插槽："+a.subType:"请传入自定义组件"]},t);ElementCreator[a.subType](e,t)}const i=(e,t,n)=>{if(e in ElementCreator){const r=[],o=t.childrenOptions;return Array.isArray(o)&&"text"!==e?(delete t.childrenOptions,o.forEach((o=>{const l=o.formElementType?n.GetCombinationType(o.formElementType):{};o.formElementType&&(e=l.mainType),r.push(ElementCreator[e]({key:t.key,...o,...l},n))})),r):[ElementCreator[e]({...t,...a},n)]}return[]},_=t.clearHandleProps(e),s=(e,t)=>(Object.keys(t).forEach((n=>{"class"==n&&(e[n]=(e[n]||"")+` ${t[n]}`)})),e);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_15__.nH,s({...mountDrag(t,n),prop:l,label:t.parseTempSyntax(o),..._},t.GetDrag()?{class:"el-form-item__drag"}:{}),(()=>[i(a.mainType,{...e,...a},t)])),e,t)}},mountDrag=(()=>{let e=-1,t=-1,n=!1;const r="quick-form__state--drag_here",o=e=>{e.dataTransfer.dropEffect="move"};return(l,a)=>{const i=l.GetDrag(),_={style:""+(i?"position: relative":""),draggable:!0,onDrag:t=>(o(t),n=!0,e=a,t.preventDefault()),onDragover:e=>(o(e),e.target.classList.add(r),e.preventDefault()),ondragleave:e=>(e.target.classList.remove(r),!!n&&e.preventDefault()),onDrop:o=>{o.target.classList.remove(r),n=!1,t=a,l.positionChanger(e,t),e=-1,t=-1}},s={};return i?_:s}})(),UperHelper=e=>{const t=e.split(""),n=t.shift().toUpperCase();return`on${n}${t.join("")}`},ClearHandleProps=e=>{const t={};return Object.keys(e).forEach((n=>{HandleProps.includes(n)||(t[n]=e[n])})),t},eventMap=(()=>{const e=["input","change","blur","mouseover","mouseenter"];e.default="input";const t=["change"];t.default="change";const n=["click"];n.default="click";const r=["preview","remove","success","error","progress","change","exceed","upload","remove"];r.default="change";const o=["click","mouseover","mouseenter"];o.default="click";const l=["click","mouseover","mouseenter","change"];l.default="change";const a=["click","mouseover","mouseenter","change"];a.default="click";const i=["click","mouseover","mouseenter","change","blur","focus","calendarChange","panelChange","visibleChange"];i.default="change";const _=["click","mouseover","mouseenter","change","blur","focus","calendarChange","panelChange","visibleChange"];_.default="change";const s=["click","mouseover","mouseenter","change"];s.default="change";const u={input:e,select:t,text:n,upload:r,container:o,checkbox:l,radio:a,date:i,time:_,switch:s},c=(e,t)=>{if(e in u){if(Array.isArray(t)){const n=[],r=u[e].default,o={originalEvent:r,mountEvent:UperHelper(r)};return t.forEach((o=>{o!=r&&(u[e].includes(o)?n.push({originalEvent:o,mountEvent:UperHelper(o)}):console.warn("未在元素类型："+e+"找到："+t+"方法"))})),n.push(o),n}return u[e].default||console.warn("can not found default event in "+e),[{originalEvent:u[e].default,mountEvent:UperHelper(u[e].default)}]}return console.warn("未定义:"+e+"元素类型"),[]},p=e=>u[e]?.default;return{getEvents:c,getDefaultEvent:p}})(),Methods={methods:{getFrom(){const e=this;return e.$refs[FROM_INS]},addItem(e){const t=this;t.quickOptions.formOptions.push(e),t._updateComponents()},_updateComponents(){const e=this;e.$nextTick((()=>{e.$forceUpdate()}))},resetRules(e){const t=this,n="StateLib"+t._raw;if(n in window){const n=window["StateLib"+t._raw].getDeleteKey(),r=Object.keys(e).reduce(((t,r)=>(-1==n.indexOf(r)&&(t[r]=e[r]),t)),{});t.$emit("ruleChange",r)}return new Promise(((e,t)=>{setTimeout((()=>{e("")}),200)}))}}},_Data={data:()=>({_quickOptions:{},defaultValue:"未匹配到key",_raw:(new Date).getTime()})},Props={props:{formData:{type:Object,default:()=>({})},quickOptions:{type:Object,default:()=>({})},depOptions:{type:Object,default:()=>({})},rules:{type:Object,default:()=>({})}}},MountMainUtils=function(myThis){const _emitVal=emitVal(myThis),_emitEvent=emitEvent(myThis),_UTILS={},GetCombinationType=e=>{const t=e.split(":"),n=t[0],r=t[1];return{mainType:n,subType:r}},getModelValue=e=>{let t,n=null;return e?("string"==typeof e?n=e:(n=e.key,t=e.mountModelValue),t&&t in myThis.formData&&(n=t),n in myThis.formData?myThis.formData[n]:null):null},createEventMap=(e,t)=>{if(!e.formElementType)return{};const n=GetCombinationType(e.formElementType).mainType,r=eventMap.getEvents(n,e.tirrgerEvents),o={};return r.forEach((({mountEvent:r,originalEvent:l})=>{const a=_emitVal(l,e.key),i=eventMap.getDefaultEvent(n);o[r]=l==i?(n,r)=>{if(e.preventDefaultEvent||t.upDateFromData(n,e.mountModelValue||e.key),"select"==e.formElementType){const r=e.optionValueKey||"value",o=e.optionLabelKey||"label",l=e.redundantKeys||[],i=t.getComponentDeps(e.options).filter((e=>e[r]==n)).map((e=>({value:e[r],label:e[o],...l.reduce(((t,n)=>(t[n]=e[n],t)),{})})));return a(n,{option:i[0]})}a(n)}:a})),o},GetLayout=()=>myThis.quickOptions.layout,GetDrag=()=>Boolean(myThis.quickOptions.drag),upDateFromData=(e,t)=>{if(t in myThis.formData){if(e instanceof Event)return;myThis.formData[t]=e}},getMountModelValue=e=>{const t={},n=e.mountModelValue;return"string"==typeof n&&(t[n]=myThis.formData[e.key]),t},createElementDeep=e=>{const t=e.children||[],n=e.key,r=[...e.currentPropPath||[],n],o=[];if(Array.isArray(t))return t.forEach((e=>{if("string"==typeof e)return o.push(ElementCreator.text({textValue:e},_UTILS));const t=e.formElementType;t in ElementCreator?(e.currentPropPath=r,o.push(ElementCreator[t]({...e,key:n},_UTILS))):console.warn("validate child option:"+JSON.stringify(e))})),o},GetParentModelVal=e=>{const t=e.shift(),n=getModelValue(t);return n==myThis.defaultValue&&console.warn("can not found parent prop "+t),n},ParseDirective=(vnode,options,utils)=>{const directives=options.directives;if(Array.isArray(directives)){const s=directives.map((ds=>{const directive=ds[0],QueryString="_UTILS.scope.formData",QueryDepString="_UTILS.scope.depOptions",condition=ds[1].replace(new RegExp("scope","g"),QueryString).replace(new RegExp("depScope","g"),QueryDepString);return[(0,vue__WEBPACK_IMPORTED_MODULE_3__.Q2)(directive),eval(condition),utils,options.key]}));vnode=(0,vue__WEBPACK_IMPORTED_MODULE_3__.wy)(vnode,s)}return vnode},RenderComponents=e=>{const t=e.slotOptions||{},n=t.props||[],r=t.receiver||[],o=n.reduce(((e,t,n)=>{try{e[t.prop]={..._UTILS.scope.formData,..._UTILS.scope.depOptions}[t.value]}catch(r){console.log(r)}return e}),{}),l=_UTILS.emitEvent("formEvent",e.formElementType),a=r.reduce(((t,n,r)=>(t[UperHelper(n)]=function(t){l({type:n,key:e.key,value:t})},t)),{});return ParseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(e.component,{...o,...a}),e,_UTILS)},GetComponentDeps=e=>"string"==typeof e?e in myThis.depOptions?myThis.depOptions[e]:(console.warn("invalid depName:"+e),[]):Array.isArray(e)?e:void console.warn("invalid depName type:"+typeof e+", must be Array or String"),ParseTempSyntax=function(e){if("string"==typeof e){const t=e.match(TemplateReg);t&&t.length>0&&t.map((t=>{const n=t.replace("{{","").replace("}}",""),r=Object.assign({},_UTILS.scope.formData,_UTILS.scope.depOptions),o=r[n];e=e.replace(t,o)}))}return e},RulesState=(()=>{const e=[];return{resetState(t,n){const r=e.indexOf(t);n?r>=0&&e.splice(r,1):-1==r&&e.push(t)},getDeleteKey(){return e},resetRules(e){window["StateLib"+myThis._raw]=this}}})(),PositionChanger=function(e,t){const n=myThis.quickOptions.formOptions;if(e>=0&&t>=0&&e!==t){const r=n.splice(e,1)[0];e>t?n.splice(t,0,r):n.splice(t-1,0,r),_emitEvent("optionChange")({targetOption:r,start:e,end:t,currentOptions:JSON.stringify(_UTILS.getGlobalOptions())}),myThis.$forceUpdate()}};return _UTILS.scope=myThis,_UTILS.emit=_emitVal,_UTILS.getModelValue=getModelValue,_UTILS.eventMap=eventMap,_UTILS.createEventMap=createEventMap,_UTILS.GetCombinationType=GetCombinationType,_UTILS.GetLayout=GetLayout,_UTILS.GetDrag=GetDrag,_UTILS.upDateFromData=upDateFromData,_UTILS.getMountModelValue=getMountModelValue,_UTILS.createElementDeep=createElementDeep,_UTILS.GetParentModelVal=GetParentModelVal,_UTILS.emitEvent=_emitEvent,_UTILS.parseDirective=ParseDirective,_UTILS.renderComponents=RenderComponents,_UTILS.clearHandleProps=ClearHandleProps,_UTILS.getComponentDeps=GetComponentDeps,_UTILS.parseTempSyntax=ParseTempSyntax,_UTILS.rulesState=RulesState,_UTILS.positionChanger=PositionChanger,_UTILS.getGlobalOptions=()=>myThis.quickOptions,_UTILS},MainRender=function(){return{render(){const e=this,t=e.quickOptions.formOptions||[],n=(e.depOptions,MountMainUtils(e)),r=ElementCreator.formFrame(t,n);return r}}},_QuickForm={...Props,..._Data,...Methods,..._utils_directives__WEBPACK_IMPORTED_MODULE_1__.Z,...MainRender()},QuickForm=function(e){return(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(_QuickForm,e)},HasDirective=e=>Boolean(_utils_directives__WEBPACK_IMPORTED_MODULE_1__.Z.directives[e]),mount=function(e){e.component("quick-form",_QuickForm),_app=e};__webpack_exports__["ZP"]={install:mount}},7279:function(e,t){const n="sif",r={directives:{[n]:{updated:(()=>{let e=null,t=null;return(r,o)=>{const l=o.arg;if(!l)return;const a=r.style.display,i=o.modifiers;l.scope._rules;null==e&&(e=a),l.rulesState.resetState(i,o.value),l.scope.$nextTick((()=>{o.value?r.style.display=e:r.style.display="none"})),t&&clearTimeout(t),t=setTimeout((()=>{l.rulesState.resetRules(n)}),200)}})()}}};t["Z"]=r},4599:function(e,t,n){var r=n(1775),o=n(2179),l=n(5905);const a={quickHeader:{background:"rgb(32,161,98)",height:"64px",width:"100%",position:"fixed",top:"0",left:0,fontSize:"32px",color:"#fff",lineHeight:"64px",padding:"0 20px",zIndex:9999},quickSubTitle:{fontSize:"16px"},github:{float:"right",marginRight:"40px",marginTop:"14px",cursor:"pointer"}};var i=(0,o.aZ)({setup(){const{classes:e}=window._createStyleSheet(a),t=n(4147),r=()=>{window.open("https://github.com/allensunjian/quick-form")};return()=>(0,o.Wm)("div",{class:e.quickHeader},[(0,o.Wm)("span",null,[(0,o.Uk)("QUICK-FORM")," ",(0,o.Wm)("span",{class:e.quickSubTitle},[(0,o.Uk)("--v"),t.version])]),(0,o.Wm)("svg",{class:e.github,onClick:r,height:"32","aria-hidden":"true",viewBox:"0 0 16 16",version:"1.1",width:"32","data-view-component":"true"},[(0,o.Wm)("path",{"fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"},null)])])}}),_=n(4463),s=n(5854);const u={code:String,height:Number},c=(e,t)=>{const n=s.j6.create(e?.refs.monaco,{theme:"vs-dark",readOnly:!1,value:t,minimap:{enabled:!1},tabSize:2,scrollBeyondLastLine:!1});return n};var p=(0,o.aZ)({props:u,emits:["getCode"],setup(e,{emit:t}){const n=(0,o.FN)(),{code:r,height:a}=(0,l.BK)(e);let i=null;const _={quickEditorWrap:{width:"600px",height:a.value+"px",display:"inline-block",position:"relative"},mocaWarp:{width:"600px",height:a.value+"px",display:"inline-block"},quickRun:{position:"absolute",top:"0px",right:0,color:"#fff",background:"green",display:"inline-block",padding:"2px 8px","border-radius":"2px",cursor:"pointer"}},{classes:s}=window._createStyleSheet(_);(0,o.bv)((()=>{i?i.setValue(r.value):(i=c(n,r.value),(0,o.Y3)((()=>{console.log(i.getAction(["editor.action.formatDocument"]))})))}));const u=()=>{t("getCode",i.getValue())};return(0,o.YP)(r,(()=>{i&&i.setValue(r.value)})),function(){return(0,o.Wm)("div",{class:s.quickEditorWrap},[(0,o.Wm)("div",{class:s.mocaWarp,ref:"monaco"},null),(0,o.Wm)("span",{onClick:u,class:s.quickRun},[(0,o.Uk)("运行")])])}}});const m={code:String,height:Number,title:String},d={quickCodeViewTitle:{fontSize:"22px",textAlign:"center",color:"#fff",paddingTop:"40px"}};var E=(0,o.aZ)({props:m,emits:["codeChange"],setup(e,{slots:t,emit:n}){const{code:r}=(0,l.BK)(e),a=(0,l.qj)({_code:e.code,_height:e.height,_title:e.title}),i=e=>{a._code=e},s=e=>{n("codeChange",e)},{classes:u}=window._createStyleSheet(d);return(0,o.YP)(r,(e=>{a._code=e})),()=>(0,o.Wm)("div",null,[(0,o.Wm)("div",{class:u.quickCodeViewTitle},[a._title]),(0,o.Wm)("div",null,[t.default?t.default():""]),(0,o.Wm)("div",{style:"margin-top: 40px"},[(0,o.Wm)(_.Z,{height:a._height,code:a._code,onCodeChange:s},null),(0,o.Wm)(p,{height:a._height,code:a._code,onGetCode:i},null)])])}}),f=n(2262);const h={dragLayout:{height:"800px"},dragTitle:{padding:"40px 0 80px 0",color:"#fff",fontSize:"22px",textAlign:"center"},dragContent:{display:"flex",height:"600px",background:"#fff",boxSizing:"border-box"},toolbar:{flex:"0 0 80px",borderRight:"3px solid rgb(158,204,171)",display:"flex",flexDirection:"column",alignItems:"center",padding:"10px 0",boxSizing:"border-box"},dragView:{display:"flex",flex:1},toolbarItem:{flex:" 0 0 60px",width:"60px",alignItems:"center",justifyContent:"center",display:"flex",border:"1px dashed var(--el-border-color);",cursor:"pointer",marginBottom:"10px"},dragElementView:{padding:"20px",display:"flex",flex:1,border:"2px dashed var(--el-color-primary-dark-2)",justifyContent:"center",alignItems:"center",fontSize:"20px",height:"100%",color:"var(--el-menu-border-color)",boxSizing:"border-box"},stateOver:{border:"1px solid var(--el-color-success)",boxSizing:"border-box"}},v={toolTip:{display:"flex",width:"100%",height:"100%",color:"var(--el-menu-border-color)",alignItems:"center","justify-content":"center","font-size":"20px","pointer-events":"none"},"toolTip__state--danger":{color:"var(--el-color-danger)"},"toolTip__state--warn":{color:"var(--el-color-warning)"},"toolTip__state--success":{color:"var(--el-color-success)"}};var y;(function(e){e["warn"]="toolTip__state--warn",e["danger"]="toolTip__state--danger",e["success"]="toolTip__state--success"})(y||(y={}));const g="quick-form__state--element-over";var D=(0,o.aZ)({setup:()=>{let e=(0,o.FN)();const{classes:t}=window._createStyleSheet(h),n=window._createStyleSheet(v),r=(e,n,r)=>{const l=k(e.elementType,e.viewType,e.componentName),a=(0,o.Wm)("div",{draggable:"true",class:t.toolbarItem,onDrag:l.drag,onDragleave:l.dragleave,onDragover:l.dragover},[r.length>0?r:n]);return(0,o.Y3)((()=>{P.setEl(e.componentName,a)})),a},a={"shotcut-view":r,"shotcut-input":r,"shotcut-button":r,"shotcut-text":r,"shotcut-select":r,"shotcut-radio":r,"shotcut-checkbox":r,"shotcut-textarea":r},i={"container-view":(e,n,r)=>{const l=k(e.elementType,e.viewType,e.componentName),a=(0,o.Wm)("div",{draggable:"true",class:t.dragElementView,onDrag:l.drag,onDragleave:l.dragleave,onDragover:l.dragover,onMousemove:l.mousemove},[r.length>0?r:c.getQuickForm(e)]);return(0,o.Y3)((()=>{P.setEl(e.componentName,a)})),a}},_={formOptions:[],layout:{labelWidth:100,size:"default",labelPosition:"right"}},s=(0,l.qj)({}),u=(0,l.qj)({}),c={getQuickForm:function(e){s[e.componentName]||(s[e.componentName]=JSON.parse(JSON.stringify(_))),u[e.componentName]||(u[e.componentName]={});const t=(0,o.h)("div",{class:"dragFormWrap"},[(0,o.h)("div",{class:"quick-form__state--align--center quick-form__state--mb--20 quick-form__fc--default"},[`表单${e.componentName}`]),(0,o.h)(f.XX,{ref:e.componentName,formData:u[e.componentName],quickOptions:s[e.componentName]})]);return t},itemGenFac:function(e){return(0,o.Wm)((0,o.up)("el-dialog"),{modelValue:m.value,title:"Tips",width:"30%"},{default:()=>[(0,o.Wm)("span",null,[(0,o.Uk)("This is a message")])]})}},p={"utils-tooltip":(e,t)=>(0,o.Wm)("div",{class:[n.classes[y[t]],n.classes.toolTip]},[e])},m=(0,l.iH)(!1),d=(()=>{const e=(0,l.qj)({formItemData:{},titleType:""}),t={input:(e,t,n,r)=>Object.assign({formElementLabel:e,key:t,placeholder:n||"请输入"+e,formElementType:"input"},r?{format:r}:{}),select:(e,t,n,r)=>Object.assign({formElementLabel:e,key:t,placeholder:"请选择",options:n,formElementType:"select"},r?{format:r}:{})},n={formElementLabel:t.input("列名","formElementLabel"),key:t.input("主键","key"),placeholder:t.input("占位符","placeholder"),directives:t.input("指令","directives","请输入指令如sif=scope.state == 1 && scope.name == ''",(function(e){let t="";const n=/(?<!=)=(?!=)/;if(!e)return"";try{t=e.split(",").reduce(((e,t)=>{const r=t.split(n);if(!(0,f.VC)(r[0]))throw`未定义的指令${r[0]}`;return e.push([r[0],r[1]]),e}),[])}catch(r){console.error("quick-form 表单指令格式错误",r),t=""}return console.log(t),t})),children:t.input("子属性","children","请输入子属性多个属性用逗号隔开",(function(e){return e.split(",")})),defaultValue:t.input("默认值","defaultValue"),type:t.input("元素类型","type"),textValue:t.input("默认值","textValue"),multiple:t.select("是否多选","multiple",[{label:"是",value:!0},{label:"否",value:!1}]),options:t.input("选项设置","options","请输入选项如；label=男&value=0,label=女&value=1",(function(e){try{return e.split(",").reduce(((e,t)=>{const n=t.split("&").reduce(((e,t)=>{const n=t.split("=");return e[n[0]]=n[1],e}),{});return e.push(n),e}),[])}catch(t){return console.error("quick-form 选项解析错误",t),[]}})),childrenOptions:t.input("选项设置","childrenOptions","请输入选项如；label=男&value=0,label=女&value=1",(function(e){try{return e.split(",").reduce(((e,t)=>{const n=t.split("&").reduce(((e,t)=>{const n=t.split("=");return"label"==n[0]?e.children=[n[1]]:"value"==n[0]&&(e.label=n[1]),e}),{});return e.push(n),e}),[])}catch(t){return console.error("quick-form 选项解析错误",t),[]}}))},r={"shotcut-input":["formElementType:input","formElementLabel","key","placeholder","directives","defaultValue"],"shotcut-textarea":["formElementType:input:textarea","formElementLabel","key","placeholder","directives","defaultValue"],"shotcut-button":["formElementType:button","formElementLabel","type","children","directives"],"shotcut-text":["formElementType:text","formElementLabel","textValue","directives"],"shotcut-select":["clearable:true","formElementType:select","formElementLabel","key","options","defaultValue","multiple","directives"],"shotcut-radio":["formElementType:radio","formElementLabel","key","childrenOptions","defaultValue","directives"],"shotcut-checkbox":["formElementType:checkbox","formElementLabel","key-array","childrenOptions","defaultValue","directives"]};let o={},a={};const i=t=>{const r=e=>"true"==e||"false"!=e&&e;return t.map((t=>{const l=t.split(":"),i=t.split("-");if(2==i.length){const t=i[1],r=i[0];return a[r]=t,e.formItemData[r]="",n[r]}if(2==l.length)return e.formItemData[l[0]]=r(l[1]),{};if(3==l.length)return console.log(l),e.formItemData[l[0]]=`${l[1]}:${l[2]}`,{};if(e.formItemData[t]="",t in n){const e=n[t];return"format"in e&&(o[e.key]=e.format),n[t]}}))},_=e=>JSON.parse(JSON.stringify(e)),s=()=>_(e.formItemData),u=()=>{m.value=!1,c=null,d("user cancel"),e.formItemData={},o={}};let c=null,p=null,d=null;return{getCurrentKeyTypes:e=>(console.log(a),a[e]),clearCurrentKeyTypes:()=>a={},genConifgForm(t){c=t,e.titleType=c;const n=i(r[c]);return w.formOptions=n,m.value=!0,new Promise(((e,t)=>{p=e,d=t}))},submitFormItem(){const e=s();Object.keys(e).forEach((t=>{o[t]&&(e[t]=o[t](e[t]))})),p(e),u()},cancel:u,getFormState(){return e.formItemData},getTitleType:()=>e.titleType}})();(0,l.iH)([]);let E="";const D={viewType:"",elementType:"",componentName:""},T=(0,l.iH)([]),O=e=>t=>e(t?.target,t),M=(()=>{let e=null;return{setOver:O(((t,n)=>{t&&(e=t,t.classList.add(g))})),setDefault:O(((t,n)=>{t&&t.classList.remove(g),e&&e.classList.remove(g)}))}})(),b=(()=>{const e={},t={},n={};let r=[];const o=(e,t,n,r)=>{const o=`${t}-${n}`,l=[],a=null;return{viewType:e,elementType:t,componentName:o,children:l,target:a,title:r}},l=e=>n[e],_=(e,t)=>{let r=null,o=0;r=setInterval((()=>{20==o&&clearInterval(r),t.el?(n[e].target=t.el,clearInterval(r)):o++}),50)},s=e=>({render:()=>e.map((e=>"shotcut"==e.viewType?a[e.elementType](e,e.title?e.title:e.componentName,e.children):"component"==e.viewType?i[e.elementType](e,e.title?e.title:e.componentName,e.children):void 0))}),u=e=>{if(!e)return"";const t=[],n=e.viewType,r=e.elementType;e.option;return"component"==n?i[r](e,e.title,e.children.map((e=>u(e)))):"utils"==n?p[r]("请首先放置容器元素","warn"):t},c=e=>(c.cachce=t[e],{...t[e],...s(t[e])}),m=(e,r)=>{if(r in n){delete n[r];const o=t[e].findIndex((e=>e.componentName==r));if(-1==o)return;t[e].splice(o,1)}},d=(l,a,i)=>{let _={};if(r.indexOf(l)>=0){e[l]++;const r=e[l],s=o(l,a,r,i);t[l].push(s),n[s.componentName]=_=s}return _},E=n=>(r=n,n.forEach((n=>{t[n]=[],e[n]=0})),{register:d,getInfos:c,setEl:_,getRegisterInfo:l,renderVNodeFromElementInfo:u,remove:m});return{init:E}})(),P=b.init(["component","container","shotcut"]),k=(()=>(t,n,r)=>{const o=(e,t)=>function(e){t.call(this,e)},l=(e,t)=>o(e,t),a=l("drag",(e=>{r&&(E=r)})),i=l("dragleave",(e=>(M.setDefault(),console.log("leave",r),e.stopPropagation(),e.preventDefault()))),_=l("dragover",(e=>{if(!(r&&r?.indexOf("shotcut")>=0)){if(D.componentName=r||"",D.elementType=t,D.viewType=n,r){const e=P.getRegisterInfo(r);M.setOver({target:e.target})}return e.stopPropagation(),e.preventDefault()}})),c=l("mousemove",(e=>{})),p=l("drop",(n=>{if("container"==D.viewType){if(!E)return;const e=P.getRegisterInfo(E);"shotcut"==e.viewType&&("shotcut-view"!==e.elementType?T.value={viewType:"utils",elementType:"utils-tooltip",option:{title:"请首先放置容器",type:"warn"}}:T.value=P.register("component",t))}else{const t=P.getRegisterInfo(D.componentName),n=P.getRegisterInfo(E);"shotcut"==n.viewType&&("shotcut-view"==n.elementType?(t.children.push(P.register("component","container-view")),e.$forceUpdate()):d.genConifgForm(n.elementType).then((e=>{if(console.log(e),e.key){const n=d.getCurrentKeyTypes("key");console.log(1111,n),u[t.componentName][e.key]="array"==n?e.defaultValue.split(","):e.defaultValue,console.log(u[t.componentName])}window.FormQuickDataLib=u,console.log("动态表单配置",e),s[t.componentName].formOptions.push(e)})).catch((e=>{console.log(e)})))}return M.setDefault(),D.componentName="",D.elementType="",D.viewType="",n.stopPropagation(),n.preventDefault()}));return{drag:a,dragleave:i,dragover:_,drop:p,mousemove:c}})();let C=!1;const L=e=>(!C&&e.forEach((e=>{P.register("shotcut",e.elementType,e.title)})),C=!0,P.getInfos("shotcut").render()),I=k("container-view","container"),w=(0,l.qj)({formOptions:[],layout:{labelWidth:100,size:"default",labelPosition:"right"}}),U=()=>{Object.keys(s).forEach((e=>{s[e].drag=!s[e].drag}))};return function(){return e=this,(0,o.Wm)("div",{class:t.dragLayout},[(0,o.Wm)("div",{class:t.dragTitle},[(0,o.Uk)("拖拽布局"),(0,o.Wm)((0,o.up)("el-button"),{style:"float: right",onClick:U,size:"small",type:"primary"},{default:()=>[(0,o.Uk)("开始/结束编辑")]})]),(0,o.Wm)("div",{class:t.dragContent},[(0,o.Wm)("div",{class:t.toolbar},[L([{elementType:"shotcut-view",title:"容器"},{elementType:"shotcut-input",title:"输入"},{elementType:"shotcut-button",title:"按钮"},{elementType:"shotcut-text",title:"文本"},{elementType:"shotcut-select",title:"选择"},{elementType:"shotcut-radio",title:"单选"},{elementType:"shotcut-checkbox",title:"多选"},{elementType:"shotcut-textarea",title:"文本域"}])]),(0,o.Wm)("div",{draggable:"false",class:t.dragView,onDrop:I.drop,onDragover:I.dragover},[[P.renderVNodeFromElementInfo(T.value)]])]),(0,o.Wm)((0,o.up)("el-dialog"),{modelValue:m.value,title:d.getTitleType()+"类型设置",showClose:!1,beforeClose:d.cancel,width:"600px"},{default:()=>[(0,o.Wm)((0,o.up)("quick-form"),{ref:"configQuickForm",quickOptions:w,"form-data":d.getFormState()},null),(0,o.Wm)("div",{style:"text-align: right"},[(0,o.Wm)((0,o.up)("el-button"),{type:"warning",size:"small",onClick:d.cancel},{default:()=>[(0,o.Uk)("取消")]}),(0,o.Wm)((0,o.up)("el-button"),{type:"primary",size:"small",onClick:d.submitFormItem},{default:()=>[(0,o.Uk)("保存")]})])]})])}}});const T={quickWrap:{width:"1400px",margin:"0 auto"},quickContentSubTitle:{textAlign:"center",fontSize:"20px",color:"#fff",paddingTop:"40px"},controll_warp:{textAlign:"right"}};var O=(0,o.aZ)({setup(){const{classes:e}=window._createStyleSheet(T),t=e=>`\n      FromData.value = {\n        account: "",\n        bankType: null,\n        othersAccount: "",\n        amount: 0,\n        remark: 1111,\n        date: "2022-05-25",\n        timeData: new Date(2000, 1, 1, 12, 0, 0),\n        daterangeData: ["2022-05-01", "2022-05-05"],\n        state: 2,\n        checkboxData: [2],\n        fileList: [],\n        switchData: false,\n      };\n      QuickForm=${e}\n      `,n=function(e){return`\n      FromData.value = {\n        account: "",\n        bankType: null,\n        othersAccount: "",\n        amount: 0,\n        remark: 1111,\n        date: "2022-05-25",\n        timeData: new Date(2000, 1, 1, 12, 0, 0),\n        daterangeData: ["2022-05-01", "2022-05-05"],\n        state: 2,\n        checkboxData: [2],\n        fileList: [],\n        switchData: false,\n      };\n      QuickForm = {\n        formOptions: [\n            {\n        formElementLabel: "开户行",\n        formElementType: "select",\n        key: "bankType",\n        placeholder: "请选择银行",\n        options: [\n          { label: "中国银行", value: 1 },\n          { label: "建设银行", value: 2 },\n          { label: "农业银行", value: 3 },\n          { label: "建设银行", value: 4 },\n        ],\n      },\n      {\n        tirrgerEvents: ["mouseover"],\n        formElementLabel: "账号：",\n        formElementType: "input",\n        key: "account",\n        placeholder: "请填写银行账号",\n      },\n      {\n        formElementLabel: "对方账号：",\n        formElementType: "input",\n        key: "othersAccount",\n        placeholder: "请填写对方账号",\n      },\n      {\n        formElementLabel: "转账金额：",\n        // formElementType: "container", // 如果没有第一层级的 type 那么默认是container\n        childrenOptions: [\n          {\n            formElementType: "input:number",\n            key: "amount", // mountModelValue: "amount", mountModelValue 绑定优先级大于 key\n          },\n          {\n            formElementType: "text",\n            textValue: "元",\n            style: "margin-left: 10px; color:red",\n          },\n        ],\n      },\n      {\n        formElementLabel: "备注",\n        formElementType: "input:textarea",\n        placeholder: "请填写备注",\n        key: "remark",\n      },\n      {\n        formElementLabel: "到账类型",\n        formElementType: "radio",\n        key: "state",\n        childrenOptions: [\n          { label: 1, children: ["立即"] },\n          { label: 2, children: ["延时"] },\n        ],\n      },\n      {\n        formElementLabel: "日期",\n        directives: [["sif", "scope.state == 2"]],\n        childrenOptions: [\n          {\n            formElementType: "date",\n            key: "date",\n            type: "date",\n            placeholder: "预约日期",\n            format: "YYYY/MM/DD",\n            valueFormat: "YYYY-MM-DD",\n          },\n          {\n            formElementType: "time",\n            key: "timeData",\n            type: "time",\n            placeholder: "时间",\n          },\n        ],\n      },\n      {\n        formElementLabel: "日期",\n        formElementType: "text",\n        textValue: "{{date}}   {{timeData}}",\n      },\n      {\n        formElementLabel: "通知类型",\n        formElementType: "checkbox",\n        key: "checkboxData",\n        childrenOptions: [\n          { label: 1, children: ["电话通知"] },\n          { label: 2, children: ["短信通知"] },\n          { label: 3, children: ["邮件通知"] },\n        ],\n      },\n      {\n        formElementLabel: "上传凭证",\n        formElementType: "upload",\n        key: "fileList",\n        action: "#",\n        listType: "picture-card",\n        autoUpload: false,\n        children: [\n          {\n            formElementType: "icon",\n            children: ['上传']\n          },\n        ],\n      },\n      {\n        formElementLabel: "开关",\n        formElementType: "switch",\n        key: "switchData"\n      }\n        ],\n        layout: {\n      labelWidth: 100,\n      size: "default",\n      labelPosition: "right",\n    },\n        drag: ${e},\n      };\n      \n      `},r=((0,o.FN)(),(0,l.qj)({RefCode:n(!1),inputCode:'\n        FromData.value = {\n          inputValue1: "",\n          inputValue1: 0,\n          inputValue2: "",\n        };\n        QuickForm = {\n          formOptions: [\n            {\n              formElementLabel: "text",\n              formElementType: "input",\n              key: "inputValue",\n              placeholder: "placeholder",\n            },\n            {\n              formElementLabel: "number",\n              formElementType: "input:number",\n              key: "inputValue1",\n              placeholder: "placeholder",\n            },\n            {\n              formElementLabel: "textarea",\n              formElementType: "input:textarea",\n              key: "inputValue2",\n              placeholder: "placeholder",\n            },\n            {\n              formElementLabel: "maxlengh",\n              formElementType: "input:textarea",\n              key: "inputValue2",\n              maxlength:"100",\n              showWordLimit: true,\n              placeholder: "placeholder",\n            },\n          ],\n          layout: {\n            labelWidth: 100,\n            size: "default",\n            labelPosition: "right",\n          },\n        }\n      ',btnCode:'\n      QuickForm = {\n        formOptions: [\n          {\n            formElementType: "button",\n            formElementLabel: "默认按钮：",\n            childrenOptions: [\n              {\n                formElementType: "button",\n                children: ["default"]\n              },\n              {\n                formElementType: "button",\n                type:"primary",\n                children: ["primary"]\n              },\n              {\n                formElementType: "button",\n                type:"success",\n                children: ["success"]\n              },\n              {\n                formElementType: "button",\n                type: "info",\n                children: ["info"]\n              },\n              {\n                formElementType: "button",\n                type: "danger",\n                children: ["danger"]\n              },\n            ],\n          },\n          {\n            formElementType: "button",\n            formElementLabel: "圆角按钮：",\n            childrenOptions: [\n              {\n                formElementType: "button",\n                children: ["default"],\n                round: true\n              },\n              {\n                formElementType: "button",\n                type:"primary",\n                children: ["primary"],\n                round: true\n              },\n              {\n                formElementType: "button",\n                type:"success",\n                children: ["success"],\n                round: true\n              },\n              {\n                formElementType: "button",\n                type: "info",\n                children: ["info"],\n                round: true\n              },\n              {\n                formElementType: "button",\n                type: "danger",\n                children: ["danger"],\n                round: true\n              },\n            ],\n          }\n        ],\n        layout: {\n          labelWidth: 100,\n          size: "default",\n          labelPosition: "right",\n        },\n      }',checkboxOrRadioCode:'\n      FromData.value = {\n        radio: 1,\n        checkboxValue: []\n      };\n      QuickForm = {\n        formOptions: [\n          {\n            formElementLabel: "单选",\n            formElementType: "radio",\n            key: "radio",\n            childrenOptions: [\n              { label: 1, children: ["选项1"]},\n              { label: 2, children: ["选项2"]},\n            ]\n          },\n          {\n            formElementLabel: "多选",\n            formElementType: "checkbox",\n            key: "checkboxValue",\n            childrenOptions: [\n              { label: 1, children: ["选项1"]},\n              { label: 2, children: ["选项2"]},\n              { label: 3, children: ["选项3"]},\n              { label: 4, children: ["选项4"]},\n            ]\n          },\n\n        ],\n        layout: {\n          labelWidth: 100,\n          size: "default",\n          labelPosition: "right",\n        },\n      }\n      ',selectCode:'\n      FromData.value = {\n        selectValue: "",\n        multipleSelectValues: []\n      };\n      QuickForm = {\n        formOptions: [\n          {\n            formElementLabel: "单选",\n            formElementType: "select",\n            key: "selectValue",\n            placeholder: "请选择",\n            options: [\n              { label: "选项1", value: 1 },\n              { label: "选项2", value: 2 },\n              { label: "选项3", value: 3 },\n              { label: "选项4", value: 4 },\n            ],\n          },\n          {\n            formElementLabel: "多选",\n            formElementType: "select",\n            key: "multipleSelectValues",\n            multiple: true,\n            placeholder: "请选择",\n            options: [\n              { label: "选项1", value: 1 },\n              { label: "选项2", value: 2 },\n              { label: "选项3", value: 3 },\n              { label: "选项4", value: 4 },\n            ],\n          }\n        ],\n        layout: {\n          labelWidth: 100,\n          size: "default",\n          labelPosition: "right",\n        },\n      }\n      ',dragDemo:n(!1),dragCompilte:!1}));let a="";const _={toDrag:()=>{r.dragCompilte=!0,r.dragDemo=n(!0)},compilte:()=>{r.dragDemo=a,r.dragCompilte=!1},codeChange(e){a=JSON.parse(e),a.drag=!1,a=t(JSON.stringify(a))}};return()=>(0,o.Wm)("div",{class:e.quickWrap},[(0,o.Wm)(i,null,null),(0,o.Wm)(E,{height:300,code:r.inputCode,title:"--简单的使用input--"},null),(0,o.Wm)(E,{height:300,code:r.selectCode,title:"--简单的使用select--"},null),(0,o.Wm)(E,{height:250,code:r.btnCode,title:"--简单的使用button--"},null),(0,o.Wm)(E,{height:450,code:r.checkboxOrRadioCode,title:"--简单的使用radio/checkbox--"},null),(0,o.Wm)(E,{height:800,code:r.RefCode,title:"--较完整的例子--"},null),(0,o.Wm)(E,{height:800,code:r.dragDemo,title:"--可拖拽的例子--",ref:"dragView",onCodeChange:_.codeChange},{default:()=>[(0,o.Wm)("div",{class:e.controll_warp},[r.dragCompilte?(0,o.Wm)((0,o.up)("el-button"),{type:"primary",onClick:_.compilte},{default:()=>[(0,o.Uk)("拖拽完成")]}):(0,o.Wm)((0,o.up)("el-button"),{type:"primary",onClick:_.toDrag},{default:()=>[(0,o.Uk)("拖拽表单")]})])]}),(0,o.Wm)(D,null,null)])}}),M=n(3815);(0,M.z)("/quick-form-example/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var b=n(4500),P=(n(4766),n(3638)),k=n(4126),C=n(619);function L(){return P.ZP.setup((0,k.Z)()),{install(e){window._createStyleSheet=e.config.globalProperties=e=>P.ZP.createStyleSheet(e).attach()}}}(0,r.ri)(O).use(L()).use(C.Z).use(b.ZP).mount("#app")},4463:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2179),vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5905);__webpack_exports__["Z"]=(0,vue__WEBPACK_IMPORTED_MODULE_0__.aZ)({props:{code:String,height:Number},emits:["codeChange"],setup(props,{emit:emit}){const{code:code,height:height}=(0,vue__WEBPACK_IMPORTED_MODULE_1__.BK)(props),FromData=(0,vue__WEBPACK_IMPORTED_MODULE_1__.iH)({});let QuickForm={};const parserClasses={quickParser:{width:"800px",height:height.value+"px",display:"inline-block",float:"right",padding:"20px 0",background:"#fff",boxSizing:"border-box"}},FormEvent=e=>{"optionChange"==e.type&&emit("codeChange",e.val.currentOptions)},FormChange=e=>{console.log("change",e)},{classes:classes}=window._createStyleSheet(parserClasses),upDateQuickElement=()=>{FromData.value={},QuickForm={},eval(code.value)};return upDateQuickElement(),(0,vue__WEBPACK_IMPORTED_MODULE_0__.YP)(code,upDateQuickElement),function(){return(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)("div",{class:classes.quickParser},[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)((0,vue__WEBPACK_IMPORTED_MODULE_0__.up)("quick-form"),{"form-data":FromData.value,quickOptions:QuickForm,onFormEvent:FormEvent,onFormChange:FormChange},null)])}}})},2262:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{VC:function(){return HasDirective},XX:function(){return QuickForm}});var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9137),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_0__),_utils_directives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(380),vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2179),element_plus__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(918),element_plus__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8177),element_plus__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7650),element_plus__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1845),element_plus__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2300),element_plus__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(480),element_plus__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4161),element_plus__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(6831),element_plus__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(447),element_plus__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(662),element_plus__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(5957),element_plus__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6243),_element_plus_icons_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4726);let _app=null;const _EVENT_="formChange",_FROM_EVENT_="formEvent",EVENT_CHANGE="change",TEXT_EL="span",FROM_INS="_quickFrom",FROM_C="quick-form__label--container",FROM_C_EL="div",FORM_EL_IMG="img",HandleProps=["children","options","directives","formElementType","formElementLabel","key","tirrgerEvents","textValue","currentPropPath","itemStyle","preventDefaultEvent","component","slotOptions","optionLabelKey","optionValueKey","mainType","subType","mountModelValue","showControll","childrenOptions"],TemplateReg=/\{\{.*?\}\}/g,emitVal=e=>(t,n)=>(r,o={})=>{e.$emit(_EVENT_,{type:t,key:n,val:r,...o})},emitEvent=e=>(t,n)=>r=>{e.$emit(_FROM_EVENT_,{type:t,key:n,val:r})},Throttling=function(e,t){let n=null;return function(...r){n&&clearTimeout(n),n=setTimeout((()=>{t.apply(void 0,r),clearTimeout(n)}),e)}},VnodeImg={props:{imgOption:{type:Object,default:()=>({})},imgData:{type:Object,default:()=>({})},imgControll:{type:Array,default:()=>[]},showControll:{type:Boolean,default:!0},currentIndex:{type:Number,default:null}},render(){const e=this,t=e.imgOption,n=e.imgControll;var r=e.showControll;const o=e.currentIndex,l={preview:()=>ElementCreator.icon({children:[_element_plus_icons_vue__WEBPACK_IMPORTED_MODULE_2__.Gq5],...i,onClick:_("preview")}),download:()=>ElementCreator.icon({children:[_element_plus_icons_vue__WEBPACK_IMPORTED_MODULE_2__.UWx],...i,onClick:_("download")}),delete:()=>ElementCreator.icon({children:[_element_plus_icons_vue__WEBPACK_IMPORTED_MODULE_2__.HG3],...i,onClick:_("delete")})};var a=()=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(FORM_EL_IMG,{src:e.imgData.url,height:100,...t,class:"quick-form__imglist--item"});const i={size:16,color:"#fff"},_=t=>()=>{e.$emit("imgEvent",t,o)};return(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(FROM_C_EL,{class:"quick-form__imglist--itemwarp",style:"height: 100px"},r&&0<n.length?[a(),(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(FROM_C_EL,{class:"quick-form__imglist--itemModal"},(()=>Array.isArray(n)?n.map((e=>e in l?l[e]():"")):[])())]:[a()])}},VnodeImgList={props:{listOption:{type:Object,default:()=>({})},imgList:{type:Array,default:()=>[]}},render(){const e=this,t=e.listOption;let n=e.imgList;function r(t,n){e.$emit(t,n)}return Array.isArray(n)||(n=[],console.error("传入的图片数据结构不是个数组！")),(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(FROM_C_EL,{class:FROM_C},n.map?n.map(((e,n)=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(VnodeImg,{imgData:e,imgOption:t.itemStyle||{},imgControll:t.controll,showControll:"boolean"!=typeof t.showControll||t.showControll,currentIndex:n,onImgEvent:r}))):[])}},ElementCreator={switch:(e,t)=>{t.emit("change",e.key);var n=t.clearHandleProps(e);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_4__.OX,{...n,...t.createEventMap(e,t),modelValue:t.getModelValue(e)}),e,t)},time:(e,t)=>{const n=t.emit("change",e.key);var r=t.clearHandleProps(e);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_5__.ah,{...r,...t.createEventMap(e,t),modelValue:t.getModelValue(e),"onUpdate:modelValue":Throttling(50,(function(r){t.upDateFromData(r,e.mountModelValue||e.key),n(r)}))}),e,t)},date:(e,t)=>{var n=t.clearHandleProps(e);const r=t.emit("change",e.key);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_6__.i,{...n,...t.createEventMap(e,t),modelValue:t.getModelValue(e),"onUpdate:modelValue":Throttling(50,(function(n){t.upDateFromData(n,e.mountModelValue||e.key),r(n)}))}),e,t)},imgList:(e,t)=>{const n=t.emitEvent("formEvent",e.formElementType);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(VnodeImgList,{imgList:t.GetParentModelVal(e.currentPropPath),listOption:e,...e,onPreview:function(t){n({type:"preview",key:e.key,index:t})},onDelete:function(t){n({type:"delete",key:e.key,index:t})},onDownload:function(t){n({type:"download",key:e.key,index:t})}}),e,t)},upload:(e,t)=>{const n="detail"==e.subType;var r=t.clearHandleProps(e);let o=e.accept;function l(e){const n=e.mountModelValue||e.key,{name:r,url:o}=e.alias||{name:"name",url:"url"};return(t.scope.formData[n]||[]).forEach((e=>{"name"in e&&"url"in e||(e.name=e[r],e.url=e[o])})),{fileList:(()=>{if(!(n in t.scope.formData))return console.warn("invalid depend key "+n),[];try{return t.scope.formData[n]}catch(e){return console.warn("invalid depend key "+n),[]}})()}}return o&&Array.isArray(o)&&(delete e.accept,o=o.join(",")),r=n?{class:"quick-form__upload--detail",...l(e),...t.createEventMap(e,t)}:{...t.createEventMap(e,t),...l(e),...r},t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_7__.LW,{...r,accept:o},(()=>n?[]:t.createElementDeep(e))),e,t)},icon:e=>{let t=[];var n=ClearHandleProps(e);try{t=(e.children||[]).map((e=>(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(e)))}catch(r){t=[]}return(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_8__.gn,{...n},(()=>t))},text:(e,t)=>{let n,r;t&&t.getModelValue&&(n=t&&t.getModelValue(e),r=t.createEventMap(e,t));var o=t.clearHandleProps(e);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(TEXT_EL,{...r,...o},[t.parseTempSyntax(e.textValue)||n||""]),e,t)},container:(e,t)=>{var n=t.clearHandleProps(e);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)("div",{...t.createEventMap(e,t),...n},t.createElementDeep(e)),e,t)},inputNumber:(e,t)=>t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_9__.d6,{modelValue:t.getModelValue(e),...t.createEventMap(e,t),...e}),e),radio:(e,t)=>{const n=e.children;return delete e.children,t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_10__.rh,{modelValue:t.getModelValue(e),onClick:Throttling(50,(()=>{t.upDateFromData(e.label,e.mountModelValue||e.key)})),...e},(()=>n)),e,t)},checkbox:(e,t)=>{const n=e.children;return delete e.children,t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_11__.Xb,{modelValue:!!Array.isArray(t.getModelValue(e))&&0<=t.getModelValue(e).indexOf(e.label),onClick:Throttling(50,(function(){const n=t.getModelValue(e);var r=n.indexOf(e.label);0<=r?n.splice(r,1):n.push(e.label)})),...e},(()=>n)),e,t)},input:(e,t)=>{if("number"==e.subType)return ElementCreator.inputNumber(e,t);var n=t.clearHandleProps(e);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_12__.EZ,{modelValue:t.getModelValue(e),...t.createEventMap(e,t),placeholder:e.placeholder,type:e.subType||"text",...n}),e,t)},select:(e,t)=>{var n=t.clearHandleProps(e),r=e.options;const o=[],l=e.optionLabelKey||"label",a=e.optionValueKey||"value";return[r=[]]=[t.getComponentDeps(r)],(r||[]).forEach((e=>{e=(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_13__.BT,{value:e[a],label:e[l]}),o.push(e)})),t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_13__.km,{modelValue:t.getModelValue(e),...t.createEventMap(e,t),...n},(()=>o)),e,t)},button:(e,t)=>{var n=t.clearHandleProps(e);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_14__.mi,n,(()=>t.createElementDeep(e))),e,t)},formFrame:(e,t)=>{const n=[];var r=t.GetLayout();return e.forEach(((e,r)=>{n.push(ElementCreator.formItemFrame(e,t,r))})),(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_15__.ly,{rules:t.scope.rules,model:t.scope.formData,ref:FROM_INS,...r},(()=>0==n.length?(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)("div",{class:"quick-form__state--align--center quick-form__fc--light"},["请设置表单元素"]):n))},formItemFrame:(e,t,n)=>{var r=e.formElementType||"container",o=e.formElementLabel,l=e.key;const a=t.GetCombinationType(r);if("slot"==a.mainType){if(!a.subType||!(a.subType in ElementCreator))return!a.subType&&e.component?t.renderComponents(e):ElementCreator.container({children:[a.subType?"无法找到插槽："+a.subType:"请传入自定义组件"]},t);ElementCreator[a.subType](e,t)}var i,_;r=t.clearHandleProps(e);return t.parseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(element_plus__WEBPACK_IMPORTED_MODULE_15__.nH,(i={...mountDrag(t,n),prop:l,label:t.parseTempSyntax(o),...r},_=t.GetDrag()?{class:"el-form-item__drag"}:{},Object.keys(_).forEach((e=>{"class"==e&&(i[e]=(i[e]||"")+" "+_[e])})),i),(()=>[((e,t,n)=>{if(e in ElementCreator){const r=[],o=t.childrenOptions;return Array.isArray(o)&&"text"!==e?(delete t.childrenOptions,o.forEach((o=>{var l=o.formElementType?n.GetCombinationType(o.formElementType):{};o.formElementType&&(e=l.mainType),r.push(ElementCreator[e]({key:t.key,...o,...l},n))})),r):[ElementCreator[e]({...t,...a},n)]}return[]})(a.mainType,{...e,...a},t)])),e,t)}},mountDrag=(()=>{let e,t=-1,n=!1;const r="quick-form__state--drag_here",o=e=>{e.dataTransfer.dropEffect="move"};return(l,a)=>{var i=l.GetDrag();return i?{style:i?"position: relative":"",draggable:!0,onDrag:e=>(o(e),n=!0,t=a,e.preventDefault()),onDragover:e=>(o(e),e.target.classList.add(r),e.preventDefault()),ondragleave:e=>(e.target.classList.remove(r),!!n&&e.preventDefault()),onDrop:o=>{o.target.classList.remove(r),n=!1,e=a,l.positionChanger(t,e),t=-1}}:{}}})(),UperHelper=e=>{const t=e.split("");return"on"+t.shift().toUpperCase()+t.join("")},ClearHandleProps=e=>{const t={};return Object.keys(e).forEach((n=>{HandleProps.includes(n)||(t[n]=e[n])})),t},eventMap=(()=>{const e=["input","change","blur","mouseover","mouseenter"],t=(e.default="input",["change"]),n=(t.default="change",["click"]),r=(n.default="click",["preview","remove","success","error","progress","change","exceed","upload","remove"]),o=(r.default="change",["click","mouseover","mouseenter"]),l=[o.default="click","mouseover","mouseenter","change"],a=["click","mouseover","mouseenter",l.default="change"],i=[a.default="click","mouseover","mouseenter","change","blur","focus","calendarChange","panelChange","visibleChange"],_=["click","mouseover","mouseenter",i.default="change","blur","focus","calendarChange","panelChange","visibleChange"],s=["click","mouseover","mouseenter",_.default="change"],u=(s.default="change",{input:e,select:t,text:n,upload:r,container:o,checkbox:l,radio:a,date:i,time:_,switch:s});return{getEvents:(e,t)=>{if(e in u){if(Array.isArray(t)){const r=[],o=u[e].default;var n={originalEvent:o,mountEvent:UperHelper(o)};return t.forEach((n=>{n!=o&&(u[e].includes(n)?r.push({originalEvent:n,mountEvent:UperHelper(n)}):console.warn("未在元素类型："+e+"找到："+t+"方法"))})),r.push(n),r}return u[e].default||console.warn("can not found default event in "+e),[{originalEvent:u[e].default,mountEvent:UperHelper(u[e].default)}]}return console.warn("未定义:"+e+"元素类型"),[]},getDefaultEvent:e=>u[e]?.default}})(),Methods={methods:{getFrom(){return this.$refs[FROM_INS]},addItem(e){this.quickOptions.formOptions.push(e),this._updateComponents()},_updateComponents(){const e=this;e.$nextTick((()=>{e.$forceUpdate()}))},resetRules(e){if("StateLib"+this._raw in window){const n=window["StateLib"+this._raw].getDeleteKey();var t=Object.keys(e).reduce(((t,r)=>(-1==n.indexOf(r)&&(t[r]=e[r]),t)),{});this.$emit("ruleChange",t)}return new Promise(((e,t)=>{setTimeout((()=>{e("")}),200)}))}}},_Data={data:()=>({_quickOptions:{},defaultValue:"未匹配到key",_raw:(new Date).getTime()})},Props={props:{formData:{type:Object,default:()=>({})},quickOptions:{type:Object,default:()=>({})},depOptions:{type:Object,default:()=>({})},rules:{type:Object,default:()=>({})}}},MountMainUtils=function(myThis){const _emitVal=emitVal(myThis),_emitEvent=emitEvent(myThis),_UTILS={},GetCombinationType=e=>(e=e.split(":"),{mainType:e[0],subType:e[1]}),getModelValue=e=>{let t,n=null;return e?("string"==typeof e?n=e:(n=e.key,t=e.mountModelValue),(n=t&&t in myThis.formData?t:n)in myThis.formData?myThis.formData[n]:null):null},createEventMap=(e,t)=>{if(!e.formElementType)return{};const n=GetCombinationType(e.formElementType).mainType,r=eventMap.getEvents(n,e.tirrgerEvents),o={};return r.forEach((({mountEvent:r,originalEvent:l})=>{const a=_emitVal(l,e.key);var i=eventMap.getDefaultEvent(n);o[r]=l==i?(n,r)=>{if(e.preventDefaultEvent||t.upDateFromData(n,e.mountModelValue||e.key),"select"==e.formElementType){const r=e.optionValueKey||"value",l=e.optionLabelKey||"label",i=e.redundantKeys||[];var o=t.getComponentDeps(e.options).filter((e=>e[r]==n)).map((e=>({value:e[r],label:e[l],...i.reduce(((t,n)=>(t[n]=e[n],t)),{})})));return a(n,{option:o[0]})}a(n)}:a})),o},GetLayout=()=>myThis.quickOptions.layout,GetDrag=()=>Boolean(myThis.quickOptions.drag),upDateFromData=(e,t)=>{t in myThis.formData&&(e instanceof Event||(myThis.formData[t]=e))},getMountModelValue=e=>{const t={};var n=e.mountModelValue;return"string"==typeof n&&(t[n]=myThis.formData[e.key]),t},createElementDeep=e=>{const t=e.children||[],n=e.key,r=[...e.currentPropPath||[],n],o=[];if(Array.isArray(t))return t.forEach((e=>{if("string"==typeof e)return o.push(ElementCreator.text({textValue:e},_UTILS));var t=e.formElementType;t in ElementCreator?(e.currentPropPath=r,o.push(ElementCreator[t]({...e,key:n},_UTILS))):console.warn("validate child option:"+JSON.stringify(e))})),o},GetParentModelVal=e=>{e=e.shift();var t=getModelValue(e);return t==myThis.defaultValue&&console.warn("can not found parent prop "+e),t},ParseDirective=(vnode,options,utils)=>{const directives=options.directives;if(Array.isArray(directives)){const s=directives.map((ds=>{const directive=ds[0],QueryString="_UTILS.scope.formData",QueryDepString="_UTILS.scope.depOptions",condition=ds[1].replace(new RegExp("scope","g"),QueryString).replace(new RegExp("depScope","g"),QueryDepString);return[(0,vue__WEBPACK_IMPORTED_MODULE_3__.Q2)(directive),eval(condition),utils,options.key]}));vnode=(0,vue__WEBPACK_IMPORTED_MODULE_3__.wy)(vnode,s)}return vnode},RenderComponents=e=>{var t=e.slotOptions||{};const n=t.props||[],r=t.receiver||[];t=n.reduce(((e,t,n)=>{try{e[t.prop]={..._UTILS.scope.formData,..._UTILS.scope.depOptions}[t.value]}catch(r){console.log(r)}return e}),{});const o=_UTILS.emitEvent("formEvent",e.formElementType);var l=r.reduce(((t,n,r)=>(t[UperHelper(n)]=function(t){o({type:n,key:e.key,value:t})},t)),{});return ParseDirective((0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(e.component,{...t,...l}),e,_UTILS)},GetComponentDeps=e=>"string"==typeof e?e in myThis.depOptions?myThis.depOptions[e]:(console.warn("invalid depName:"+e),[]):Array.isArray(e)?e:void console.warn("invalid depName type:"+typeof e+", must be Array or String"),ParseTempSyntax=function(e){if("string"==typeof e){const t=e.match(TemplateReg);t&&0<t.length&&t.map((t=>{var n=t.replace("{{","").replace("}}","");n=Object.assign({},_UTILS.scope.formData,_UTILS.scope.depOptions)[n];e=e.replace(t,n)}))}return e},RulesState=(()=>{const e=[];return{resetState(t,n){var r=e.indexOf(t);n?0<=r&&e.splice(r,1):-1==r&&e.push(t)},getDeleteKey(){return e},resetRules(e){window["StateLib"+myThis._raw]=this}}})(),PositionChanger=function(e,t){const n=myThis.quickOptions.formOptions;var r;0<=e&&0<=t&&e!==t&&(r=n.splice(e,1)[0],t<e?n.splice(t,0,r):n.splice(t-1,0,r),_emitEvent("optionChange")({targetOption:r,start:e,end:t,currentOptions:JSON.stringify(_UTILS.getGlobalOptions())}),myThis.$forceUpdate())};return _UTILS.scope=myThis,_UTILS.emit=_emitVal,_UTILS.getModelValue=getModelValue,_UTILS.eventMap=eventMap,_UTILS.createEventMap=createEventMap,_UTILS.GetCombinationType=GetCombinationType,_UTILS.GetLayout=GetLayout,_UTILS.GetDrag=GetDrag,_UTILS.upDateFromData=upDateFromData,_UTILS.getMountModelValue=getMountModelValue,_UTILS.createElementDeep=createElementDeep,_UTILS.GetParentModelVal=GetParentModelVal,_UTILS.emitEvent=_emitEvent,_UTILS.parseDirective=ParseDirective,_UTILS.renderComponents=RenderComponents,_UTILS.clearHandleProps=ClearHandleProps,_UTILS.getComponentDeps=GetComponentDeps,_UTILS.parseTempSyntax=ParseTempSyntax,_UTILS.rulesState=RulesState,_UTILS.positionChanger=PositionChanger,_UTILS.getGlobalOptions=()=>myThis.quickOptions,_UTILS},MainRender=function(){return{render(){var e=this.quickOptions.formOptions||[],t=(this.depOptions,MountMainUtils(this));return ElementCreator.formFrame(e,t)}}},_QuickForm={...Props,..._Data,...Methods,..._utils_directives__WEBPACK_IMPORTED_MODULE_1__.Z,...MainRender()},QuickForm=function(e){return(0,vue__WEBPACK_IMPORTED_MODULE_3__.h)(_QuickForm,e)},HasDirective=e=>Boolean(_utils_directives__WEBPACK_IMPORTED_MODULE_1__.Z.directives[e]),mount=function(e){e.component("quick-form",_QuickForm),_app=e};var __WEBPACK_DEFAULT_EXPORT__={install:mount}},380:function(e,t){const n="sif",r={directives:{[n]:{updated:(()=>{let e=null,t=null;return(r,o)=>{const l=o.arg;var a,i;l&&(a=r.style.display,i=o.modifiers,l.scope._rules,null==e&&(e=a),l.rulesState.resetState(i,o.value),l.scope.$nextTick((()=>{o.value?r.style.display=e:r.style.display="none"})),t&&clearTimeout(t),t=setTimeout((()=>{l.rulesState.resetRules(n)}),200))}})()}}};t["Z"]=r},4147:function(e){e.exports=JSON.parse('{"name":"quick-form-vue3","version":"0.1.8","private":false,"main":"build/index.js","scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","test:unit":"vue-cli-service test:unit","lint":"vue-cli-service lint"},"dependencies":{"core-js":"^3.8.3","gulp-uglify":"^3.0.2","monaco-editor":"^0.33.0","register-service-worker":"^1.7.2"},"peerDependencies":{"vue":">=3.2.0","element-plus":">=2.2.2"},"devDependencies":{"@types/jest":"^27.0.1","@typescript-eslint/eslint-plugin":"^5.4.0","@typescript-eslint/parser":"^5.4.0","@vue/cli-plugin-babel":"~5.0.0","@vue/cli-plugin-eslint":"~5.0.0","@vue/cli-plugin-pwa":"~5.0.0","@vue/cli-plugin-typescript":"~5.0.0","@vue/cli-plugin-unit-jest":"~5.0.0","@vue/cli-service":"~5.0.0","@vue/eslint-config-typescript":"^9.1.0","@vue/test-utils":"^2.0.0-0","@vue/vue3-jest":"^27.0.0-alpha.1","babel-jest":"^27.0.6","eslint":"^7.32.0","eslint-config-prettier":"^8.3.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-vue":"^8.0.3","jest":"^27.0.5","lint-staged":"^11.1.2","prettier":"^2.4.1","sass":"^1.32.7","sass-loader":"^12.0.0","ts-jest":"^27.0.4","typescript":"~4.5.5","jss":"10.9.0","jss-preset-default":"10.9.0","gulp":"^4.0.2","gulp-babel":"^8.0.0","gulp-typescript":"^6.0.0-alpha.1","merge2":"^1.4.1","rimraf":"^3.0.2"},"gitHooks":{"pre-commit":"lint-staged"}}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,function(){__webpack_require__.amdO={}}(),function(){var e=[];__webpack_require__.O=function(t,n,r,o){if(!n){var l=1/0;for(s=0;s<e.length;s++){n=e[s][0],r=e[s][1],o=e[s][2];for(var a=!0,i=0;i<n.length;i++)(!1&o||l>=o)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](n[i])}))?n.splice(i--,1):(a=!1,o<l&&(l=o));if(a){e.splice(s--,1);var _=r();void 0!==_&&(t=_)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,r,o]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,l=n[0],a=n[1],i=n[2],_=0;if(l.some((function(t){return 0!==e[t]}))){for(r in a)__webpack_require__.o(a,r)&&(__webpack_require__.m[r]=a[r]);if(i)var s=i(__webpack_require__)}for(t&&t(n);_<l.length;_++)o=l[_],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return __webpack_require__.O(s)},n=self["webpackChunkquick_form_vue3"]=self["webpackChunkquick_form_vue3"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(4599)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.d5bdd25f.js.map